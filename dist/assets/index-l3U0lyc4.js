var gE=Object.defineProperty;var um=e=>{throw TypeError(e)};var vE=(e,t,r)=>t in e?gE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var dm=(e,t,r)=>vE(e,typeof t!="symbol"?t+"":t,r),Su=(e,t,r)=>t.has(e)||um("Cannot "+r);var P=(e,t,r)=>(Su(e,t,"read from private field"),r?r.call(e):t.get(e)),de=(e,t,r)=>t.has(e)?um("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(Su(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),et=(e,t,r)=>(Su(e,t,"access private method"),r);var La=(e,t,r,n)=>({set _(s){se(e,t,s,r)},get _(){return P(e,t,n)}});function yE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function hy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var py={exports:{}},jc={},my={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),wE=Symbol.for("react.portal"),xE=Symbol.for("react.fragment"),bE=Symbol.for("react.strict_mode"),SE=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),EE=Symbol.for("react.context"),CE=Symbol.for("react.forward_ref"),kE=Symbol.for("react.suspense"),jE=Symbol.for("react.memo"),NE=Symbol.for("react.lazy"),fm=Symbol.iterator;function TE(e){return e===null||typeof e!="object"?null:(e=fm&&e[fm]||e["@@iterator"],typeof e=="function"?e:null)}var gy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vy=Object.assign,yy={};function Vo(e,t,r){this.props=e,this.context=t,this.refs=yy,this.updater=r||gy}Vo.prototype.isReactComponent={};Vo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wy(){}wy.prototype=Vo.prototype;function uh(e,t,r){this.props=e,this.context=t,this.refs=yy,this.updater=r||gy}var dh=uh.prototype=new wy;dh.constructor=uh;vy(dh,Vo.prototype);dh.isPureReactComponent=!0;var hm=Array.isArray,xy=Object.prototype.hasOwnProperty,fh={current:null},by={key:!0,ref:!0,__self:!0,__source:!0};function Sy(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)xy.call(t,n)&&!by.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:xa,type:e,key:o,ref:i,props:s,_owner:fh.current}}function RE(e,t){return{$$typeof:xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hh(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function PE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var pm=/\/+/g;function _u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PE(""+e.key):t.toString(36)}function xl(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case xa:case wE:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+_u(i,0):n,hm(s)?(r="",e!=null&&(r=e.replace(pm,"$&/")+"/"),xl(s,t,r,"",function(u){return u})):s!=null&&(hh(s)&&(s=RE(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(pm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",hm(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+_u(o,a);i+=xl(o,t,r,c,s)}else if(c=TE(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+_u(o,a++),i+=xl(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function $a(e,t,r){if(e==null)return e;var n=[],s=0;return xl(e,n,"","",function(o){return t.call(r,o,s++)}),n}function AE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},bl={transition:null},IE={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:bl,ReactCurrentOwner:fh};function _y(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:$a,forEach:function(e,t,r){$a(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $a(e,function(){t++}),t},toArray:function(e){return $a(e,function(t){return t})||[]},only:function(e){if(!hh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Vo;le.Fragment=xE;le.Profiler=SE;le.PureComponent=uh;le.StrictMode=bE;le.Suspense=kE;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IE;le.act=_y;le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vy({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=fh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)xy.call(t,c)&&!by.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:xa,type:e.type,key:s,ref:o,props:n,_owner:i}};le.createContext=function(e){return e={$$typeof:EE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_E,_context:e},e.Consumer=e};le.createElement=Sy;le.createFactory=function(e){var t=Sy.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:CE,render:e}};le.isValidElement=hh;le.lazy=function(e){return{$$typeof:NE,_payload:{_status:-1,_result:e},_init:AE}};le.memo=function(e,t){return{$$typeof:jE,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=bl.transition;bl.transition={};try{e()}finally{bl.transition=t}};le.unstable_act=_y;le.useCallback=function(e,t){return ht.current.useCallback(e,t)};le.useContext=function(e){return ht.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};le.useEffect=function(e,t){return ht.current.useEffect(e,t)};le.useId=function(){return ht.current.useId()};le.useImperativeHandle=function(e,t,r){return ht.current.useImperativeHandle(e,t,r)};le.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return ht.current.useMemo(e,t)};le.useReducer=function(e,t,r){return ht.current.useReducer(e,t,r)};le.useRef=function(e){return ht.current.useRef(e)};le.useState=function(e){return ht.current.useState(e)};le.useSyncExternalStore=function(e,t,r){return ht.current.useSyncExternalStore(e,t,r)};le.useTransition=function(){return ht.current.useTransition()};le.version="18.3.1";my.exports=le;var h=my.exports;const U=hy(h),ph=yE({__proto__:null,default:U},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=h,ME=Symbol.for("react.element"),DE=Symbol.for("react.fragment"),LE=Object.prototype.hasOwnProperty,$E=OE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UE={key:!0,ref:!0,__self:!0,__source:!0};function Ey(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)LE.call(t,n)&&!UE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ME,type:e,key:o,ref:i,props:s,_owner:$E.current}}jc.Fragment=DE;jc.jsx=Ey;jc.jsxs=Ey;py.exports=jc;var l=py.exports,Cy={exports:{}},Ot={},ky={exports:{}},jy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,T){var A=R.length;R.push(T);e:for(;0<A;){var L=A-1>>>1,F=R[L];if(0<s(F,T))R[L]=T,R[A]=F,A=L;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var T=R[0],A=R.pop();if(A!==T){R[0]=A;e:for(var L=0,F=R.length,q=F>>>1;L<q;){var H=2*(L+1)-1,ne=R[H],ue=H+1,$=R[ue];if(0>s(ne,A))ue<F&&0>s($,ne)?(R[L]=$,R[ue]=A,L=ue):(R[L]=ne,R[H]=A,L=H);else if(ue<F&&0>s($,A))R[L]=$,R[ue]=A,L=ue;else break e}}return T}function s(R,T){var A=R.sortIndex-T.sortIndex;return A!==0?A:R.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,m=3,p=!1,w=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=R)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function S(R){if(g=!1,x(R),!w)if(r(c)!==null)w=!0,B(_);else{var T=r(u);T!==null&&Q(S,T.startTime-R)}}function _(R,T){w=!1,g&&(g=!1,y(k),k=-1),p=!0;var A=m;try{for(x(T),f=r(c);f!==null&&(!(f.expirationTime>T)||R&&!I());){var L=f.callback;if(typeof L=="function"){f.callback=null,m=f.priorityLevel;var F=L(f.expirationTime<=T);T=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),x(T)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var H=r(u);H!==null&&Q(S,H.startTime-T),q=!1}return q}finally{f=null,m=A,p=!1}}var C=!1,E=null,k=-1,N=5,j=-1;function I(){return!(e.unstable_now()-j<N)}function M(){if(E!==null){var R=e.unstable_now();j=R;var T=!0;try{T=E(!0,R)}finally{T?Y():(C=!1,E=null)}}else C=!1}var Y;if(typeof v=="function")Y=function(){v(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,X=D.port2;D.port1.onmessage=M,Y=function(){X.postMessage(null)}}else Y=function(){b(M,0)};function B(R){E=R,C||(C=!0,Y())}function Q(R,T){k=b(function(){R(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,B(_))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var A=m;m=T;try{return R()}finally{m=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,T){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var A=m;m=R;try{return T()}finally{m=A}},e.unstable_scheduleCallback=function(R,T,A){var L=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?L+A:L):A=L,R){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=A+F,R={id:d++,callback:T,priorityLevel:R,startTime:A,expirationTime:F,sortIndex:-1},A>L?(R.sortIndex=A,t(u,R),r(c)===null&&R===r(u)&&(g?(y(k),k=-1):g=!0,Q(S,A-L))):(R.sortIndex=F,t(c,R),w||p||(w=!0,B(_))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var T=m;return function(){var A=m;m=T;try{return R.apply(this,arguments)}finally{m=A}}}})(jy);ky.exports=jy;var FE=ky.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE=h,It=FE;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ny=new Set,$i={};function Ts(e,t){Oo(e,t),Oo(e+"Capture",t)}function Oo(e,t){for($i[e]=t,e=0;e<t.length;e++)Ny.add(t[e])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=Object.prototype.hasOwnProperty,BE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mm={},gm={};function HE(e){return Sd.call(gm,e)?!0:Sd.call(mm,e)?!1:BE.test(e)?gm[e]=!0:(mm[e]=!0,!1)}function VE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WE(e,t,r,n){if(t===null||typeof t>"u"||VE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var mh=/[\-:]([a-z])/g;function gh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mh,gh);Je[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mh,gh);Je[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mh,gh);Je[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vh(e,t,r,n){var s=Je.hasOwnProperty(t)?Je[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WE(t,r,s,n)&&(r=null),n||s===null?HE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Yr=zE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ua=Symbol.for("react.element"),to=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),yh=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),Ty=Symbol.for("react.provider"),Ry=Symbol.for("react.context"),wh=Symbol.for("react.forward_ref"),Ed=Symbol.for("react.suspense"),Cd=Symbol.for("react.suspense_list"),xh=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),Py=Symbol.for("react.offscreen"),vm=Symbol.iterator;function oi(e){return e===null||typeof e!="object"?null:(e=vm&&e[vm]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Eu;function vi(e){if(Eu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Eu=t&&t[1]||""}return`
`+Eu+e}var Cu=!1;function ku(e,t){if(!e||Cu)return"";Cu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Cu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vi(e):""}function GE(e){switch(e.tag){case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 2:case 15:return e=ku(e.type,!1),e;case 11:return e=ku(e.type.render,!1),e;case 1:return e=ku(e.type,!0),e;default:return""}}function kd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ro:return"Fragment";case to:return"Portal";case _d:return"Profiler";case yh:return"StrictMode";case Ed:return"Suspense";case Cd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ry:return(e.displayName||"Context")+".Consumer";case Ty:return(e._context.displayName||"Context")+".Provider";case wh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xh:return t=e.displayName||null,t!==null?t:kd(e.type)||"Memo";case un:t=e._payload,e=e._init;try{return kd(e(t))}catch{}}return null}function KE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kd(t);case 8:return t===yh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ay(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qE(e){var t=Ay(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fa(e){e._valueTracker||(e._valueTracker=qE(e))}function Iy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ay(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jd(e,t){var r=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ym(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oy(e,t){t=t.checked,t!=null&&vh(e,"checked",t,!1)}function Nd(e,t){Oy(e,t);var r=Dn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Td(e,t.type,r):t.hasOwnProperty("defaultValue")&&Td(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Td(e,t,r){(t!=="number"||Ul(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yi=Array.isArray;function mo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(yi(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dn(r)}}function My(e,t){var r=Dn(t.value),n=Dn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var za,Ly=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ui(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QE=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(e){QE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ei[t]=Ei[e]})});function $y(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ei.hasOwnProperty(e)&&Ei[e]?(""+t).trim():t+"px"}function Uy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$y(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var YE=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ad(e,t){if(t){if(YE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Id(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Od=null;function bh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Md=null,go=null,vo=null;function Sm(e){if(e=_a(e)){if(typeof Md!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Ac(t),Md(e.stateNode,e.type,t))}}function Fy(e){go?vo?vo.push(e):vo=[e]:go=e}function zy(){if(go){var e=go,t=vo;if(vo=go=null,Sm(e),t)for(e=0;e<t.length;e++)Sm(t[e])}}function By(e,t){return e(t)}function Hy(){}var ju=!1;function Vy(e,t,r){if(ju)return e(t,r);ju=!0;try{return By(e,t,r)}finally{ju=!1,(go!==null||vo!==null)&&(Hy(),zy())}}function Fi(e,t){var r=e.stateNode;if(r===null)return null;var n=Ac(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var Dd=!1;if(Vr)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){Dd=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{Dd=!1}function JE(e,t,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ci=!1,Fl=null,zl=!1,Ld=null,XE={onError:function(e){Ci=!0,Fl=e}};function ZE(e,t,r,n,s,o,i,a,c){Ci=!1,Fl=null,JE.apply(XE,arguments)}function eC(e,t,r,n,s,o,i,a,c){if(ZE.apply(this,arguments),Ci){if(Ci){var u=Fl;Ci=!1,Fl=null}else throw Error(O(198));zl||(zl=!0,Ld=u)}}function Rs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _m(e){if(Rs(e)!==e)throw Error(O(188))}function tC(e){var t=e.alternate;if(!t){if(t=Rs(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return _m(s),e;if(o===n)return _m(s),t;o=o.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Gy(e){return e=tC(e),e!==null?Ky(e):null}function Ky(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ky(e);if(t!==null)return t;e=e.sibling}return null}var qy=It.unstable_scheduleCallback,Em=It.unstable_cancelCallback,rC=It.unstable_shouldYield,nC=It.unstable_requestPaint,Le=It.unstable_now,sC=It.unstable_getCurrentPriorityLevel,Sh=It.unstable_ImmediatePriority,Qy=It.unstable_UserBlockingPriority,Bl=It.unstable_NormalPriority,oC=It.unstable_LowPriority,Yy=It.unstable_IdlePriority,Nc=null,Cr=null;function iC(e){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Nc,e,void 0,(e.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:cC,aC=Math.log,lC=Math.LN2;function cC(e){return e>>>=0,e===0?32:31-(aC(e)/lC|0)|0}var Ba=64,Ha=4194304;function wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=wi(a):(o&=i,o!==0&&(n=wi(o)))}else i=r&~s,i!==0?n=wi(i):o!==0&&(n=wi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ur(t),s=1<<r,n|=e[r],t&=~s;return n}function uC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ur(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=uC(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function $d(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jy(){var e=Ba;return Ba<<=1,!(Ba&4194240)&&(Ba=64),e}function Nu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ba(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ur(t),e[t]=r}function fC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ur(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function _h(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ur(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var we=0;function Xy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zy,Eh,ew,tw,rw,Ud=!1,Va=[],Cn=null,kn=null,jn=null,zi=new Map,Bi=new Map,hn=[],hC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cm(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function ai(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=_a(t),t!==null&&Eh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pC(e,t,r,n,s){switch(t){case"focusin":return Cn=ai(Cn,e,t,r,n,s),!0;case"dragenter":return kn=ai(kn,e,t,r,n,s),!0;case"mouseover":return jn=ai(jn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return zi.set(o,ai(zi.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Bi.set(o,ai(Bi.get(o)||null,e,t,r,n,s)),!0}return!1}function nw(e){var t=ns(e.target);if(t!==null){var r=Rs(t);if(r!==null){if(t=r.tag,t===13){if(t=Wy(r),t!==null){e.blockedOn=t,rw(e.priority,function(){ew(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Od=n,r.target.dispatchEvent(n),Od=null}else return t=_a(r),t!==null&&Eh(t),e.blockedOn=r,!1;t.shift()}return!0}function km(e,t,r){Sl(e)&&r.delete(t)}function mC(){Ud=!1,Cn!==null&&Sl(Cn)&&(Cn=null),kn!==null&&Sl(kn)&&(kn=null),jn!==null&&Sl(jn)&&(jn=null),zi.forEach(km),Bi.forEach(km)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,Ud||(Ud=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,mC)))}function Hi(e){function t(s){return li(s,e)}if(0<Va.length){li(Va[0],e);for(var r=1;r<Va.length;r++){var n=Va[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cn!==null&&li(Cn,e),kn!==null&&li(kn,e),jn!==null&&li(jn,e),zi.forEach(t),Bi.forEach(t),r=0;r<hn.length;r++)n=hn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<hn.length&&(r=hn[0],r.blockedOn===null);)nw(r),r.blockedOn===null&&hn.shift()}var yo=Yr.ReactCurrentBatchConfig,Vl=!0;function gC(e,t,r,n){var s=we,o=yo.transition;yo.transition=null;try{we=1,Ch(e,t,r,n)}finally{we=s,yo.transition=o}}function vC(e,t,r,n){var s=we,o=yo.transition;yo.transition=null;try{we=4,Ch(e,t,r,n)}finally{we=s,yo.transition=o}}function Ch(e,t,r,n){if(Vl){var s=Fd(e,t,r,n);if(s===null)$u(e,t,n,Wl,r),Cm(e,n);else if(pC(s,e,t,r,n))n.stopPropagation();else if(Cm(e,n),t&4&&-1<hC.indexOf(e)){for(;s!==null;){var o=_a(s);if(o!==null&&Zy(o),o=Fd(e,t,r,n),o===null&&$u(e,t,n,Wl,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else $u(e,t,n,null,r)}}var Wl=null;function Fd(e,t,r,n){if(Wl=null,e=bh(n),e=ns(e),e!==null)if(t=Rs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wl=e,null}function sw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sC()){case Sh:return 1;case Qy:return 4;case Bl:case oC:return 16;case Yy:return 536870912;default:return 16}default:return 16}}var Sn=null,kh=null,_l=null;function ow(){if(_l)return _l;var e,t=kh,r=t.length,n,s="value"in Sn?Sn.value:Sn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return _l=s.slice(e,1<n?1-n:void 0)}function El(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wa(){return!0}function jm(){return!1}function Mt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wa:jm,this.isPropagationStopped=jm,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jh=Mt(Wo),Sa=Pe({},Wo,{view:0,detail:0}),yC=Mt(Sa),Tu,Ru,ci,Tc=Pe({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(Tu=e.screenX-ci.screenX,Ru=e.screenY-ci.screenY):Ru=Tu=0,ci=e),Tu)},movementY:function(e){return"movementY"in e?e.movementY:Ru}}),Nm=Mt(Tc),wC=Pe({},Tc,{dataTransfer:0}),xC=Mt(wC),bC=Pe({},Sa,{relatedTarget:0}),Pu=Mt(bC),SC=Pe({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),_C=Mt(SC),EC=Pe({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CC=Mt(EC),kC=Pe({},Wo,{data:0}),Tm=Mt(kC),jC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TC[e])?!!t[e]:!1}function Nh(){return RC}var PC=Pe({},Sa,{key:function(e){if(e.key){var t=jC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=El(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nh,charCode:function(e){return e.type==="keypress"?El(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?El(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AC=Mt(PC),IC=Pe({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rm=Mt(IC),OC=Pe({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nh}),MC=Mt(OC),DC=Pe({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),LC=Mt(DC),$C=Pe({},Tc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UC=Mt($C),FC=[9,13,27,32],Th=Vr&&"CompositionEvent"in window,ki=null;Vr&&"documentMode"in document&&(ki=document.documentMode);var zC=Vr&&"TextEvent"in window&&!ki,iw=Vr&&(!Th||ki&&8<ki&&11>=ki),Pm=" ",Am=!1;function aw(e,t){switch(e){case"keyup":return FC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var no=!1;function BC(e,t){switch(e){case"compositionend":return lw(t);case"keypress":return t.which!==32?null:(Am=!0,Pm);case"textInput":return e=t.data,e===Pm&&Am?null:e;default:return null}}function HC(e,t){if(no)return e==="compositionend"||!Th&&aw(e,t)?(e=ow(),_l=kh=Sn=null,no=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iw&&t.locale!=="ko"?null:t.data;default:return null}}var VC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VC[e.type]:t==="textarea"}function cw(e,t,r,n){Fy(n),t=Gl(t,"onChange"),0<t.length&&(r=new jh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ji=null,Vi=null;function WC(e){xw(e,0)}function Rc(e){var t=io(e);if(Iy(t))return e}function GC(e,t){if(e==="change")return t}var uw=!1;if(Vr){var Au;if(Vr){var Iu="oninput"in document;if(!Iu){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),Iu=typeof Om.oninput=="function"}Au=Iu}else Au=!1;uw=Au&&(!document.documentMode||9<document.documentMode)}function Mm(){ji&&(ji.detachEvent("onpropertychange",dw),Vi=ji=null)}function dw(e){if(e.propertyName==="value"&&Rc(Vi)){var t=[];cw(t,Vi,e,bh(e)),Vy(WC,t)}}function KC(e,t,r){e==="focusin"?(Mm(),ji=t,Vi=r,ji.attachEvent("onpropertychange",dw)):e==="focusout"&&Mm()}function qC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rc(Vi)}function QC(e,t){if(e==="click")return Rc(t)}function YC(e,t){if(e==="input"||e==="change")return Rc(t)}function JC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:JC;function Wi(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Sd.call(t,s)||!fr(e[s],t[s]))return!1}return!0}function Dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lm(e,t){var r=Dm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dm(r)}}function fw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hw(){for(var e=window,t=Ul();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ul(e.document)}return t}function Rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XC(e){var t=hw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fw(r.ownerDocument.documentElement,r)){if(n!==null&&Rh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Lm(r,o);var i=Lm(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZC=Vr&&"documentMode"in document&&11>=document.documentMode,so=null,zd=null,Ni=null,Bd=!1;function $m(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bd||so==null||so!==Ul(n)||(n=so,"selectionStart"in n&&Rh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ni&&Wi(Ni,n)||(Ni=n,n=Gl(zd,"onSelect"),0<n.length&&(t=new jh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=so)))}function Ga(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var oo={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Ou={},pw={};Vr&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Pc(e){if(Ou[e])return Ou[e];if(!oo[e])return e;var t=oo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pw)return Ou[e]=t[r];return e}var mw=Pc("animationend"),gw=Pc("animationiteration"),vw=Pc("animationstart"),yw=Pc("transitionend"),ww=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){ww.set(e,t),Ts(t,[e])}for(var Mu=0;Mu<Um.length;Mu++){var Du=Um[Mu],ek=Du.toLowerCase(),tk=Du[0].toUpperCase()+Du.slice(1);zn(ek,"on"+tk)}zn(mw,"onAnimationEnd");zn(gw,"onAnimationIteration");zn(vw,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(yw,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rk=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Fm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,eC(n,t,void 0,e),e.currentTarget=null}function xw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Fm(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Fm(s,a,u),o=c}}}if(zl)throw e=Ld,zl=!1,Ld=null,e}function Ce(e,t){var r=t[Kd];r===void 0&&(r=t[Kd]=new Set);var n=e+"__bubble";r.has(n)||(bw(t,e,2,!1),r.add(n))}function Lu(e,t,r){var n=0;t&&(n|=4),bw(r,e,n,t)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Ka]){e[Ka]=!0,Ny.forEach(function(r){r!=="selectionchange"&&(rk.has(r)||Lu(r,!1,e),Lu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ka]||(t[Ka]=!0,Lu("selectionchange",!1,t))}}function bw(e,t,r,n){switch(sw(t)){case 1:var s=gC;break;case 4:s=vC;break;default:s=Ch}r=s.bind(null,t,r,e),s=void 0,!Dd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function $u(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ns(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}Vy(function(){var u=o,d=bh(r),f=[];e:{var m=ww.get(e);if(m!==void 0){var p=jh,w=e;switch(e){case"keypress":if(El(r)===0)break e;case"keydown":case"keyup":p=AC;break;case"focusin":w="focus",p=Pu;break;case"focusout":w="blur",p=Pu;break;case"beforeblur":case"afterblur":p=Pu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MC;break;case mw:case gw:case vw:p=_C;break;case yw:p=LC;break;case"scroll":p=yC;break;case"wheel":p=UC;break;case"copy":case"cut":case"paste":p=CC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rm}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var v=u,x;v!==null;){x=v;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=Fi(v,y),S!=null&&g.push(Ki(v,S,x)))),b)break;v=v.return}0<g.length&&(m=new p(m,w,null,r,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Od&&(w=r.relatedTarget||r.fromElement)&&(ns(w)||w[Wr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=u,w=w?ns(w):null,w!==null&&(b=Rs(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(g=Nm,S="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Rm,S="onPointerLeave",y="onPointerEnter",v="pointer"),b=p==null?m:io(p),x=w==null?m:io(w),m=new g(S,v+"leave",p,r,d),m.target=b,m.relatedTarget=x,S=null,ns(d)===u&&(g=new g(y,v+"enter",w,r,d),g.target=x,g.relatedTarget=b,S=g),b=S,p&&w)t:{for(g=p,y=w,v=0,x=g;x;x=Fs(x))v++;for(x=0,S=y;S;S=Fs(S))x++;for(;0<v-x;)g=Fs(g),v--;for(;0<x-v;)y=Fs(y),x--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Fs(g),y=Fs(y)}g=null}else g=null;p!==null&&zm(f,m,p,g,!1),w!==null&&b!==null&&zm(f,b,w,g,!0)}}e:{if(m=u?io(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=GC;else if(Im(m))if(uw)_=YC;else{_=qC;var C=KC}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=QC);if(_&&(_=_(e,u))){cw(f,_,r,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Td(m,"number",m.value)}switch(C=u?io(u):window,e){case"focusin":(Im(C)||C.contentEditable==="true")&&(so=C,zd=u,Ni=null);break;case"focusout":Ni=zd=so=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,$m(f,r,d);break;case"selectionchange":if(ZC)break;case"keydown":case"keyup":$m(f,r,d)}var E;if(Th)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else no?aw(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(iw&&r.locale!=="ko"&&(no||k!=="onCompositionStart"?k==="onCompositionEnd"&&no&&(E=ow()):(Sn=d,kh="value"in Sn?Sn.value:Sn.textContent,no=!0)),C=Gl(u,k),0<C.length&&(k=new Tm(k,e,null,r,d),f.push({event:k,listeners:C}),E?k.data=E:(E=lw(r),E!==null&&(k.data=E)))),(E=zC?BC(e,r):HC(e,r))&&(u=Gl(u,"onBeforeInput"),0<u.length&&(d=new Tm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}xw(f,t)})}function Ki(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Fi(e,r),o!=null&&n.unshift(Ki(e,o,s)),o=Fi(e,t),o!=null&&n.push(Ki(e,o,s))),e=e.return}return n}function Fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zm(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=Fi(r,o),c!=null&&i.unshift(Ki(r,c,a))):s||(c=Fi(r,o),c!=null&&i.push(Ki(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var nk=/\r\n?/g,sk=/\u0000|\uFFFD/g;function Bm(e){return(typeof e=="string"?e:""+e).replace(nk,`
`).replace(sk,"")}function qa(e,t,r){if(t=Bm(t),Bm(e)!==t&&r)throw Error(O(425))}function Kl(){}var Hd=null,Vd=null;function Wd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,ok=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,ik=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(ak)}:Gd;function ak(e){setTimeout(function(){throw e})}function Uu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Hi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Hi(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Go=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Go,qi="__reactProps$"+Go,Wr="__reactContainer$"+Go,Kd="__reactEvents$"+Go,lk="__reactListeners$"+Go,ck="__reactHandles$"+Go;function ns(e){var t=e[Sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wr]||r[Sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vm(e);e!==null;){if(r=e[Sr])return r;e=Vm(e)}return t}e=r,r=e.parentNode}return null}function _a(e){return e=e[Sr]||e[Wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Ac(e){return e[qi]||null}var qd=[],ao=-1;function Bn(e){return{current:e}}function ke(e){0>ao||(e.current=qd[ao],qd[ao]=null,ao--)}function _e(e,t){ao++,qd[ao]=e.current,e.current=t}var Ln={},it=Bn(Ln),wt=Bn(!1),gs=Ln;function Mo(e,t){var r=e.type.contextTypes;if(!r)return Ln;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xt(e){return e=e.childContextTypes,e!=null}function ql(){ke(wt),ke(it)}function Wm(e,t,r){if(it.current!==Ln)throw Error(O(168));_e(it,t),_e(wt,r)}function Sw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,KE(e)||"Unknown",s));return Pe({},r,n)}function Ql(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,gs=it.current,_e(it,e),_e(wt,wt.current),!0}function Gm(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=Sw(e,t,gs),n.__reactInternalMemoizedMergedChildContext=e,ke(wt),ke(it),_e(it,e)):ke(wt),_e(wt,r)}var $r=null,Ic=!1,Fu=!1;function _w(e){$r===null?$r=[e]:$r.push(e)}function uk(e){Ic=!0,_w(e)}function Hn(){if(!Fu&&$r!==null){Fu=!0;var e=0,t=we;try{var r=$r;for(we=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$r=null,Ic=!1}catch(s){throw $r!==null&&($r=$r.slice(e+1)),qy(Sh,Hn),s}finally{we=t,Fu=!1}}return null}var lo=[],co=0,Yl=null,Jl=0,Ft=[],zt=0,vs=null,Fr=1,zr="";function Xn(e,t){lo[co++]=Jl,lo[co++]=Yl,Yl=e,Jl=t}function Ew(e,t,r){Ft[zt++]=Fr,Ft[zt++]=zr,Ft[zt++]=vs,vs=e;var n=Fr;e=zr;var s=32-ur(n)-1;n&=~(1<<s),r+=1;var o=32-ur(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Fr=1<<32-ur(t)+s|r<<s|n,zr=o+e}else Fr=1<<o|r<<s|n,zr=e}function Ph(e){e.return!==null&&(Xn(e,1),Ew(e,1,0))}function Ah(e){for(;e===Yl;)Yl=lo[--co],lo[co]=null,Jl=lo[--co],lo[co]=null;for(;e===vs;)vs=Ft[--zt],Ft[zt]=null,zr=Ft[--zt],Ft[zt]=null,Fr=Ft[--zt],Ft[zt]=null}var Rt=null,Tt=null,Ne=!1,cr=null;function Cw(e,t){var r=Bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Km(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,Tt=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vs!==null?{id:Fr,overflow:zr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Rt=e,Tt=null,!0):!1;default:return!1}}function Qd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yd(e){if(Ne){var t=Tt;if(t){var r=t;if(!Km(e,t)){if(Qd(e))throw Error(O(418));t=Nn(r.nextSibling);var n=Rt;t&&Km(e,t)?Cw(n,r):(e.flags=e.flags&-4097|2,Ne=!1,Rt=e)}}else{if(Qd(e))throw Error(O(418));e.flags=e.flags&-4097|2,Ne=!1,Rt=e}}}function qm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function Qa(e){if(e!==Rt)return!1;if(!Ne)return qm(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wd(e.type,e.memoizedProps)),t&&(t=Tt)){if(Qd(e))throw kw(),Error(O(418));for(;t;)Cw(e,t),t=Nn(t.nextSibling)}if(qm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tt=Nn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Rt?Nn(e.stateNode.nextSibling):null;return!0}function kw(){for(var e=Tt;e;)e=Nn(e.nextSibling)}function Do(){Tt=Rt=null,Ne=!1}function Ih(e){cr===null?cr=[e]:cr.push(e)}var dk=Yr.ReactCurrentBatchConfig;function ui(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qm(e){var t=e._init;return t(e._payload)}function jw(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=An(y,v),y.index=0,y.sibling=null,y}function o(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,x,S){return v===null||v.tag!==6?(v=Ku(x,y.mode,S),v.return=y,v):(v=s(v,x),v.return=y,v)}function c(y,v,x,S){var _=x.type;return _===ro?d(y,v,x.props.children,S,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===un&&Qm(_)===v.type)?(S=s(v,x.props),S.ref=ui(y,v,x),S.return=y,S):(S=Pl(x.type,x.key,x.props,null,y.mode,S),S.ref=ui(y,v,x),S.return=y,S)}function u(y,v,x,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=qu(x,y.mode,S),v.return=y,v):(v=s(v,x.children||[]),v.return=y,v)}function d(y,v,x,S,_){return v===null||v.tag!==7?(v=ps(x,y.mode,S,_),v.return=y,v):(v=s(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ku(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ua:return x=Pl(v.type,v.key,v.props,null,y.mode,x),x.ref=ui(y,null,v),x.return=y,x;case to:return v=qu(v,y.mode,x),v.return=y,v;case un:var S=v._init;return f(y,S(v._payload),x)}if(yi(v)||oi(v))return v=ps(v,y.mode,x,null),v.return=y,v;Ya(y,v)}return null}function m(y,v,x,S){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(y,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ua:return x.key===_?c(y,v,x,S):null;case to:return x.key===_?u(y,v,x,S):null;case un:return _=x._init,m(y,v,_(x._payload),S)}if(yi(x)||oi(x))return _!==null?null:d(y,v,x,S,null);Ya(y,x)}return null}function p(y,v,x,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,a(v,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ua:return y=y.get(S.key===null?x:S.key)||null,c(v,y,S,_);case to:return y=y.get(S.key===null?x:S.key)||null,u(v,y,S,_);case un:var C=S._init;return p(y,v,x,C(S._payload),_)}if(yi(S)||oi(S))return y=y.get(x)||null,d(v,y,S,_,null);Ya(v,S)}return null}function w(y,v,x,S){for(var _=null,C=null,E=v,k=v=0,N=null;E!==null&&k<x.length;k++){E.index>k?(N=E,E=null):N=E.sibling;var j=m(y,E,x[k],S);if(j===null){E===null&&(E=N);break}e&&E&&j.alternate===null&&t(y,E),v=o(j,v,k),C===null?_=j:C.sibling=j,C=j,E=N}if(k===x.length)return r(y,E),Ne&&Xn(y,k),_;if(E===null){for(;k<x.length;k++)E=f(y,x[k],S),E!==null&&(v=o(E,v,k),C===null?_=E:C.sibling=E,C=E);return Ne&&Xn(y,k),_}for(E=n(y,E);k<x.length;k++)N=p(E,y,k,x[k],S),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?k:N.key),v=o(N,v,k),C===null?_=N:C.sibling=N,C=N);return e&&E.forEach(function(I){return t(y,I)}),Ne&&Xn(y,k),_}function g(y,v,x,S){var _=oi(x);if(typeof _!="function")throw Error(O(150));if(x=_.call(x),x==null)throw Error(O(151));for(var C=_=null,E=v,k=v=0,N=null,j=x.next();E!==null&&!j.done;k++,j=x.next()){E.index>k?(N=E,E=null):N=E.sibling;var I=m(y,E,j.value,S);if(I===null){E===null&&(E=N);break}e&&E&&I.alternate===null&&t(y,E),v=o(I,v,k),C===null?_=I:C.sibling=I,C=I,E=N}if(j.done)return r(y,E),Ne&&Xn(y,k),_;if(E===null){for(;!j.done;k++,j=x.next())j=f(y,j.value,S),j!==null&&(v=o(j,v,k),C===null?_=j:C.sibling=j,C=j);return Ne&&Xn(y,k),_}for(E=n(y,E);!j.done;k++,j=x.next())j=p(E,y,k,j.value,S),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?k:j.key),v=o(j,v,k),C===null?_=j:C.sibling=j,C=j);return e&&E.forEach(function(M){return t(y,M)}),Ne&&Xn(y,k),_}function b(y,v,x,S){if(typeof x=="object"&&x!==null&&x.type===ro&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ua:e:{for(var _=x.key,C=v;C!==null;){if(C.key===_){if(_=x.type,_===ro){if(C.tag===7){r(y,C.sibling),v=s(C,x.props.children),v.return=y,y=v;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===un&&Qm(_)===C.type){r(y,C.sibling),v=s(C,x.props),v.ref=ui(y,C,x),v.return=y,y=v;break e}r(y,C);break}else t(y,C);C=C.sibling}x.type===ro?(v=ps(x.props.children,y.mode,S,x.key),v.return=y,y=v):(S=Pl(x.type,x.key,x.props,null,y.mode,S),S.ref=ui(y,v,x),S.return=y,y=S)}return i(y);case to:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(y,v.sibling),v=s(v,x.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=qu(x,y.mode,S),v.return=y,y=v}return i(y);case un:return C=x._init,b(y,v,C(x._payload),S)}if(yi(x))return w(y,v,x,S);if(oi(x))return g(y,v,x,S);Ya(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,x),v.return=y,y=v):(r(y,v),v=Ku(x,y.mode,S),v.return=y,y=v),i(y)):r(y,v)}return b}var Lo=jw(!0),Nw=jw(!1),Xl=Bn(null),Zl=null,uo=null,Oh=null;function Mh(){Oh=uo=Zl=null}function Dh(e){var t=Xl.current;ke(Xl),e._currentValue=t}function Jd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wo(e,t){Zl=e,Oh=uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(Oh!==e)if(e={context:e,memoizedValue:t,next:null},uo===null){if(Zl===null)throw Error(O(308));uo=e,Zl.dependencies={lanes:0,firstContext:e}}else uo=uo.next=e;return t}var ss=null;function Lh(e){ss===null?ss=[e]:ss.push(e)}function Tw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Lh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Gr(e,n)}function Gr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dn=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Gr(e,r)}return s=n.interleaved,s===null?(t.next=t,Lh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Gr(e,r)}function Cl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_h(e,r)}}function Ym(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ec(e,t,r,n){var s=e.updateQueue;dn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var m=a.lane,p=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,g=a;switch(m=t,p=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(p,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,m=typeof w=="function"?w.call(p,f,m):w,m==null)break e;f=Pe({},f,m);break e;case 2:dn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ws|=i,e.lanes=i,e.memoizedState=f}}function Jm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var Ea={},kr=Bn(Ea),Qi=Bn(Ea),Yi=Bn(Ea);function os(e){if(e===Ea)throw Error(O(174));return e}function Uh(e,t){switch(_e(Yi,t),_e(Qi,e),_e(kr,Ea),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pd(t,e)}ke(kr),_e(kr,t)}function $o(){ke(kr),ke(Qi),ke(Yi)}function Pw(e){os(Yi.current);var t=os(kr.current),r=Pd(t,e.type);t!==r&&(_e(Qi,e),_e(kr,r))}function Fh(e){Qi.current===e&&(ke(kr),ke(Qi))}var Te=Bn(0);function tc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zu=[];function zh(){for(var e=0;e<zu.length;e++)zu[e]._workInProgressVersionPrimary=null;zu.length=0}var kl=Yr.ReactCurrentDispatcher,Bu=Yr.ReactCurrentBatchConfig,ys=0,Re=null,Be=null,We=null,rc=!1,Ti=!1,Ji=0,fk=0;function tt(){throw Error(O(321))}function Bh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fr(e[r],t[r]))return!1;return!0}function Hh(e,t,r,n,s,o){if(ys=o,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kl.current=e===null||e.memoizedState===null?gk:vk,e=r(n,s),Ti){o=0;do{if(Ti=!1,Ji=0,25<=o)throw Error(O(301));o+=1,We=Be=null,t.updateQueue=null,kl.current=yk,e=r(n,s)}while(Ti)}if(kl.current=nc,t=Be!==null&&Be.next!==null,ys=0,We=Be=Re=null,rc=!1,t)throw Error(O(300));return e}function Vh(){var e=Ji!==0;return Ji=0,e}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Re.memoizedState=We=e:We=We.next=e,We}function Gt(){if(Be===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=We===null?Re.memoizedState:We.next;if(t!==null)We=t,Be=e;else{if(e===null)throw Error(O(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},We===null?Re.memoizedState=We=e:We=We.next=e}return We}function Xi(e,t){return typeof t=="function"?t(e):t}function Hu(e){var t=Gt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Be,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((ys&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=n):c=c.next=f,Re.lanes|=d,ws|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,fr(n,t.memoizedState)||(yt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Re.lanes|=o,ws|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vu(e){var t=Gt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);fr(o,t.memoizedState)||(yt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Aw(){}function Iw(e,t){var r=Re,n=Gt(),s=t(),o=!fr(n.memoizedState,s);if(o&&(n.memoizedState=s,yt=!0),n=n.queue,Wh(Dw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,Zi(9,Mw.bind(null,r,n,s,t),void 0,null),Ge===null)throw Error(O(349));ys&30||Ow(r,t,s)}return s}function Ow(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mw(e,t,r,n){t.value=r,t.getSnapshot=n,Lw(t)&&$w(e)}function Dw(e,t,r){return r(function(){Lw(t)&&$w(e)})}function Lw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fr(e,r)}catch{return!0}}function $w(e){var t=Gr(e,1);t!==null&&dr(t,e,1,-1)}function Xm(e){var t=yr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},t.queue=e,e=e.dispatch=mk.bind(null,Re,e),[t.memoizedState,e]}function Zi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uw(){return Gt().memoizedState}function jl(e,t,r,n){var s=yr();Re.flags|=e,s.memoizedState=Zi(1|t,r,void 0,n===void 0?null:n)}function Oc(e,t,r,n){var s=Gt();n=n===void 0?null:n;var o=void 0;if(Be!==null){var i=Be.memoizedState;if(o=i.destroy,n!==null&&Bh(n,i.deps)){s.memoizedState=Zi(t,r,o,n);return}}Re.flags|=e,s.memoizedState=Zi(1|t,r,o,n)}function Zm(e,t){return jl(8390656,8,e,t)}function Wh(e,t){return Oc(2048,8,e,t)}function Fw(e,t){return Oc(4,2,e,t)}function zw(e,t){return Oc(4,4,e,t)}function Bw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hw(e,t,r){return r=r!=null?r.concat([e]):null,Oc(4,4,Bw.bind(null,t,e),r)}function Gh(){}function Vw(e,t){var r=Gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ww(e,t){var r=Gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Gw(e,t,r){return ys&21?(fr(r,t)||(r=Jy(),Re.lanes|=r,ws|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=r)}function hk(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var n=Bu.transition;Bu.transition={};try{e(!1),t()}finally{we=r,Bu.transition=n}}function Kw(){return Gt().memoizedState}function pk(e,t,r){var n=Pn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qw(e))Qw(t,r);else if(r=Tw(e,t,r,n),r!==null){var s=ft();dr(r,e,n,s),Yw(r,t,n)}}function mk(e,t,r){var n=Pn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qw(e))Qw(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,fr(a,i)){var c=t.interleaved;c===null?(s.next=s,Lh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Tw(e,t,s,n),r!==null&&(s=ft(),dr(r,e,n,s),Yw(r,t,n))}}function qw(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function Qw(e,t){Ti=rc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_h(e,r)}}var nc={readContext:Wt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},gk={readContext:Wt,useCallback:function(e,t){return yr().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:Zm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jl(4194308,4,Bw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jl(4194308,4,e,t)},useInsertionEffect:function(e,t){return jl(4,2,e,t)},useMemo:function(e,t){var r=yr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pk.bind(null,Re,e),[n.memoizedState,e]},useRef:function(e){var t=yr();return e={current:e},t.memoizedState=e},useState:Xm,useDebugValue:Gh,useDeferredValue:function(e){return yr().memoizedState=e},useTransition:function(){var e=Xm(!1),t=e[0];return e=hk.bind(null,e[1]),yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Re,s=yr();if(Ne){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),Ge===null)throw Error(O(349));ys&30||Ow(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Zm(Dw.bind(null,n,o,e),[e]),n.flags|=2048,Zi(9,Mw.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=yr(),t=Ge.identifierPrefix;if(Ne){var r=zr,n=Fr;r=(n&~(1<<32-ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ji++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vk={readContext:Wt,useCallback:Vw,useContext:Wt,useEffect:Wh,useImperativeHandle:Hw,useInsertionEffect:Fw,useLayoutEffect:zw,useMemo:Ww,useReducer:Hu,useRef:Uw,useState:function(){return Hu(Xi)},useDebugValue:Gh,useDeferredValue:function(e){var t=Gt();return Gw(t,Be.memoizedState,e)},useTransition:function(){var e=Hu(Xi)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Kw,unstable_isNewReconciler:!1},yk={readContext:Wt,useCallback:Vw,useContext:Wt,useEffect:Wh,useImperativeHandle:Hw,useInsertionEffect:Fw,useLayoutEffect:zw,useMemo:Ww,useReducer:Vu,useRef:Uw,useState:function(){return Vu(Xi)},useDebugValue:Gh,useDeferredValue:function(e){var t=Gt();return Be===null?t.memoizedState=e:Gw(t,Be.memoizedState,e)},useTransition:function(){var e=Vu(Xi)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Kw,unstable_isNewReconciler:!1};function rr(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mc={isMounted:function(e){return(e=e._reactInternals)?Rs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ft(),s=Pn(e),o=Br(n,s);o.payload=t,r!=null&&(o.callback=r),t=Tn(e,o,s),t!==null&&(dr(t,e,s,n),Cl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ft(),s=Pn(e),o=Br(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Tn(e,o,s),t!==null&&(dr(t,e,s,n),Cl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ft(),n=Pn(e),s=Br(r,n);s.tag=2,t!=null&&(s.callback=t),t=Tn(e,s,n),t!==null&&(dr(t,e,n,r),Cl(t,e,n))}};function eg(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Wi(r,n)||!Wi(s,o):!0}function Jw(e,t,r){var n=!1,s=Ln,o=t.contextType;return typeof o=="object"&&o!==null?o=Wt(o):(s=xt(t)?gs:it.current,n=t.contextTypes,o=(n=n!=null)?Mo(e,s):Ln),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function tg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mc.enqueueReplaceState(t,t.state,null)}function Zd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},$h(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Wt(o):(o=xt(t)?gs:it.current,s.context=Mo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Xd(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Mc.enqueueReplaceState(s,s.state,null),ec(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var r="",n=t;do r+=GE(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Wu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ef(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wk=typeof WeakMap=="function"?WeakMap:Map;function Xw(e,t,r){r=Br(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){oc||(oc=!0,df=n),ef(e,t)},r}function Zw(e,t,r){r=Br(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ef(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ef(e,t),typeof n!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function rg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ik.bind(null,e,t,r),t.then(e,e))}function ng(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Br(-1,1),t.tag=2,Tn(r,t,1))),r.lanes|=1),e)}var xk=Yr.ReactCurrentOwner,yt=!1;function ct(e,t,r,n){t.child=e===null?Nw(t,null,r,n):Lo(t,e.child,r,n)}function og(e,t,r,n,s){r=r.render;var o=t.ref;return wo(t,s),n=Hh(e,t,r,n,o,s),r=Vh(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kr(e,t,s)):(Ne&&r&&Ph(t),t.flags|=1,ct(e,t,n,s),t.child)}function ig(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!ep(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,e0(e,t,o,n,s)):(e=Pl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Wi,r(i,n)&&e.ref===t.ref)return Kr(e,t,s)}return t.flags|=1,e=An(o,n),e.ref=t.ref,e.return=t,t.child=e}function e0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Wi(o,n)&&e.ref===t.ref)if(yt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,Kr(e,t,s)}return tf(e,t,r,n,s)}function t0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(ho,kt),kt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(ho,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,_e(ho,kt),kt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,_e(ho,kt),kt|=n;return ct(e,t,s,r),t.child}function r0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function tf(e,t,r,n,s){var o=xt(r)?gs:it.current;return o=Mo(t,o),wo(t,s),r=Hh(e,t,r,n,o,s),n=Vh(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kr(e,t,s)):(Ne&&n&&Ph(t),t.flags|=1,ct(e,t,r,s),t.child)}function ag(e,t,r,n,s){if(xt(r)){var o=!0;Ql(t)}else o=!1;if(wo(t,s),t.stateNode===null)Nl(e,t),Jw(t,r,n),Zd(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=xt(r)?gs:it.current,u=Mo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&tg(t,i,n,u),dn=!1;var m=t.memoizedState;i.state=m,ec(t,n,i,s),c=t.memoizedState,a!==n||m!==c||wt.current||dn?(typeof d=="function"&&(Xd(t,r,d,n),c=t.memoizedState),(a=dn||eg(t,r,a,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Rw(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:rr(t.type,a),i.props=u,f=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Wt(c):(c=xt(r)?gs:it.current,c=Mo(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||m!==c)&&tg(t,i,n,c),dn=!1,m=t.memoizedState,i.state=m,ec(t,n,i,s);var w=t.memoizedState;a!==f||m!==w||wt.current||dn?(typeof p=="function"&&(Xd(t,r,p,n),w=t.memoizedState),(u=dn||eg(t,r,u,n,m,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return rf(e,t,r,n,o,s)}function rf(e,t,r,n,s,o){r0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Gm(t,r,!1),Kr(e,t,o);n=t.stateNode,xk.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Lo(t,e.child,null,o),t.child=Lo(t,null,a,o)):ct(e,t,a,o),t.memoizedState=n.state,s&&Gm(t,r,!0),t.child}function n0(e){var t=e.stateNode;t.pendingContext?Wm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wm(e,t.context,!1),Uh(e,t.containerInfo)}function lg(e,t,r,n,s){return Do(),Ih(s),t.flags|=256,ct(e,t,r,n),t.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function sf(e){return{baseLanes:e,cachePool:null,transitions:null}}function s0(e,t,r){var n=t.pendingProps,s=Te.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(Te,s&1),e===null)return Yd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=$c(i,n,0,null),e=ps(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=sf(r),t.memoizedState=nf,e):Kh(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bk(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=An(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=An(a,o):(o=ps(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?sf(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=nf,n}return o=e.child,e=o.sibling,n=An(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kh(e,t){return t=$c({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ja(e,t,r,n){return n!==null&&Ih(n),Lo(t,e.child,null,r),e=Kh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bk(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Wu(Error(O(422))),Ja(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=$c({mode:"visible",children:n.children},s,0,null),o=ps(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Lo(t,e.child,null,i),t.child.memoizedState=sf(i),t.memoizedState=nf,o);if(!(t.mode&1))return Ja(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(O(419)),n=Wu(o,n,void 0),Ja(e,t,i,n)}if(a=(i&e.childLanes)!==0,yt||a){if(n=Ge,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Gr(e,s),dr(n,e,s,-1))}return Zh(),n=Wu(Error(O(421))),Ja(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ok.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Tt=Nn(s.nextSibling),Rt=t,Ne=!0,cr=null,e!==null&&(Ft[zt++]=Fr,Ft[zt++]=zr,Ft[zt++]=vs,Fr=e.id,zr=e.overflow,vs=t),t=Kh(t,n.children),t.flags|=4096,t)}function cg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Jd(e.return,t,r)}function Gu(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function o0(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(ct(e,t,n.children,r),n=Te.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cg(e,r,t);else if(e.tag===19)cg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_e(Te,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&tc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Gu(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&tc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Gu(t,!0,r,null,o);break;case"together":Gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=An(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=An(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Sk(e,t,r){switch(t.tag){case 3:n0(t),Do();break;case 5:Pw(t);break;case 1:xt(t.type)&&Ql(t);break;case 4:Uh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;_e(Xl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_e(Te,Te.current&1),t.flags|=128,null):r&t.child.childLanes?s0(e,t,r):(_e(Te,Te.current&1),e=Kr(e,t,r),e!==null?e.sibling:null);_e(Te,Te.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return o0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Te,Te.current),n)break;return null;case 22:case 23:return t.lanes=0,t0(e,t,r)}return Kr(e,t,r)}var i0,of,a0,l0;i0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};of=function(){};a0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,os(kr.current);var o=null;switch(r){case"input":s=jd(e,s),n=jd(e,n),o=[];break;case"select":s=Pe({},s,{value:void 0}),n=Pe({},n,{value:void 0}),o=[];break;case"textarea":s=Rd(e,s),n=Rd(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Kl)}Ad(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($i.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ce("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};l0=function(e,t,r,n){r!==n&&(t.flags|=4)};function di(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _k(e,t,r){var n=t.pendingProps;switch(Ah(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return xt(t.type)&&ql(),rt(t),null;case 3:return n=t.stateNode,$o(),ke(wt),ke(it),zh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cr!==null&&(pf(cr),cr=null))),of(e,t),rt(t),null;case 5:Fh(t);var s=os(Yi.current);if(r=t.type,e!==null&&t.stateNode!=null)a0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return rt(t),null}if(e=os(kr.current),Qa(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Sr]=t,n[qi]=o,e=(t.mode&1)!==0,r){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<xi.length;s++)Ce(xi[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":ym(n,o),Ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",n);break;case"textarea":xm(n,o),Ce("invalid",n)}Ad(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&qa(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qa(n.textContent,a,e),s=["children",""+a]):$i.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ce("scroll",n)}switch(r){case"input":Fa(n),wm(n,o,!0);break;case"textarea":Fa(n),bm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Kl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Sr]=t,e[qi]=n,i0(e,t,!1,!1),t.stateNode=e;e:{switch(i=Id(r,n),r){case"dialog":Ce("cancel",e),Ce("close",e),s=n;break;case"iframe":case"object":case"embed":Ce("load",e),s=n;break;case"video":case"audio":for(s=0;s<xi.length;s++)Ce(xi[s],e);s=n;break;case"source":Ce("error",e),s=n;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),s=n;break;case"details":Ce("toggle",e),s=n;break;case"input":ym(e,n),s=jd(e,n),Ce("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Pe({},n,{value:void 0}),Ce("invalid",e);break;case"textarea":xm(e,n),s=Rd(e,n),Ce("invalid",e);break;default:s=n}Ad(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Uy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ly(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ui(e,c):typeof c=="number"&&Ui(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($i.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ce("scroll",e):c!=null&&vh(e,o,c,i))}switch(r){case"input":Fa(e),wm(e,n,!1);break;case"textarea":Fa(e),bm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?mo(e,!!n.multiple,o,!1):n.defaultValue!=null&&mo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Kl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)l0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=os(Yi.current),os(kr.current),Qa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Sr]=t,(o=n.nodeValue!==r)&&(e=Rt,e!==null))switch(e.tag){case 3:qa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qa(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Sr]=t,t.stateNode=n}return rt(t),null;case 13:if(ke(Te),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Tt!==null&&t.mode&1&&!(t.flags&128))kw(),Do(),t.flags|=98560,o=!1;else if(o=Qa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(O(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Sr]=t}else Do(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),o=!1}else cr!==null&&(pf(cr),cr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?He===0&&(He=3):Zh())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return $o(),of(e,t),e===null&&Gi(t.stateNode.containerInfo),rt(t),null;case 10:return Dh(t.type._context),rt(t),null;case 17:return xt(t.type)&&ql(),rt(t),null;case 19:if(ke(Te),o=t.memoizedState,o===null)return rt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)di(o,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=tc(e),i!==null){for(t.flags|=128,di(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _e(Te,Te.current&1|2),t.child}e=e.sibling}o.tail!==null&&Le()>Fo&&(t.flags|=128,n=!0,di(o,!1),t.lanes=4194304)}else{if(!n)if(e=tc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),di(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ne)return rt(t),null}else 2*Le()-o.renderingStartTime>Fo&&r!==1073741824&&(t.flags|=128,n=!0,di(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Le(),t.sibling=null,r=Te.current,_e(Te,n?r&1|2:r&1),t):(rt(t),null);case 22:case 23:return Xh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?kt&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Ek(e,t){switch(Ah(t),t.tag){case 1:return xt(t.type)&&ql(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $o(),ke(wt),ke(it),zh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fh(t),null;case 13:if(ke(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Do()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Te),null;case 4:return $o(),null;case 10:return Dh(t.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var Xa=!1,nt=!1,Ck=typeof WeakSet=="function"?WeakSet:Set,V=null;function fo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Me(e,t,n)}else r.current=null}function af(e,t,r){try{r()}catch(n){Me(e,t,n)}}var ug=!1;function kk(e,t){if(Hd=Vl,e=hw(),Rh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++u===s&&(a=i),m===o&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vd={focusedElem:e,selectionRange:r},Vl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,b=w.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:rr(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(S){Me(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return w=ug,ug=!1,w}function Ri(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&af(t,r,o)}s=s.next}while(s!==n)}}function Dc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function lf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function c0(e){var t=e.alternate;t!==null&&(e.alternate=null,c0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[qi],delete t[Kd],delete t[lk],delete t[ck])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u0(e){return e.tag===5||e.tag===3||e.tag===4}function dg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Kl));else if(n!==4&&(e=e.child,e!==null))for(cf(e,t,r),e=e.sibling;e!==null;)cf(e,t,r),e=e.sibling}function uf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uf(e,t,r),e=e.sibling;e!==null;)uf(e,t,r),e=e.sibling}var Qe=null,ar=!1;function sn(e,t,r){for(r=r.child;r!==null;)d0(e,t,r),r=r.sibling}function d0(e,t,r){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Nc,r)}catch{}switch(r.tag){case 5:nt||fo(r,t);case 6:var n=Qe,s=ar;Qe=null,sn(e,t,r),Qe=n,ar=s,Qe!==null&&(ar?(e=Qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qe.removeChild(r.stateNode));break;case 18:Qe!==null&&(ar?(e=Qe,r=r.stateNode,e.nodeType===8?Uu(e.parentNode,r):e.nodeType===1&&Uu(e,r),Hi(e)):Uu(Qe,r.stateNode));break;case 4:n=Qe,s=ar,Qe=r.stateNode.containerInfo,ar=!0,sn(e,t,r),Qe=n,ar=s;break;case 0:case 11:case 14:case 15:if(!nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&af(r,t,i),s=s.next}while(s!==n)}sn(e,t,r);break;case 1:if(!nt&&(fo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Me(r,t,a)}sn(e,t,r);break;case 21:sn(e,t,r);break;case 22:r.mode&1?(nt=(n=nt)||r.memoizedState!==null,sn(e,t,r),nt=n):sn(e,t,r);break;default:sn(e,t,r)}}function fg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ck),t.forEach(function(n){var s=Mk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Jt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Qe=a.stateNode,ar=!1;break e;case 3:Qe=a.stateNode.containerInfo,ar=!0;break e;case 4:Qe=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(Qe===null)throw Error(O(160));d0(o,i,s),Qe=null,ar=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f0(t,e),t=t.sibling}function f0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),vr(e),n&4){try{Ri(3,e,e.return),Dc(3,e)}catch(g){Me(e,e.return,g)}try{Ri(5,e,e.return)}catch(g){Me(e,e.return,g)}}break;case 1:Jt(t,e),vr(e),n&512&&r!==null&&fo(r,r.return);break;case 5:if(Jt(t,e),vr(e),n&512&&r!==null&&fo(r,r.return),e.flags&32){var s=e.stateNode;try{Ui(s,"")}catch(g){Me(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Oy(s,o),Id(a,i);var u=Id(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Uy(s,f):d==="dangerouslySetInnerHTML"?Ly(s,f):d==="children"?Ui(s,f):vh(s,d,f,u)}switch(a){case"input":Nd(s,o);break;case"textarea":My(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?mo(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?mo(s,!!o.multiple,o.defaultValue,!0):mo(s,!!o.multiple,o.multiple?[]:"",!1))}s[qi]=o}catch(g){Me(e,e.return,g)}}break;case 6:if(Jt(t,e),vr(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Me(e,e.return,g)}}break;case 3:if(Jt(t,e),vr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(g){Me(e,e.return,g)}break;case 4:Jt(t,e),vr(e);break;case 13:Jt(t,e),vr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Yh=Le())),n&4&&fg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(nt=(u=nt)||d,Jt(t,e),nt=u):Jt(t,e),vr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(f=V=d;V!==null;){switch(m=V,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ri(4,m,m.return);break;case 1:fo(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){Me(n,r,g)}}break;case 5:fo(m,m.return);break;case 22:if(m.memoizedState!==null){pg(f);continue}}p!==null?(p.return=m,V=p):pg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=$y("display",i))}catch(g){Me(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Me(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(t,e),vr(e),n&4&&fg(e);break;case 21:break;default:Jt(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(u0(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ui(s,""),n.flags&=-33);var o=dg(e);uf(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=dg(e);cf(e,a,i);break;default:throw Error(O(161))}}catch(c){Me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jk(e,t,r){V=e,h0(e)}function h0(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var s=V,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Xa;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||nt;a=Xa;var u=nt;if(Xa=i,(nt=c)&&!u)for(V=s;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?mg(s):c!==null?(c.return=i,V=c):mg(s);for(;o!==null;)V=o,h0(o),o=o.sibling;V=s,Xa=a,nt=u}hg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,V=o):hg(e)}}function hg(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||Dc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:rr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jm(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jm(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Hi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}nt||t.flags&512&&lf(t)}catch(m){Me(t,t.return,m)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function pg(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function mg(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Dc(4,t)}catch(c){Me(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Me(t,s,c)}}var o=t.return;try{lf(t)}catch(c){Me(t,o,c)}break;case 5:var i=t.return;try{lf(t)}catch(c){Me(t,i,c)}}}catch(c){Me(t,t.return,c)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var Nk=Math.ceil,sc=Yr.ReactCurrentDispatcher,qh=Yr.ReactCurrentOwner,Ht=Yr.ReactCurrentBatchConfig,me=0,Ge=null,Ue=null,Ye=0,kt=0,ho=Bn(0),He=0,ea=null,ws=0,Lc=0,Qh=0,Pi=null,vt=null,Yh=0,Fo=1/0,Dr=null,oc=!1,df=null,Rn=null,Za=!1,_n=null,ic=0,Ai=0,ff=null,Tl=-1,Rl=0;function ft(){return me&6?Le():Tl!==-1?Tl:Tl=Le()}function Pn(e){return e.mode&1?me&2&&Ye!==0?Ye&-Ye:dk.transition!==null?(Rl===0&&(Rl=Jy()),Rl):(e=we,e!==0||(e=window.event,e=e===void 0?16:sw(e.type)),e):1}function dr(e,t,r,n){if(50<Ai)throw Ai=0,ff=null,Error(O(185));ba(e,r,n),(!(me&2)||e!==Ge)&&(e===Ge&&(!(me&2)&&(Lc|=r),He===4&&pn(e,Ye)),bt(e,n),r===1&&me===0&&!(t.mode&1)&&(Fo=Le()+500,Ic&&Hn()))}function bt(e,t){var r=e.callbackNode;dC(e,t);var n=Hl(e,e===Ge?Ye:0);if(n===0)r!==null&&Em(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Em(r),t===1)e.tag===0?uk(gg.bind(null,e)):_w(gg.bind(null,e)),ik(function(){!(me&6)&&Hn()}),r=null;else{switch(Xy(n)){case 1:r=Sh;break;case 4:r=Qy;break;case 16:r=Bl;break;case 536870912:r=Yy;break;default:r=Bl}r=b0(r,p0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function p0(e,t){if(Tl=-1,Rl=0,me&6)throw Error(O(327));var r=e.callbackNode;if(xo()&&e.callbackNode!==r)return null;var n=Hl(e,e===Ge?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ac(e,n);else{t=n;var s=me;me|=2;var o=g0();(Ge!==e||Ye!==t)&&(Dr=null,Fo=Le()+500,hs(e,t));do try{Pk();break}catch(a){m0(e,a)}while(!0);Mh(),sc.current=o,me=s,Ue!==null?t=0:(Ge=null,Ye=0,t=He)}if(t!==0){if(t===2&&(s=$d(e),s!==0&&(n=s,t=hf(e,s))),t===1)throw r=ea,hs(e,0),pn(e,n),bt(e,Le()),r;if(t===6)pn(e,n);else{if(s=e.current.alternate,!(n&30)&&!Tk(s)&&(t=ac(e,n),t===2&&(o=$d(e),o!==0&&(n=o,t=hf(e,o))),t===1))throw r=ea,hs(e,0),pn(e,n),bt(e,Le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:Zn(e,vt,Dr);break;case 3:if(pn(e,n),(n&130023424)===n&&(t=Yh+500-Le(),10<t)){if(Hl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Gd(Zn.bind(null,e,vt,Dr),t);break}Zn(e,vt,Dr);break;case 4:if(pn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ur(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nk(n/1960))-n,10<n){e.timeoutHandle=Gd(Zn.bind(null,e,vt,Dr),n);break}Zn(e,vt,Dr);break;case 5:Zn(e,vt,Dr);break;default:throw Error(O(329))}}}return bt(e,Le()),e.callbackNode===r?p0.bind(null,e):null}function hf(e,t){var r=Pi;return e.current.memoizedState.isDehydrated&&(hs(e,t).flags|=256),e=ac(e,t),e!==2&&(t=vt,vt=r,t!==null&&pf(t)),e}function pf(e){vt===null?vt=e:vt.push.apply(vt,e)}function Tk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!fr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pn(e,t){for(t&=~Qh,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ur(t),n=1<<r;e[r]=-1,t&=~n}}function gg(e){if(me&6)throw Error(O(327));xo();var t=Hl(e,0);if(!(t&1))return bt(e,Le()),null;var r=ac(e,t);if(e.tag!==0&&r===2){var n=$d(e);n!==0&&(t=n,r=hf(e,n))}if(r===1)throw r=ea,hs(e,0),pn(e,t),bt(e,Le()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,vt,Dr),bt(e,Le()),null}function Jh(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(Fo=Le()+500,Ic&&Hn())}}function xs(e){_n!==null&&_n.tag===0&&!(me&6)&&xo();var t=me;me|=1;var r=Ht.transition,n=we;try{if(Ht.transition=null,we=1,e)return e()}finally{we=n,Ht.transition=r,me=t,!(me&6)&&Hn()}}function Xh(){kt=ho.current,ke(ho)}function hs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ok(r)),Ue!==null)for(r=Ue.return;r!==null;){var n=r;switch(Ah(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ql();break;case 3:$o(),ke(wt),ke(it),zh();break;case 5:Fh(n);break;case 4:$o();break;case 13:ke(Te);break;case 19:ke(Te);break;case 10:Dh(n.type._context);break;case 22:case 23:Xh()}r=r.return}if(Ge=e,Ue=e=An(e.current,null),Ye=kt=t,He=0,ea=null,Qh=Lc=ws=0,vt=Pi=null,ss!==null){for(t=0;t<ss.length;t++)if(r=ss[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}ss=null}return e}function m0(e,t){do{var r=Ue;try{if(Mh(),kl.current=nc,rc){for(var n=Re.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}rc=!1}if(ys=0,We=Be=Re=null,Ti=!1,Ji=0,qh.current=null,r===null||r.return===null){He=1,ea=t,Ue=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=Ye,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ng(i);if(p!==null){p.flags&=-257,sg(p,i,a,o,t),p.mode&1&&rg(o,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if(!(t&1)){rg(o,u,t),Zh();break e}c=Error(O(426))}}else if(Ne&&a.mode&1){var b=ng(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),sg(b,i,a,o,t),Ih(Uo(c,a));break e}}o=c=Uo(c,a),He!==4&&(He=2),Pi===null?Pi=[o]:Pi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Xw(o,c,t);Ym(o,y);break e;case 1:a=c;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Rn===null||!Rn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=Zw(o,a,t);Ym(o,S);break e}}o=o.return}while(o!==null)}y0(r)}catch(_){t=_,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function g0(){var e=sc.current;return sc.current=nc,e===null?nc:e}function Zh(){(He===0||He===3||He===2)&&(He=4),Ge===null||!(ws&268435455)&&!(Lc&268435455)||pn(Ge,Ye)}function ac(e,t){var r=me;me|=2;var n=g0();(Ge!==e||Ye!==t)&&(Dr=null,hs(e,t));do try{Rk();break}catch(s){m0(e,s)}while(!0);if(Mh(),me=r,sc.current=n,Ue!==null)throw Error(O(261));return Ge=null,Ye=0,He}function Rk(){for(;Ue!==null;)v0(Ue)}function Pk(){for(;Ue!==null&&!rC();)v0(Ue)}function v0(e){var t=x0(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?y0(e):Ue=t,qh.current=null}function y0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ek(r,t),r!==null){r.flags&=32767,Ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Ue=null;return}}else if(r=_k(r,t,kt),r!==null){Ue=r;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);He===0&&(He=5)}function Zn(e,t,r){var n=we,s=Ht.transition;try{Ht.transition=null,we=1,Ak(e,t,r,n)}finally{Ht.transition=s,we=n}return null}function Ak(e,t,r,n){do xo();while(_n!==null);if(me&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(fC(e,o),e===Ge&&(Ue=Ge=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Za||(Za=!0,b0(Bl,function(){return xo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ht.transition,Ht.transition=null;var i=we;we=1;var a=me;me|=4,qh.current=null,kk(e,r),f0(r,e),XC(Vd),Vl=!!Hd,Vd=Hd=null,e.current=r,jk(r),nC(),me=a,we=i,Ht.transition=o}else e.current=r;if(Za&&(Za=!1,_n=e,ic=s),o=e.pendingLanes,o===0&&(Rn=null),iC(r.stateNode),bt(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(oc)throw oc=!1,e=df,df=null,e;return ic&1&&e.tag!==0&&xo(),o=e.pendingLanes,o&1?e===ff?Ai++:(Ai=0,ff=e):Ai=0,Hn(),null}function xo(){if(_n!==null){var e=Xy(ic),t=Ht.transition,r=we;try{if(Ht.transition=null,we=16>e?16:e,_n===null)var n=!1;else{if(e=_n,_n=null,ic=0,me&6)throw Error(O(331));var s=me;for(me|=4,V=e.current;V!==null;){var o=V,i=o.child;if(V.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:Ri(8,d,o)}var f=d.child;if(f!==null)f.return=d,V=f;else for(;V!==null;){d=V;var m=d.sibling,p=d.return;if(c0(d),d===u){V=null;break}if(m!==null){m.return=p,V=m;break}V=p}}}var w=o.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}V=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,V=i;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ri(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,V=y;break e}V=o.return}}var v=e.current;for(V=v;V!==null;){i=V;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,V=x;else e:for(i=v;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dc(9,a)}}catch(_){Me(a,a.return,_)}if(a===i){V=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,V=S;break e}V=a.return}}if(me=s,Hn(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Nc,e)}catch{}n=!0}return n}finally{we=r,Ht.transition=t}}return!1}function vg(e,t,r){t=Uo(r,t),t=Xw(e,t,1),e=Tn(e,t,1),t=ft(),e!==null&&(ba(e,1,t),bt(e,t))}function Me(e,t,r){if(e.tag===3)vg(e,e,r);else for(;t!==null;){if(t.tag===3){vg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rn===null||!Rn.has(n))){e=Uo(r,e),e=Zw(t,e,1),t=Tn(t,e,1),e=ft(),t!==null&&(ba(t,1,e),bt(t,e));break}}t=t.return}}function Ik(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&r,Ge===e&&(Ye&r)===r&&(He===4||He===3&&(Ye&130023424)===Ye&&500>Le()-Yh?hs(e,0):Qh|=r),bt(e,t)}function w0(e,t){t===0&&(e.mode&1?(t=Ha,Ha<<=1,!(Ha&130023424)&&(Ha=4194304)):t=1);var r=ft();e=Gr(e,t),e!==null&&(ba(e,t,r),bt(e,r))}function Ok(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),w0(e,r)}function Mk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),w0(e,r)}var x0;x0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)yt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yt=!1,Sk(e,t,r);yt=!!(e.flags&131072)}else yt=!1,Ne&&t.flags&1048576&&Ew(t,Jl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Nl(e,t),e=t.pendingProps;var s=Mo(t,it.current);wo(t,r),s=Hh(null,t,n,e,s,r);var o=Vh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(n)?(o=!0,Ql(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$h(t),s.updater=Mc,t.stateNode=s,s._reactInternals=t,Zd(t,n,e,r),t=rf(null,t,n,!0,o,r)):(t.tag=0,Ne&&o&&Ph(t),ct(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Nl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Lk(n),e=rr(n,e),s){case 0:t=tf(null,t,n,e,r);break e;case 1:t=ag(null,t,n,e,r);break e;case 11:t=og(null,t,n,e,r);break e;case 14:t=ig(null,t,n,rr(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rr(n,s),tf(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rr(n,s),ag(e,t,n,s,r);case 3:e:{if(n0(t),e===null)throw Error(O(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Rw(e,t),ec(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Uo(Error(O(423)),t),t=lg(e,t,n,r,s);break e}else if(n!==s){s=Uo(Error(O(424)),t),t=lg(e,t,n,r,s);break e}else for(Tt=Nn(t.stateNode.containerInfo.firstChild),Rt=t,Ne=!0,cr=null,r=Nw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Do(),n===s){t=Kr(e,t,r);break e}ct(e,t,n,r)}t=t.child}return t;case 5:return Pw(t),e===null&&Yd(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Wd(n,s)?i=null:o!==null&&Wd(n,o)&&(t.flags|=32),r0(e,t),ct(e,t,i,r),t.child;case 6:return e===null&&Yd(t),null;case 13:return s0(e,t,r);case 4:return Uh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Lo(t,null,n,r):ct(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rr(n,s),og(e,t,n,s,r);case 7:return ct(e,t,t.pendingProps,r),t.child;case 8:return ct(e,t,t.pendingProps.children,r),t.child;case 12:return ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,_e(Xl,n._currentValue),n._currentValue=i,o!==null)if(fr(o.value,i)){if(o.children===s.children&&!wt.current){t=Kr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Br(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Jd(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(O(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Jd(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ct(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,wo(t,r),s=Wt(s),n=n(s),t.flags|=1,ct(e,t,n,r),t.child;case 14:return n=t.type,s=rr(n,t.pendingProps),s=rr(n.type,s),ig(e,t,n,s,r);case 15:return e0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rr(n,s),Nl(e,t),t.tag=1,xt(n)?(e=!0,Ql(t)):e=!1,wo(t,r),Jw(t,n,s),Zd(t,n,s,r),rf(null,t,n,!0,e,r);case 19:return o0(e,t,r);case 22:return t0(e,t,r)}throw Error(O(156,t.tag))};function b0(e,t){return qy(e,t)}function Dk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,r,n){return new Dk(e,t,r,n)}function ep(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lk(e){if(typeof e=="function")return ep(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wh)return 11;if(e===xh)return 14}return 2}function An(e,t){var r=e.alternate;return r===null?(r=Bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pl(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")ep(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ro:return ps(r.children,s,o,t);case yh:i=8,s|=8;break;case _d:return e=Bt(12,r,t,s|2),e.elementType=_d,e.lanes=o,e;case Ed:return e=Bt(13,r,t,s),e.elementType=Ed,e.lanes=o,e;case Cd:return e=Bt(19,r,t,s),e.elementType=Cd,e.lanes=o,e;case Py:return $c(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ty:i=10;break e;case Ry:i=9;break e;case wh:i=11;break e;case xh:i=14;break e;case un:i=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Bt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function ps(e,t,r,n){return e=Bt(7,e,n,t),e.lanes=r,e}function $c(e,t,r,n){return e=Bt(22,e,n,t),e.elementType=Py,e.lanes=r,e.stateNode={isHidden:!1},e}function Ku(e,t,r){return e=Bt(6,e,null,t),e.lanes=r,e}function qu(e,t,r){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $k(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nu(0),this.expirationTimes=Nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tp(e,t,r,n,s,o,i,a,c){return e=new $k(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Bt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$h(o),e}function Uk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function S0(e){if(!e)return Ln;e=e._reactInternals;e:{if(Rs(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(xt(r))return Sw(e,r,t)}return t}function _0(e,t,r,n,s,o,i,a,c){return e=tp(r,n,!0,e,s,o,i,a,c),e.context=S0(null),r=e.current,n=ft(),s=Pn(r),o=Br(n,s),o.callback=t??null,Tn(r,o,s),e.current.lanes=s,ba(e,s,n),bt(e,n),e}function Uc(e,t,r,n){var s=t.current,o=ft(),i=Pn(s);return r=S0(r),t.context===null?t.context=r:t.pendingContext=r,t=Br(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Tn(s,t,i),e!==null&&(dr(e,s,i,o),Cl(e,s,i)),i}function lc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rp(e,t){yg(e,t),(e=e.alternate)&&yg(e,t)}function Fk(){return null}var E0=typeof reportError=="function"?reportError:function(e){console.error(e)};function np(e){this._internalRoot=e}Fc.prototype.render=np.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Uc(e,t,null,null)};Fc.prototype.unmount=np.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xs(function(){Uc(null,e,null,null)}),t[Wr]=null}};function Fc(e){this._internalRoot=e}Fc.prototype.unstable_scheduleHydration=function(e){if(e){var t=tw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hn.length&&t!==0&&t<hn[r].priority;r++);hn.splice(r,0,e),r===0&&nw(e)}};function sp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wg(){}function zk(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=lc(i);o.call(u)}}var i=_0(t,n,e,0,null,!1,!1,"",wg);return e._reactRootContainer=i,e[Wr]=i.current,Gi(e.nodeType===8?e.parentNode:e),xs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=lc(c);a.call(u)}}var c=tp(e,0,!1,null,null,!1,!1,"",wg);return e._reactRootContainer=c,e[Wr]=c.current,Gi(e.nodeType===8?e.parentNode:e),xs(function(){Uc(t,c,r,n)}),c}function Bc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=lc(i);a.call(c)}}Uc(t,i,e,s)}else i=zk(r,t,e,s,n);return lc(i)}Zy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wi(t.pendingLanes);r!==0&&(_h(t,r|1),bt(t,Le()),!(me&6)&&(Fo=Le()+500,Hn()))}break;case 13:xs(function(){var n=Gr(e,1);if(n!==null){var s=ft();dr(n,e,1,s)}}),rp(e,1)}};Eh=function(e){if(e.tag===13){var t=Gr(e,134217728);if(t!==null){var r=ft();dr(t,e,134217728,r)}rp(e,134217728)}};ew=function(e){if(e.tag===13){var t=Pn(e),r=Gr(e,t);if(r!==null){var n=ft();dr(r,e,t,n)}rp(e,t)}};tw=function(){return we};rw=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};Md=function(e,t,r){switch(t){case"input":if(Nd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ac(n);if(!s)throw Error(O(90));Iy(n),Nd(n,s)}}}break;case"textarea":My(e,r);break;case"select":t=r.value,t!=null&&mo(e,!!r.multiple,t,!1)}};By=Jh;Hy=xs;var Bk={usingClientEntryPoint:!1,Events:[_a,io,Ac,Fy,zy,Jh]},fi={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hk={bundleType:fi.bundleType,version:fi.version,rendererPackageName:fi.rendererPackageName,rendererConfig:fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gy(e),e===null?null:e.stateNode},findFiberByHostInstance:fi.findFiberByHostInstance||Fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Nc=el.inject(Hk),Cr=el}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bk;Ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sp(t))throw Error(O(200));return Uk(e,t,null,r)};Ot.createRoot=function(e,t){if(!sp(e))throw Error(O(299));var r=!1,n="",s=E0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=tp(e,1,!1,null,null,r,!1,n,s),e[Wr]=t.current,Gi(e.nodeType===8?e.parentNode:e),new np(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Gy(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return xs(e)};Ot.hydrate=function(e,t,r){if(!zc(t))throw Error(O(200));return Bc(null,e,t,!0,r)};Ot.hydrateRoot=function(e,t,r){if(!sp(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=E0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=_0(t,null,e,1,r??null,s,!1,o,i),e[Wr]=t.current,Gi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Fc(t)};Ot.render=function(e,t,r){if(!zc(t))throw Error(O(200));return Bc(null,e,t,!1,r)};Ot.unmountComponentAtNode=function(e){if(!zc(e))throw Error(O(40));return e._reactRootContainer?(xs(function(){Bc(null,null,e,!1,function(){e._reactRootContainer=null,e[Wr]=null})}),!0):!1};Ot.unstable_batchedUpdates=Jh;Ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zc(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Bc(e,t,r,!1,n)};Ot.version="18.3.1-next-f1338f8080-20240426";function C0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C0)}catch(e){console.error(e)}}C0(),Cy.exports=Ot;var Ps=Cy.exports;const k0=hy(Ps);var j0,xg=Ps;j0=xg.createRoot,xg.hydrateRoot;const Vk=1,Wk=1e6;let Qu=0;function Gk(){return Qu=(Qu+1)%Number.MAX_SAFE_INTEGER,Qu.toString()}const Yu=new Map,bg=e=>{if(Yu.has(e))return;const t=setTimeout(()=>{Yu.delete(e),Ii({type:"REMOVE_TOAST",toastId:e})},Wk);Yu.set(e,t)},Kk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Vk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?bg(r):e.toasts.forEach(n=>{bg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Al=[];let Il={toasts:[]};function Ii(e){Il=Kk(Il,e),Al.forEach(t=>{t(Il)})}function qk({...e}){const t=Gk(),r=s=>Ii({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Ii({type:"DISMISS_TOAST",toastId:t});return Ii({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Qk(){const[e,t]=h.useState(Il);return h.useEffect(()=>(Al.push(t),()=>{const r=Al.indexOf(t);r>-1&&Al.splice(r,1)}),[e]),{...e,toast:qk,dismiss:r=>Ii({type:"DISMISS_TOAST",toastId:r})}}function z(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Sg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hc(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Sg(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Sg(e[s],null)}}}}function ce(...e){return h.useCallback(Hc(...e),e)}function Yk(e,t){const r=h.createContext(t),n=o=>{const{children:i,...a}=o,c=h.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function _t(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),c=r.length;r=[...r,i];const u=f=>{var y;const{scope:m,children:p,...w}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||a,b=h.useMemo(()=>w,Object.values(w));return l.jsx(g.Provider,{value:b,children:p})};u.displayName=o+"Provider";function d(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||a,w=h.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,Jk(s,...t)]}function Jk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function bs(e){const t=Zk(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),c=a.find(ej);if(c){const u=c.props.children,d=a.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var Xk=bs("Slot");function Zk(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=rj(s),a=tj(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Hc(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var N0=Symbol("radix.slottable");function T0(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=N0,t}function ej(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===N0}function tj(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function rj(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Vc(e){const t=e+"CollectionProvider",[r,n]=_t(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:y}=g,v=U.useRef(null),x=U.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:x,collectionRef:v,children:y})};i.displayName=t;const a=e+"CollectionSlot",c=bs(a),u=U.forwardRef((g,b)=>{const{scope:y,children:v}=g,x=o(a,y),S=ce(b,x.collectionRef);return l.jsx(c,{ref:S,children:v})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=bs(d),p=U.forwardRef((g,b)=>{const{scope:y,children:v,...x}=g,S=U.useRef(null),_=ce(b,S),C=o(d,y);return U.useEffect(()=>(C.itemMap.set(S,{ref:S,...x}),()=>void C.itemMap.delete(S))),l.jsx(m,{[f]:"",ref:_,children:v})});p.displayName=d;function w(g){const b=o(e+"CollectionConsumer",g);return U.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((C,E)=>x.indexOf(C.ref.current)-x.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,n]}var nj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J=nj.reduce((e,t)=>{const r=bs(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function op(e,t){e&&Ps.flushSync(()=>e.dispatchEvent(t))}function St(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function sj(e,t=globalThis==null?void 0:globalThis.document){const r=St(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var oj="DismissableLayer",mf="dismissableLayer.update",ij="dismissableLayer.pointerDownOutside",aj="dismissableLayer.focusOutside",_g,R0=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ko=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=h.useContext(R0),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),w=ce(t,E=>f(E)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),v=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=y,_=cj(E=>{const k=E.target,N=[...u.branches].some(j=>j.contains(k));!S||N||(s==null||s(E),i==null||i(E),E.defaultPrevented||a==null||a())},m),C=uj(E=>{const k=E.target;[...u.branches].some(j=>j.contains(k))||(o==null||o(E),i==null||i(E),E.defaultPrevented||a==null||a())},m);return sj(E=>{v===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_g=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Eg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=_g)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Eg())},[d,u]),h.useEffect(()=>{const E=()=>p({});return document.addEventListener(mf,E),()=>document.removeEventListener(mf,E)},[]),l.jsx(J.div,{...c,ref:w,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:z(e.onFocusCapture,C.onFocusCapture),onBlurCapture:z(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:z(e.onPointerDownCapture,_.onPointerDownCapture)})});Ko.displayName=oj;var lj="DismissableLayerBranch",P0=h.forwardRef((e,t)=>{const r=h.useContext(R0),n=h.useRef(null),s=ce(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(J.div,{...e,ref:s})});P0.displayName=lj;function cj(e,t=globalThis==null?void 0:globalThis.document){const r=St(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){A0(ij,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function uj(e,t=globalThis==null?void 0:globalThis.document){const r=St(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&A0(aj,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Eg(){const e=new CustomEvent(mf);document.dispatchEvent(e)}function A0(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?op(s,o):s.dispatchEvent(o)}var dj=Ko,fj=P0,Xe=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},hj="Portal",Ca=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=h.useState(!1);Xe(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?k0.createPortal(l.jsx(J.div,{...n,ref:t}),i):null});Ca.displayName=hj;function pj(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Kt=e=>{const{present:t,children:r}=e,n=mj(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=ce(n.ref,gj(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};Kt.displayName="Presence";function mj(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,c]=pj(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=tl(n.current);o.current=a==="mounted"?u:"none"},[a]),Xe(()=>{const u=n.current,d=s.current;if(d!==e){const m=o.current,p=tl(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Xe(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=tl(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(o.current=tl(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function tl(e){return(e==null?void 0:e.animationName)||"none"}function gj(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vj=ph[" useInsertionEffect ".trim().toString()]||Xe;function $n({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=yj({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=h.useCallback(d=>{var f;if(a){const m=wj(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else o(d)},[a,e,o,i]);return[c,u]}function yj({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return vj(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function wj(e){return typeof e=="function"}var I0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xj="VisuallyHidden",Wc=h.forwardRef((e,t)=>l.jsx(J.span,{...e,ref:t,style:{...I0,...e.style}}));Wc.displayName=xj;var bj=Wc,ip="ToastProvider",[ap,Sj,_j]=Vc("Toast"),[O0]=_t("Toast",[_j]),[Ej,Gc]=O0(ip),M0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ip}\`. Expected non-empty \`string\`.`),l.jsx(ap.Provider,{scope:t,children:l.jsx(Ej,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};M0.displayName=ip;var D0="ToastViewport",Cj=["F8"],gf="toast.viewportPause",vf="toast.viewportResume",L0=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Cj,label:s="Notifications ({hotkey})",...o}=e,i=Gc(D0,r),a=Sj(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=ce(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;h.useEffect(()=>{const b=y=>{var x;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),h.useEffect(()=>{const b=c.current,y=f.current;if(w&&b&&y){const v=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(gf);y.dispatchEvent(C),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(vf);y.dispatchEvent(C),i.isClosePausedRef.current=!1}},S=C=>{!b.contains(C.relatedTarget)&&x()},_=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",v),b.addEventListener("focusout",S),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[w,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:b})=>{const v=a().map(x=>{const S=x.ref.current,_=[S,...$j(S)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return h.useEffect(()=>{const b=f.current;if(b){const y=v=>{var _,C,E;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const k=document.activeElement,N=v.shiftKey;if(v.target===b&&N){(_=u.current)==null||_.focus();return}const M=g({tabbingDirection:N?"backwards":"forwards"}),Y=M.findIndex(D=>D===k);Ju(M.slice(Y+1))?v.preventDefault():N?(C=u.current)==null||C.focus():(E=d.current)==null||E.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[a,g]),l.jsxs(fj,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(yf,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});Ju(b)}}),l.jsx(ap.Slot,{scope:r,children:l.jsx(J.ol,{tabIndex:-1,...o,ref:m})}),w&&l.jsx(yf,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});Ju(b)}})]})});L0.displayName=D0;var $0="ToastFocusProxy",yf=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Gc($0,r);return l.jsx(Wc,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&n()}})});yf.displayName=$0;var ka="Toast",kj="toast.swipeStart",jj="toast.swipeMove",Nj="toast.swipeCancel",Tj="toast.swipeEnd",U0=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,c]=$n({prop:n,defaultProp:s??!0,onChange:o,caller:ka});return l.jsx(Kt,{present:r||a,children:l.jsx(Aj,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:St(e.onPause),onResume:St(e.onResume),onSwipeStart:z(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:z(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:z(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:z(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});U0.displayName=ka;var[Rj,Pj]=O0(ka,{onClose(){}}),Aj=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...w}=e,g=Gc(ka,r),[b,y]=h.useState(null),v=ce(t,D=>y(D)),x=h.useRef(null),S=h.useRef(null),_=s||g.duration,C=h.useRef(0),E=h.useRef(_),k=h.useRef(0),{onToastAdd:N,onToastRemove:j}=g,I=St(()=>{var X;(b==null?void 0:b.contains(document.activeElement))&&((X=g.viewport)==null||X.focus()),i()}),M=h.useCallback(D=>{!D||D===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(I,D))},[I]);h.useEffect(()=>{const D=g.viewport;if(D){const X=()=>{M(E.current),u==null||u()},B=()=>{const Q=new Date().getTime()-C.current;E.current=E.current-Q,window.clearTimeout(k.current),c==null||c()};return D.addEventListener(gf,B),D.addEventListener(vf,X),()=>{D.removeEventListener(gf,B),D.removeEventListener(vf,X)}}},[g.viewport,_,c,u,M]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&M(_)},[o,_,g.isClosePausedRef,M]),h.useEffect(()=>(N(),()=>j()),[N,j]);const Y=h.useMemo(()=>b?G0(b):null,[b]);return g.viewport?l.jsxs(l.Fragment,{children:[Y&&l.jsx(Ij,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:Y}),l.jsx(Rj,{scope:r,onClose:I,children:Ps.createPortal(l.jsx(ap.ItemSlot,{scope:r,children:l.jsx(dj,{asChild:!0,onEscapeKeyDown:z(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(J.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:z(e.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:z(e.onPointerDown,D=>{D.button===0&&(x.current={x:D.clientX,y:D.clientY})}),onPointerMove:z(e.onPointerMove,D=>{if(!x.current)return;const X=D.clientX-x.current.x,B=D.clientY-x.current.y,Q=!!S.current,R=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,A=R?T(0,X):0,L=R?0:T(0,B),F=D.pointerType==="touch"?10:2,q={x:A,y:L},H={originalEvent:D,delta:q};Q?(S.current=q,rl(jj,f,H,{discrete:!1})):Cg(q,g.swipeDirection,F)?(S.current=q,rl(kj,d,H,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(X)>F||Math.abs(B)>F)&&(x.current=null)}),onPointerUp:z(e.onPointerUp,D=>{const X=S.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),S.current=null,x.current=null,X){const Q=D.currentTarget,R={originalEvent:D,delta:X};Cg(X,g.swipeDirection,g.swipeThreshold)?rl(Tj,p,R,{discrete:!0}):rl(Nj,m,R,{discrete:!0}),Q.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Ij=e=>{const{__scopeToast:t,children:r,...n}=e,s=Gc(ka,t),[o,i]=h.useState(!1),[a,c]=h.useState(!1);return Dj(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Ca,{asChild:!0,children:l.jsx(Wc,{...n,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},Oj="ToastTitle",F0=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(J.div,{...n,ref:t})});F0.displayName=Oj;var Mj="ToastDescription",z0=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(J.div,{...n,ref:t})});z0.displayName=Mj;var B0="ToastAction",H0=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(W0,{altText:r,asChild:!0,children:l.jsx(lp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${B0}\`. Expected non-empty \`string\`.`),null)});H0.displayName=B0;var V0="ToastClose",lp=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Pj(V0,r);return l.jsx(W0,{asChild:!0,children:l.jsx(J.button,{type:"button",...n,ref:t,onClick:z(e.onClick,s.onClose)})})});lp.displayName=V0;var W0=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(J.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function G0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Lj(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...G0(n))}}),t}function rl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?op(s,o):s.dispatchEvent(o)}var Cg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function Dj(e=()=>{}){const t=St(e);Xe(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Lj(e){return e.nodeType===e.ELEMENT_NODE}function $j(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ju(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Uj=M0,K0=L0,q0=U0,Q0=F0,Y0=z0,J0=H0,X0=lp;function Z0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Z0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ex(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Z0(e))&&(n&&(n+=" "),n+=t);return n}const kg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jg=ex,Kc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return jg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const m=kg(d)||kg(f);return s[u][m]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(w=>{let[g,b]=w;return Array.isArray(b)?b.includes({...o,...a}[g]):{...o,...a}[g]===b})?[...u,f,m]:u},[]);return jg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>h.createElement("svg",{ref:c,...zj,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:tx("lucide",s),...a},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(Bj,{ref:o,iconNode:t,className:tx(`lucide-${Fj(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ie("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=ie("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=ie("GalleryHorizontal",[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=ie("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ie("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=ie("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ie("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),dp="-",oN=e=>{const t=aN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(dp);return a[0]===""&&a.length!==1&&a.shift(),ux(a,t)||iN(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},ux=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?ux(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(dp);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Pg=/^\[(.+)\]$/,iN=e=>{if(Pg.test(e)){const t=Pg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},aN=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return cN(Object.entries(e.classGroups),r).forEach(([o,i])=>{Ef(i,n,o,t)}),n},Ef=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Ag(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(lN(s)){Ef(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Ef(i,Ag(t,o),r,n)})})},Ag=(e,t)=>{let r=e;return t.split(dp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},lN=e=>e.isThemeGetter,cN=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,uN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},dx="!",dN=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let b=0;b<a.length;b++){let y=a[b];if(u===0){if(y===s&&(n||a.slice(b,b+o)===t)){c.push(a.slice(d,b)),d=b+o;continue}if(y==="/"){f=b;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?a:a.substring(d),p=m.startsWith(dx),w=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},fN=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},hN=e=>({cache:uN(e.cacheSize),parseClassName:dN(e),...oN(e)}),pN=/\s+/,mN=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(pN);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let w=!!p,g=n(w?m.substring(0,p):m);if(!g){if(!w){a=u+(a.length>0?" "+a:a);continue}if(g=n(m),!g){a=u+(a.length>0?" "+a:a);continue}w=!1}const b=fN(d).join(":"),y=f?b+dx:b,v=y+g;if(o.includes(v))continue;o.push(v);const x=s(g,w);for(let S=0;S<x.length;++S){const _=x[S];o.push(y+_)}a=u+(a.length>0?" "+a:a)}return a};function gN(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fx(t))&&(n&&(n+=" "),n+=r);return n}const fx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fx(e[n]))&&(r&&(r+=" "),r+=t);return r};function vN(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=hN(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=mN(c,r);return s(c,d),d}return function(){return o(gN.apply(null,arguments))}}const Ee=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},hx=/^\[(?:([a-z-]+):)?(.+)\]$/i,yN=/^\d+\/\d+$/,wN=new Set(["px","full","screen"]),xN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_N=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ir=e=>bo(e)||wN.has(e)||yN.test(e),on=e=>qo(e,"length",AN),bo=e=>!!e&&!Number.isNaN(Number(e)),Xu=e=>qo(e,"number",bo),hi=e=>!!e&&Number.isInteger(Number(e)),CN=e=>e.endsWith("%")&&bo(e.slice(0,-1)),ae=e=>hx.test(e),an=e=>xN.test(e),kN=new Set(["length","size","percentage"]),jN=e=>qo(e,kN,px),NN=e=>qo(e,"position",px),TN=new Set(["image","url"]),RN=e=>qo(e,TN,ON),PN=e=>qo(e,"",IN),pi=()=>!0,qo=(e,t,r)=>{const n=hx.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},AN=e=>bN.test(e)&&!SN.test(e),px=()=>!1,IN=e=>_N.test(e),ON=e=>EN.test(e),MN=()=>{const e=Ee("colors"),t=Ee("spacing"),r=Ee("blur"),n=Ee("brightness"),s=Ee("borderColor"),o=Ee("borderRadius"),i=Ee("borderSpacing"),a=Ee("borderWidth"),c=Ee("contrast"),u=Ee("grayscale"),d=Ee("hueRotate"),f=Ee("invert"),m=Ee("gap"),p=Ee("gradientColorStops"),w=Ee("gradientColorStopPositions"),g=Ee("inset"),b=Ee("margin"),y=Ee("opacity"),v=Ee("padding"),x=Ee("saturate"),S=Ee("scale"),_=Ee("sepia"),C=Ee("skew"),E=Ee("space"),k=Ee("translate"),N=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ae,t],M=()=>[ae,t],Y=()=>["",Ir,on],D=()=>["auto",bo,ae],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",ae],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[bo,ae];return{cacheSize:500,separator:":",theme:{colors:[pi],spacing:[Ir,on],blur:["none","",an,ae],brightness:L(),borderColor:[e],borderRadius:["none","","full",an,ae],borderSpacing:M(),borderWidth:Y(),contrast:L(),grayscale:T(),hueRotate:L(),invert:T(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[CN,on],inset:I(),margin:I(),opacity:L(),padding:M(),saturate:L(),scale:L(),sepia:T(),skew:L(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),ae]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hi,ae]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",hi,ae]}],"grid-cols":[{"grid-cols":[pi]}],"col-start-end":[{col:["auto",{span:["full",hi,ae]},ae]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[pi]}],"row-start-end":[{row:["auto",{span:[hi,ae]},ae]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,t]}],"min-w":[{"min-w":[ae,t,"min","max","fit"]}],"max-w":[{"max-w":[ae,t,"none","full","min","max","fit","prose",{screen:[an]},an]}],h:[{h:[ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",an,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xu]}],"font-family":[{font:[pi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",bo,Xu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ir,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ir,on]}],"underline-offset":[{"underline-offset":["auto",Ir,ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),NN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Ir,ae]}],"outline-w":[{outline:[Ir,on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ir,on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",an,PN]}],"shadow-color":[{shadow:[pi]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",an,ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[hi,ae]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ir,on,Xu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DN=vN(MN);function W(...e){return DN(ex(e))}const LN=Uj,mx=h.forwardRef(({className:e,...t},r)=>l.jsx(K0,{ref:r,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));mx.displayName=K0.displayName;const $N=Kc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gx=h.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(q0,{ref:n,className:W($N({variant:t}),e),...r}));gx.displayName=q0.displayName;const UN=h.forwardRef(({className:e,...t},r)=>l.jsx(J0,{ref:r,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));UN.displayName=J0.displayName;const vx=h.forwardRef(({className:e,...t},r)=>l.jsx(X0,{ref:r,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(cp,{className:"h-4 w-4"})}));vx.displayName=X0.displayName;const yx=h.forwardRef(({className:e,...t},r)=>l.jsx(Q0,{ref:r,className:W("text-sm font-semibold",e),...t}));yx.displayName=Q0.displayName;const wx=h.forwardRef(({className:e,...t},r)=>l.jsx(Y0,{ref:r,className:W("text-sm opacity-90",e),...t}));wx.displayName=Y0.displayName;function FN(){const{toasts:e}=Qk();return l.jsxs(LN,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return l.jsxs(gx,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(yx,{children:r}),n&&l.jsx(wx,{children:n})]}),s,l.jsx(vx,{})]},t)}),l.jsx(mx,{})]})}var Ig=["light","dark"],zN="(prefers-color-scheme: dark)",BN=h.createContext(void 0),HN={setTheme:e=>{},themes:[]},VN=()=>{var e;return(e=h.useContext(BN))!=null?e:HN};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Ig.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,g=!1,b=!0)=>{let y=i?i[w]:w,v=g?w+"|| ''":`'${y}'`,x="";return s&&b&&!g&&Ig.includes(w)&&(x+=`d.style.colorScheme = '${w}';`),r==="class"?g||y?x+=`c.add(${v})`:x+="null":y&&(x+=`d[s](n,${v})`),x},p=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${zN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var WN=e=>{switch(e){case"success":return qN;case"info":return YN;case"warning":return QN;case"error":return JN;default:return null}},GN=Array(12).fill(0),KN=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},GN.map((r,n)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),qN=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QN=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YN=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),JN=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XN=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ZN=()=>{let[e,t]=U.useState(document.hidden);return U.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Cf=1,eT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Cf++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],U.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(rT(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),a=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Cf++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gt=new eT,tT=(e,t)=>{let r=(t==null?void 0:t.id)||Cf++;return gt.addToast({title:e,...t,id:r}),r},rT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nT=tT,sT=()=>gt.toasts,oT=()=>gt.getActiveToasts();Object.assign(nT,{success:gt.success,info:gt.info,warning:gt.warning,error:gt.error,custom:gt.custom,message:gt.message,promise:gt.promise,dismiss:gt.dismiss,loading:gt.loading},{getHistory:sT,getToasts:oT});function iT(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}iT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function nl(e){return e.label!==void 0}var aT=3,lT="32px",cT="16px",Og=4e3,uT=356,dT=14,fT=20,hT=200;function Xt(...e){return e.filter(Boolean).join(" ")}function pT(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var mT=e=>{var t,r,n,s,o,i,a,c,u,d,f;let{invert:m,toast:p,unstyled:w,interacting:g,setHeights:b,visibleToasts:y,heights:v,index:x,toasts:S,expanded:_,removeToast:C,defaultRichColors:E,closeButton:k,style:N,cancelButtonStyle:j,actionButtonStyle:I,className:M="",descriptionClassName:Y="",duration:D,position:X,gap:B,loadingIcon:Q,expandByDefault:R,classNames:T,icons:A,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:F}=e,[q,H]=U.useState(null),[ne,ue]=U.useState(null),[$,fe]=U.useState(!1),[te,he]=U.useState(!1),[pe,ve]=U.useState(!1),[Ze,Dt]=U.useState(!1),[Gn,en]=U.useState(!1),[Kn,ni]=U.useState(0),[Ds,sm]=U.useState(0),si=U.useRef(p.duration||D||Og),om=U.useRef(null),qn=U.useRef(null),aE=x===0,lE=x+1<=y,Lt=p.type,Ls=p.dismissible!==!1,cE=p.className||"",uE=p.descriptionClassName||"",Da=U.useMemo(()=>v.findIndex(oe=>oe.toastId===p.id)||0,[v,p.id]),dE=U.useMemo(()=>{var oe;return(oe=p.closeButton)!=null?oe:k},[p.closeButton,k]),im=U.useMemo(()=>p.duration||D||Og,[p.duration,D]),xu=U.useRef(0),$s=U.useRef(0),am=U.useRef(0),Us=U.useRef(null),[fE,hE]=X.split("-"),lm=U.useMemo(()=>v.reduce((oe,xe,je)=>je>=Da?oe:oe+xe.height,0),[v,Da]),cm=ZN(),pE=p.invert||m,bu=Lt==="loading";$s.current=U.useMemo(()=>Da*B+lm,[Da,lm]),U.useEffect(()=>{si.current=im},[im]),U.useEffect(()=>{fe(!0)},[]),U.useEffect(()=>{let oe=qn.current;if(oe){let xe=oe.getBoundingClientRect().height;return sm(xe),b(je=>[{toastId:p.id,height:xe,position:p.position},...je]),()=>b(je=>je.filter(qt=>qt.toastId!==p.id))}},[b,p.id]),U.useLayoutEffect(()=>{if(!$)return;let oe=qn.current,xe=oe.style.height;oe.style.height="auto";let je=oe.getBoundingClientRect().height;oe.style.height=xe,sm(je),b(qt=>qt.find(Qt=>Qt.toastId===p.id)?qt.map(Qt=>Qt.toastId===p.id?{...Qt,height:je}:Qt):[{toastId:p.id,height:je,position:p.position},...qt])},[$,p.title,p.description,b,p.id]);let tn=U.useCallback(()=>{he(!0),ni($s.current),b(oe=>oe.filter(xe=>xe.toastId!==p.id)),setTimeout(()=>{C(p)},hT)},[p,C,b,$s]);U.useEffect(()=>{if(p.promise&&Lt==="loading"||p.duration===1/0||p.type==="loading")return;let oe;return _||g||F&&cm?(()=>{if(am.current<xu.current){let xe=new Date().getTime()-xu.current;si.current=si.current-xe}am.current=new Date().getTime()})():si.current!==1/0&&(xu.current=new Date().getTime(),oe=setTimeout(()=>{var xe;(xe=p.onAutoClose)==null||xe.call(p,p),tn()},si.current)),()=>clearTimeout(oe)},[_,g,p,Lt,F,cm,tn]),U.useEffect(()=>{p.delete&&tn()},[tn,p.delete]);function mE(){var oe,xe,je;return A!=null&&A.loading?U.createElement("div",{className:Xt(T==null?void 0:T.loader,(oe=p==null?void 0:p.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Lt==="loading"},A.loading):Q?U.createElement("div",{className:Xt(T==null?void 0:T.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":Lt==="loading"},Q):U.createElement(KN,{className:Xt(T==null?void 0:T.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader),visible:Lt==="loading"})}return U.createElement("li",{tabIndex:0,ref:qn,className:Xt(M,cE,T==null?void 0:T.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Lt],(r=p==null?void 0:p.classNames)==null?void 0:r[Lt]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:E,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":$,"data-promise":!!p.promise,"data-swiped":Gn,"data-removed":te,"data-visible":lE,"data-y-position":fE,"data-x-position":hE,"data-index":x,"data-front":aE,"data-swiping":pe,"data-dismissible":Ls,"data-type":Lt,"data-invert":pE,"data-swipe-out":Ze,"data-swipe-direction":ne,"data-expanded":!!(_||R&&$),style:{"--index":x,"--toasts-before":x,"--z-index":S.length-x,"--offset":`${te?Kn:$s.current}px`,"--initial-height":R?"auto":`${Ds}px`,...N,...p.style},onDragEnd:()=>{ve(!1),H(null),Us.current=null},onPointerDown:oe=>{bu||!Ls||(om.current=new Date,ni($s.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(ve(!0),Us.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,xe,je,qt;if(Ze||!Ls)return;Us.current=null;let Qt=Number(((oe=qn.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rn=Number(((xe=qn.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qn=new Date().getTime()-((je=om.current)==null?void 0:je.getTime()),Yt=q==="x"?Qt:rn,nn=Math.abs(Yt)/Qn;if(Math.abs(Yt)>=fT||nn>.11){ni($s.current),(qt=p.onDismiss)==null||qt.call(p,p),ue(q==="x"?Qt>0?"right":"left":rn>0?"down":"up"),tn(),Dt(!0),en(!1);return}ve(!1),H(null)},onPointerMove:oe=>{var xe,je,qt,Qt;if(!Us.current||!Ls||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;let rn=oe.clientY-Us.current.y,Qn=oe.clientX-Us.current.x,Yt=(je=e.swipeDirections)!=null?je:pT(X);!q&&(Math.abs(Qn)>1||Math.abs(rn)>1)&&H(Math.abs(Qn)>Math.abs(rn)?"x":"y");let nn={x:0,y:0};q==="y"?(Yt.includes("top")||Yt.includes("bottom"))&&(Yt.includes("top")&&rn<0||Yt.includes("bottom")&&rn>0)&&(nn.y=rn):q==="x"&&(Yt.includes("left")||Yt.includes("right"))&&(Yt.includes("left")&&Qn<0||Yt.includes("right")&&Qn>0)&&(nn.x=Qn),(Math.abs(nn.x)>0||Math.abs(nn.y)>0)&&en(!0),(qt=qn.current)==null||qt.style.setProperty("--swipe-amount-x",`${nn.x}px`),(Qt=qn.current)==null||Qt.style.setProperty("--swipe-amount-y",`${nn.y}px`)}},dE&&!p.jsx?U.createElement("button",{"aria-label":L,"data-disabled":bu,"data-close-button":!0,onClick:bu||!Ls?()=>{}:()=>{var oe;tn(),(oe=p.onDismiss)==null||oe.call(p,p)},className:Xt(T==null?void 0:T.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=A==null?void 0:A.close)!=null?o:XN):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:U.createElement(U.Fragment,null,Lt||p.icon||p.promise?U.createElement("div",{"data-icon":"",className:Xt(T==null?void 0:T.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||mE():null,p.type!=="loading"?p.icon||(A==null?void 0:A[Lt])||WN(Lt):null):null,U.createElement("div",{"data-content":"",className:Xt(T==null?void 0:T.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},U.createElement("div",{"data-title":"",className:Xt(T==null?void 0:T.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?U.createElement("div",{"data-description":"",className:Xt(Y,uE,T==null?void 0:T.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&nl(p.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||j,onClick:oe=>{var xe,je;nl(p.cancel)&&Ls&&((je=(xe=p.cancel).onClick)==null||je.call(xe,oe),tn())},className:Xt(T==null?void 0:T.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&nl(p.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:oe=>{var xe,je;nl(p.action)&&((je=(xe=p.action).onClick)==null||je.call(xe,oe),!oe.defaultPrevented&&tn())},className:Xt(T==null?void 0:T.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Mg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function gT(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?cT:lT;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=a:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(a)}),r}var vT=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:w=aT,toastOptions:g,dir:b=Mg(),gap:y=dT,loadingIcon:v,icons:x,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=e,[C,E]=U.useState([]),k=U.useMemo(()=>Array.from(new Set([n].concat(C.filter(F=>F.position).map(F=>F.position)))),[C,n]),[N,j]=U.useState([]),[I,M]=U.useState(!1),[Y,D]=U.useState(!1),[X,B]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=U.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=U.useRef(null),A=U.useRef(!1),L=U.useCallback(F=>{E(q=>{var H;return(H=q.find(ne=>ne.id===F.id))!=null&&H.delete||gt.dismiss(F.id),q.filter(({id:ne})=>ne!==F.id)})},[]);return U.useEffect(()=>gt.subscribe(F=>{if(F.dismiss){E(q=>q.map(H=>H.id===F.id?{...H,delete:!0}:H));return}setTimeout(()=>{k0.flushSync(()=>{E(q=>{let H=q.findIndex(ne=>ne.id===F.id);return H!==-1?[...q.slice(0,H),{...q[H],...F},...q.slice(H+1)]:[F,...q]})})})}),[]),U.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:q})=>{B(q?"dark":"light")})}catch{F.addListener(({matches:H})=>{try{B(H?"dark":"light")}catch(ne){console.error(ne)}})}},[d]),U.useEffect(()=>{C.length<=1&&M(!1)},[C]),U.useEffect(()=>{let F=q=>{var H,ne;s.every(ue=>q[ue]||q.code===ue)&&(M(!0),(H=Q.current)==null||H.focus()),q.code==="Escape"&&(document.activeElement===Q.current||(ne=Q.current)!=null&&ne.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[s]),U.useEffect(()=>{if(Q.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,A.current=!1)}},[Q.current]),U.createElement("section",{ref:t,"aria-label":`${S} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((F,q)=>{var H;let[ne,ue]=F.split("-");return C.length?U.createElement("ol",{key:F,dir:b==="auto"?Mg():b,tabIndex:-1,ref:Q,className:a,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":ne,"data-lifted":I&&C.length>1&&!o,"data-x-position":ue,style:{"--front-toast-height":`${((H=N[0])==null?void 0:H.height)||0}px`,"--width":`${uT}px`,"--gap":`${y}px`,...p,...gT(c,u)},onBlur:$=>{A.current&&!$.currentTarget.contains($.relatedTarget)&&(A.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||A.current||(A.current=!0,T.current=$.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{Y||M(!1)},onDragEnd:()=>M(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},C.filter($=>!$.position&&q===0||$.position===F).map(($,fe)=>{var te,he;return U.createElement(mT,{key:$.id,icons:x,index:fe,toast:$,defaultRichColors:f,duration:(te=g==null?void 0:g.duration)!=null?te:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:w,closeButton:(he=g==null?void 0:g.closeButton)!=null?he:i,interacting:Y,position:F,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:L,toasts:C.filter(pe=>pe.position==$.position),heights:N.filter(pe=>pe.position==$.position),setHeights:j,expandByDefault:o,gap:y,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const yT=({...e})=>{const{theme:t="system"}=VN();return l.jsx(vT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var wT=ph[" useId ".trim().toString()]||(()=>{}),xT=0;function jr(e){const[t,r]=h.useState(wT());return Xe(()=>{r(n=>n??String(xT++))},[e]),t?`radix-${t}`:""}const bT=["top","right","bottom","left"],Un=Math.min,jt=Math.max,fc=Math.round,sl=Math.floor,Nr=e=>({x:e,y:e}),ST={left:"right",right:"left",bottom:"top",top:"bottom"},_T={start:"end",end:"start"};function kf(e,t,r){return jt(e,Un(t,r))}function qr(e,t){return typeof e=="function"?e(t):e}function Qr(e){return e.split("-")[0]}function Qo(e){return e.split("-")[1]}function fp(e){return e==="x"?"y":"x"}function hp(e){return e==="y"?"height":"width"}const ET=new Set(["top","bottom"]);function Er(e){return ET.has(Qr(e))?"y":"x"}function pp(e){return fp(Er(e))}function CT(e,t,r){r===void 0&&(r=!1);const n=Qo(e),s=pp(e),o=hp(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=hc(i)),[i,hc(i)]}function kT(e){const t=hc(e);return[jf(e),t,jf(t)]}function jf(e){return e.replace(/start|end/g,t=>_T[t])}const Dg=["left","right"],Lg=["right","left"],jT=["top","bottom"],NT=["bottom","top"];function TT(e,t,r){switch(e){case"top":case"bottom":return r?t?Lg:Dg:t?Dg:Lg;case"left":case"right":return t?jT:NT;default:return[]}}function RT(e,t,r,n){const s=Qo(e);let o=TT(Qr(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(jf)))),o}function hc(e){return e.replace(/left|right|bottom|top/g,t=>ST[t])}function PT(e){return{top:0,right:0,bottom:0,left:0,...e}}function xx(e){return typeof e!="number"?PT(e):{top:e,right:e,bottom:e,left:e}}function pc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function $g(e,t,r){let{reference:n,floating:s}=e;const o=Er(t),i=pp(t),a=hp(i),c=Qr(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Qo(t)){case"start":p[i]-=m*(r&&u?-1:1);break;case"end":p[i]+=m*(r&&u?-1:1);break}return p}const AT=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=$g(u,n,c),m=n,p={},w=0;for(let g=0;g<a.length;g++){const{name:b,fn:y}=a[g],{x:v,y:x,data:S,reset:_}=await y({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,f=x??f,p={...p,[b]:{...p[b],...S}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=$g(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function ra(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=qr(t,e),w=xx(p),b=a[m?f==="floating"?"reference":"floating":f],y=pc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},_=pc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:c}):v);return{top:(y.top-_.top+w.top)/S.y,bottom:(_.bottom-y.bottom+w.bottom)/S.y,left:(y.left-_.left+w.left)/S.x,right:(_.right-y.right+w.right)/S.x}}const IT=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=qr(e,t)||{};if(u==null)return{};const f=xx(d),m={x:r,y:n},p=pp(s),w=hp(p),g=await i.getDimensions(u),b=p==="y",y=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",S=o.reference[w]+o.reference[p]-m[p]-o.floating[w],_=m[p]-o.reference[p],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=C?C[x]:0;(!E||!await(i.isElement==null?void 0:i.isElement(C)))&&(E=a.floating[x]||o.floating[w]);const k=S/2-_/2,N=E/2-g[w]/2-1,j=Un(f[y],N),I=Un(f[v],N),M=j,Y=E-g[w]-I,D=E/2-g[w]/2+k,X=kf(M,D,Y),B=!c.arrow&&Qo(s)!=null&&D!==X&&o.reference[w]/2-(D<M?j:I)-g[w]/2<0,Q=B?D<M?D-M:D-Y:0;return{[p]:m[p]+Q,data:{[p]:X,centerOffset:D-X-Q,...B&&{alignmentOffset:Q}},reset:B}}}),OT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...b}=qr(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=Qr(s),v=Er(a),x=Qr(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=m||(x||!g?[hc(a)]:kT(a)),C=w!=="none";!m&&C&&_.push(...RT(a,g,w,S));const E=[a,..._],k=await ra(t,b),N=[];let j=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&N.push(k[y]),f){const D=CT(s,i,S);N.push(k[D[0]],k[D[1]])}if(j=[...j,{placement:s,overflows:N}],!N.every(D=>D<=0)){var I,M;const D=(((I=o.flip)==null?void 0:I.index)||0)+1,X=E[D];if(X&&(!(f==="alignment"?v!==Er(X):!1)||j.every(R=>Er(R.placement)===v?R.overflows[0]>0:!0)))return{data:{index:D,overflows:j},reset:{placement:X}};let B=(M=j.filter(Q=>Q.overflows[0]<=0).sort((Q,R)=>Q.overflows[1]-R.overflows[1])[0])==null?void 0:M.placement;if(!B)switch(p){case"bestFit":{var Y;const Q=(Y=j.filter(R=>{if(C){const T=Er(R.placement);return T===v||T==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(T=>T>0).reduce((T,A)=>T+A,0)]).sort((R,T)=>R[1]-T[1])[0])==null?void 0:Y[0];Q&&(B=Q);break}case"initialPlacement":B=a;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function Ug(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fg(e){return bT.some(t=>e[t]>=0)}const MT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=qr(e,t);switch(n){case"referenceHidden":{const o=await ra(t,{...s,elementContext:"reference"}),i=Ug(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Fg(i)}}}case"escaped":{const o=await ra(t,{...s,altBoundary:!0}),i=Ug(o,r.floating);return{data:{escapedOffsets:i,escaped:Fg(i)}}}default:return{}}}}},bx=new Set(["left","top"]);async function DT(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Qr(r),a=Qo(r),c=Er(r)==="y",u=bx.has(i)?-1:1,d=o&&c?-1:1,f=qr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(p=a==="end"?w*-1:w),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const LT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await DT(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},$T=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:y,y:v}=b;return{x:y,y:v}}},...c}=qr(e,t),u={x:r,y:n},d=await ra(t,c),f=Er(Qr(s)),m=fp(f);let p=u[m],w=u[f];if(o){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=p+d[b],x=p-d[y];p=kf(v,p,x)}if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=w+d[b],x=w-d[y];w=kf(v,w,x)}const g=a.fn({...t,[m]:p,[f]:w});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[f]:i}}}}}},UT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=qr(e,t),d={x:r,y:n},f=Er(s),m=fp(f);let p=d[m],w=d[f];const g=qr(a,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",S=o.reference[m]-o.floating[x]+b.mainAxis,_=o.reference[m]+o.reference[x]-b.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var y,v;const x=m==="y"?"width":"height",S=bx.has(Qr(s)),_=o.reference[f]-o.floating[x]+(S&&((y=i.offset)==null?void 0:y[f])||0)+(S?0:b.crossAxis),C=o.reference[f]+o.reference[x]+(S?0:((v=i.offset)==null?void 0:v[f])||0)-(S?b.crossAxis:0);w<_?w=_:w>C&&(w=C)}return{[m]:p,[f]:w}}}},FT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=qr(e,t),d=await ra(t,u),f=Qr(s),m=Qo(s),p=Er(s)==="y",{width:w,height:g}=o.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,b=m==="end"?"top":"bottom");const v=g-d.top-d.bottom,x=w-d.left-d.right,S=Un(g-d[b],v),_=Un(w-d[y],x),C=!t.middlewareData.shift;let E=S,k=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=v),C&&!m){const j=jt(d.left,0),I=jt(d.right,0),M=jt(d.top,0),Y=jt(d.bottom,0);p?k=w-2*(j!==0||I!==0?j+I:jt(d.left,d.right)):E=g-2*(M!==0||Y!==0?M+Y:jt(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:E});const N=await i.getDimensions(a.floating);return w!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Qc(){return typeof window<"u"}function Yo(e){return Sx(e)?(e.nodeName||"").toLowerCase():"#document"}function Pt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ar(e){var t;return(t=(Sx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sx(e){return Qc()?e instanceof Node||e instanceof Pt(e).Node:!1}function hr(e){return Qc()?e instanceof Element||e instanceof Pt(e).Element:!1}function Pr(e){return Qc()?e instanceof HTMLElement||e instanceof Pt(e).HTMLElement:!1}function zg(e){return!Qc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pt(e).ShadowRoot}const zT=new Set(["inline","contents"]);function Na(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!zT.has(s)}const BT=new Set(["table","td","th"]);function HT(e){return BT.has(Yo(e))}const VT=[":popover-open",":modal"];function Yc(e){return VT.some(t=>{try{return e.matches(t)}catch{return!1}})}const WT=["transform","translate","scale","rotate","perspective"],GT=["transform","translate","scale","rotate","perspective","filter"],KT=["paint","layout","strict","content"];function mp(e){const t=gp(),r=hr(e)?pr(e):e;return WT.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||GT.some(n=>(r.willChange||"").includes(n))||KT.some(n=>(r.contain||"").includes(n))}function qT(e){let t=Fn(e);for(;Pr(t)&&!zo(t);){if(mp(t))return t;if(Yc(t))return null;t=Fn(t)}return null}function gp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const QT=new Set(["html","body","#document"]);function zo(e){return QT.has(Yo(e))}function pr(e){return Pt(e).getComputedStyle(e)}function Jc(e){return hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fn(e){if(Yo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zg(e)&&e.host||Ar(e);return zg(t)?t.host:t}function _x(e){const t=Fn(e);return zo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pr(t)&&Na(t)?t:_x(t)}function na(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=_x(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Pt(s);if(o){const a=Nf(i);return t.concat(i,i.visualViewport||[],Na(s)?s:[],a&&r?na(a):[])}return t.concat(s,na(s,[],r))}function Nf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ex(e){const t=pr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Pr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=fc(r)!==o||fc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function vp(e){return hr(e)?e:e.contextElement}function So(e){const t=vp(e);if(!Pr(t))return Nr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Ex(t);let i=(o?fc(r.width):r.width)/n,a=(o?fc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const YT=Nr(0);function Cx(e){const t=Pt(e);return!gp()||!t.visualViewport?YT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JT(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Pt(e)?!1:t}function _s(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=vp(e);let i=Nr(1);t&&(n?hr(n)&&(i=So(n)):i=So(e));const a=JT(o,r,n)?Cx(o):Nr(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=Pt(o),p=n&&hr(n)?Pt(n):n;let w=m,g=Nf(w);for(;g&&n&&p!==w;){const b=So(g),y=g.getBoundingClientRect(),v=pr(g),x=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,S=y.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=x,u+=S,w=Pt(g),g=Nf(w)}}return pc({width:d,height:f,x:c,y:u})}function Xc(e,t){const r=Jc(e).scrollLeft;return t?t.left+r:_s(Ar(e)).left+r}function kx(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Xc(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function XT(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Ar(n),a=t?Yc(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Nr(1);const d=Nr(0),f=Pr(n);if((f||!f&&!o)&&((Yo(n)!=="body"||Na(i))&&(c=Jc(n)),Pr(n))){const p=_s(n);u=So(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=i&&!f&&!o?kx(i,c):Nr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function ZT(e){return Array.from(e.getClientRects())}function eR(e){const t=Ar(e),r=Jc(e),n=e.ownerDocument.body,s=jt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=jt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Xc(e);const a=-r.scrollTop;return pr(n).direction==="rtl"&&(i+=jt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}const Bg=25;function tR(e,t){const r=Pt(e),n=Ar(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const d=gp();(!d||d&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const u=Xc(n);if(u<=0){const d=n.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,w=Math.abs(n.clientWidth-f.clientWidth-p);w<=Bg&&(o-=w)}else u<=Bg&&(o+=u);return{width:o,height:i,x:a,y:c}}const rR=new Set(["absolute","fixed"]);function nR(e,t){const r=_s(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Pr(e)?So(e):Nr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function Hg(e,t,r){let n;if(t==="viewport")n=tR(e,r);else if(t==="document")n=eR(Ar(e));else if(hr(t))n=nR(t,r);else{const s=Cx(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pc(n)}function jx(e,t){const r=Fn(e);return r===t||!hr(r)||zo(r)?!1:pr(r).position==="fixed"||jx(r,t)}function sR(e,t){const r=t.get(e);if(r)return r;let n=na(e,[],!1).filter(a=>hr(a)&&Yo(a)!=="body"),s=null;const o=pr(e).position==="fixed";let i=o?Fn(e):e;for(;hr(i)&&!zo(i);){const a=pr(i),c=mp(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&rR.has(s.position)||Na(i)&&!c&&jx(e,i))?n=n.filter(d=>d!==i):s=a,i=Fn(i)}return t.set(e,n),n}function oR(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Yc(t)?[]:sR(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,d)=>{const f=Hg(t,d,s);return u.top=jt(f.top,u.top),u.right=Un(f.right,u.right),u.bottom=Un(f.bottom,u.bottom),u.left=jt(f.left,u.left),u},Hg(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function iR(e){const{width:t,height:r}=Ex(e);return{width:t,height:r}}function aR(e,t,r){const n=Pr(t),s=Ar(t),o=r==="fixed",i=_s(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Nr(0);function u(){c.x=Xc(s)}if(n||!n&&!o)if((Yo(t)!=="body"||Na(s))&&(a=Jc(t)),n){const p=_s(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?kx(s,a):Nr(0),f=i.left+a.scrollLeft-c.x-d.x,m=i.top+a.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function Zu(e){return pr(e).position==="static"}function Vg(e,t){if(!Pr(e)||pr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ar(e)===r&&(r=r.ownerDocument.body),r}function Nx(e,t){const r=Pt(e);if(Yc(e))return r;if(!Pr(e)){let s=Fn(e);for(;s&&!zo(s);){if(hr(s)&&!Zu(s))return s;s=Fn(s)}return r}let n=Vg(e,t);for(;n&&HT(n)&&Zu(n);)n=Vg(n,t);return n&&zo(n)&&Zu(n)&&!mp(n)?r:n||qT(e)||r}const lR=async function(e){const t=this.getOffsetParent||Nx,r=this.getDimensions,n=await r(e.floating);return{reference:aR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cR(e){return pr(e).direction==="rtl"}const uR={convertOffsetParentRelativeRectToViewportRelativeRect:XT,getDocumentElement:Ar,getClippingRect:oR,getOffsetParent:Nx,getElementRects:lR,getClientRects:ZT,getDimensions:iR,getScale:So,isElement:hr,isRTL:cR};function Tx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dR(e,t){let r=null,n;const s=Ar(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(a||t(),!m||!p)return;const w=sl(f),g=sl(s.clientWidth-(d+m)),b=sl(s.clientHeight-(f+p)),y=sl(d),x={rootMargin:-w+"px "+-g+"px "+-b+"px "+-y+"px",threshold:jt(0,Un(1,c))||1};let S=!0;function _(C){const E=C[0].intersectionRatio;if(E!==c){if(!S)return i();E?i(!1,E):n=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!Tx(u,e.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return i(!0),o}function fR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=vp(e),d=s||o?[...u?na(u):[],...na(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const f=u&&a?dR(u,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let w,g=c?_s(e):null;c&&b();function b(){const y=_s(e);g&&!Tx(g,y)&&r(),g=y,w=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const hR=LT,pR=$T,mR=OT,gR=FT,vR=MT,Wg=IT,yR=UT,wR=(e,t,r)=>{const n=new Map,s={platform:uR,...r},o={...s.platform,_c:n};return AT(e,t,{...s,platform:o})};var xR=typeof document<"u",bR=function(){},Ol=xR?h.useLayoutEffect:bR;function mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!mc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Rx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gg(e,t){const r=Rx(e);return Math.round(t*r)/r}function ed(e){const t=h.useRef(e);return Ol(()=>{t.current=e}),t}function SR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);mc(m,n)||p(n);const[w,g]=h.useState(null),[b,y]=h.useState(null),v=h.useCallback(R=>{R!==C.current&&(C.current=R,g(R))},[]),x=h.useCallback(R=>{R!==E.current&&(E.current=R,y(R))},[]),S=o||w,_=i||b,C=h.useRef(null),E=h.useRef(null),k=h.useRef(d),N=c!=null,j=ed(c),I=ed(s),M=ed(u),Y=h.useCallback(()=>{if(!C.current||!E.current)return;const R={placement:t,strategy:r,middleware:m};I.current&&(R.platform=I.current),wR(C.current,E.current,R).then(T=>{const A={...T,isPositioned:M.current!==!1};D.current&&!mc(k.current,A)&&(k.current=A,Ps.flushSync(()=>{f(A)}))})},[m,t,r,I,M]);Ol(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const D=h.useRef(!1);Ol(()=>(D.current=!0,()=>{D.current=!1}),[]),Ol(()=>{if(S&&(C.current=S),_&&(E.current=_),S&&_){if(j.current)return j.current(S,_,Y);Y()}},[S,_,Y,j,N]);const X=h.useMemo(()=>({reference:C,floating:E,setReference:v,setFloating:x}),[v,x]),B=h.useMemo(()=>({reference:S,floating:_}),[S,_]),Q=h.useMemo(()=>{const R={position:r,left:0,top:0};if(!B.floating)return R;const T=Gg(B.floating,d.x),A=Gg(B.floating,d.y);return a?{...R,transform:"translate("+T+"px, "+A+"px)",...Rx(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:A}},[r,a,B.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:Y,refs:X,elements:B,floatingStyles:Q}),[d,Y,X,B,Q])}const _R=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Wg({element:n.current,padding:s}).fn(r):{}:n?Wg({element:n,padding:s}).fn(r):{}}}},ER=(e,t)=>({...hR(e),options:[e,t]}),CR=(e,t)=>({...pR(e),options:[e,t]}),kR=(e,t)=>({...yR(e),options:[e,t]}),jR=(e,t)=>({...mR(e),options:[e,t]}),NR=(e,t)=>({...gR(e),options:[e,t]}),TR=(e,t)=>({...vR(e),options:[e,t]}),RR=(e,t)=>({..._R(e),options:[e,t]});var PR="Arrow",Px=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return l.jsx(J.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Px.displayName=PR;var AR=Px;function Ax(e){const[t,r]=h.useState(void 0);return Xe(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var yp="Popper",[Ix,Jo]=_t(yp),[IR,Ox]=Ix(yp),Mx=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return l.jsx(IR,{scope:t,anchor:n,onAnchorChange:s,children:r})};Mx.displayName=yp;var Dx="PopperAnchor",Lx=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=Ox(Dx,r),i=h.useRef(null),a=ce(t,i),c=h.useRef(null);return h.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),n?null:l.jsx(J.div,{...s,ref:a})});Lx.displayName=Dx;var wp="PopperContent",[OR,MR]=Ix(wp),$x=h.forwardRef((e,t)=>{var $,fe,te,he,pe,ve;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...g}=e,b=Ox(wp,r),[y,v]=h.useState(null),x=ce(t,Ze=>v(Ze)),[S,_]=h.useState(null),C=Ax(S),E=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,N=n+(o!=="center"?"-"+o:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],M=I.length>0,Y={padding:j,boundary:I.filter(LR),altBoundary:M},{refs:D,floatingStyles:X,placement:B,isPositioned:Q,middlewareData:R}=SR({strategy:"fixed",placement:N,whileElementsMounted:(...Ze)=>fR(...Ze,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[ER({mainAxis:s+k,alignmentAxis:i}),c&&CR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?kR():void 0,...Y}),c&&jR({...Y}),NR({...Y,apply:({elements:Ze,rects:Dt,availableWidth:Gn,availableHeight:en})=>{const{width:Kn,height:ni}=Dt.reference,Ds=Ze.floating.style;Ds.setProperty("--radix-popper-available-width",`${Gn}px`),Ds.setProperty("--radix-popper-available-height",`${en}px`),Ds.setProperty("--radix-popper-anchor-width",`${Kn}px`),Ds.setProperty("--radix-popper-anchor-height",`${ni}px`)}}),S&&RR({element:S,padding:a}),$R({arrowWidth:E,arrowHeight:k}),m&&TR({strategy:"referenceHidden",...Y})]}),[T,A]=zx(B),L=St(w);Xe(()=>{Q&&(L==null||L())},[Q,L]);const F=($=R.arrow)==null?void 0:$.x,q=(fe=R.arrow)==null?void 0:fe.y,H=((te=R.arrow)==null?void 0:te.centerOffset)!==0,[ne,ue]=h.useState();return Xe(()=>{y&&ue(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:Q?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(he=R.transformOrigin)==null?void 0:he.x,(pe=R.transformOrigin)==null?void 0:pe.y].join(" "),...((ve=R.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(OR,{scope:r,placedSide:T,onArrowChange:_,arrowX:F,arrowY:q,shouldHideArrow:H,children:l.jsx(J.div,{"data-side":T,"data-align":A,...g,ref:x,style:{...g.style,animation:Q?void 0:"none"}})})})});$x.displayName=wp;var Ux="PopperArrow",DR={top:"bottom",right:"left",bottom:"top",left:"right"},Fx=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=MR(Ux,n),i=DR[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(AR,{...s,ref:r,style:{...s.style,display:"block"}})})});Fx.displayName=Ux;function LR(e){return e!==null}var $R=e=>({name:"transformOrigin",options:e,fn(t){var b,y,v;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=zx(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",g="";return u==="bottom"?(w=i?f:`${m}px`,g=`${-c}px`):u==="top"?(w=i?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,g=i?f:`${p}px`):u==="left"&&(w=`${n.floating.width+c}px`,g=i?f:`${p}px`),{data:{x:w,y:g}}}});function zx(e){const[t,r="center"]=e.split("-");return[t,r]}var Bx=Mx,xp=Lx,bp=$x,Sp=Fx,[Zc]=_t("Tooltip",[Jo]),_p=Jo(),Hx="TooltipProvider",UR=700,Kg="tooltip.open",[FR,Vx]=Zc(Hx),Wx=e=>{const{__scopeTooltip:t,delayDuration:r=UR,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),a=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(FR,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};Wx.displayName=Hx;var Gx="Tooltip",[m4,eu]=Zc(Gx),Tf="TooltipTrigger",zR=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=eu(Tf,r),o=Vx(Tf,r),i=_p(r),a=h.useRef(null),c=ce(t,a,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(xp,{asChild:!0,...i,children:l.jsx(J.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:z(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:z(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:z(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:z(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:z(e.onBlur,s.onClose),onClick:z(e.onClick,s.onClose)})})});zR.displayName=Tf;var BR="TooltipPortal",[g4,HR]=Zc(BR,{forceMount:void 0}),Bo="TooltipContent",Kx=h.forwardRef((e,t)=>{const r=HR(Bo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=eu(Bo,e.__scopeTooltip);return l.jsx(Kt,{present:n||i.open,children:i.disableHoverableContent?l.jsx(qx,{side:s,...o,ref:t}):l.jsx(VR,{side:s,...o,ref:t})})}),VR=h.forwardRef((e,t)=>{const r=eu(Bo,e.__scopeTooltip),n=Vx(Bo,e.__scopeTooltip),s=h.useRef(null),o=ce(t,s),[i,a]=h.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{a(null),f(!1)},[f]),p=h.useCallback((w,g)=>{const b=w.currentTarget,y={x:w.clientX,y:w.clientY},v=QR(y,b.getBoundingClientRect()),x=YR(y,v),S=JR(g.getBoundingClientRect()),_=ZR([...x,...S]);a(_),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const w=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),h.useEffect(()=>{if(i){const w=g=>{const b=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!XR(y,i);v?m():x&&(m(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,i,u,m]),l.jsx(qx,{...e,ref:o})}),[WR,GR]=Zc(Gx,{isInside:!1}),KR=T0("TooltipContent"),qx=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=eu(Bo,r),u=_p(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(Kg,d),()=>document.removeEventListener(Kg,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Ko,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(bp,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(KR,{children:n}),l.jsx(WR,{scope:r,isInside:!0,children:l.jsx(bj,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Kx.displayName=Bo;var Qx="TooltipArrow",qR=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=_p(r);return GR(Qx,r).isInside?null:l.jsx(Sp,{...s,...n,ref:t})});qR.displayName=Qx;function QR(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function YR(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function JR(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function XR(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,d=a.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function ZR(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),eP(t)}function eP(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var tP=Wx,Yx=Kx;const rP=tP,nP=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(Yx,{ref:n,sideOffset:t,className:W("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));nP.displayName=Yx.displayName;var tu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sP={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},gn,ch,sy,oP=(sy=class{constructor(){de(this,gn,sP);de(this,ch,!1)}setTimeoutProvider(e){se(this,gn,e)}setTimeout(e,t){return P(this,gn).setTimeout(e,t)}clearTimeout(e){P(this,gn).clearTimeout(e)}setInterval(e,t){return P(this,gn).setInterval(e,t)}clearInterval(e){P(this,gn).clearInterval(e)}},gn=new WeakMap,ch=new WeakMap,sy),Rf=new oP;function iP(e){setTimeout(e,0)}var ru=typeof window>"u"||"Deno"in globalThis;function nr(){}function aP(e,t){return typeof e=="function"?e(t):e}function lP(e){return typeof e=="number"&&e>=0&&e!==1/0}function cP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pf(e,t){return typeof e=="function"?e(t):e}function uP(e,t){return typeof e=="function"?e(t):e}function qg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==Ep(i,t.options))return!1}else if(!oa(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Qg(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(sa(t.options.mutationKey)!==sa(o))return!1}else if(!oa(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Ep(e,t){return((t==null?void 0:t.queryKeyHashFn)||sa)(e)}function sa(e){return JSON.stringify(e,(t,r)=>Af(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function oa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>oa(e[r],t[r])):!1}var dP=Object.prototype.hasOwnProperty;function Jx(e,t){if(e===t)return e;const r=Yg(e)&&Yg(t);if(!r&&!(Af(e)&&Af(t)))return t;const s=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),i=o.length,a=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:o[u],f=e[d],m=t[d];if(f===m){a[d]=f,(r?u<s:dP.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){a[d]=m;continue}const p=Jx(f,m);a[d]=p,p===f&&c++}return s===i&&c===s?e:a}function Yg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Af(e){if(!Jg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Jg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Jg(e){return Object.prototype.toString.call(e)==="[object Object]"}function fP(e){return new Promise(t=>{Rf.setTimeout(t,e)})}function hP(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Jx(e,t):t}function pP(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mP(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Cp=Symbol();function Xx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Cp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var as,vn,ko,oy,gP=(oy=class extends tu{constructor(){super();de(this,as);de(this,vn);de(this,ko);se(this,ko,t=>{if(!ru&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){P(this,vn)||this.setEventListener(P(this,ko))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,vn))==null||t.call(this),se(this,vn,void 0))}setEventListener(t){var r;se(this,ko,t),(r=P(this,vn))==null||r.call(this),se(this,vn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){P(this,as)!==t&&(se(this,as,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof P(this,as)=="boolean"?P(this,as):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},as=new WeakMap,vn=new WeakMap,ko=new WeakMap,oy),Zx=new gP;function vP(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var yP=iP;function wP(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=yP;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var ut=wP(),jo,yn,No,iy,xP=(iy=class extends tu{constructor(){super();de(this,jo,!0);de(this,yn);de(this,No);se(this,No,t=>{if(!ru&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){P(this,yn)||this.setEventListener(P(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,yn))==null||t.call(this),se(this,yn,void 0))}setEventListener(t){var r;se(this,No,t),(r=P(this,yn))==null||r.call(this),se(this,yn,t(this.setOnline.bind(this)))}setOnline(t){P(this,jo)!==t&&(se(this,jo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return P(this,jo)}},jo=new WeakMap,yn=new WeakMap,No=new WeakMap,iy),gc=new xP;function bP(e){return Math.min(1e3*2**e,3e4)}function eb(e){return(e??"online")==="online"?gc.isOnline():!0}var If=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function tb(e){let t=!1,r=0,n;const s=vP(),o=()=>s.status!=="pending",i=g=>{var b;if(!o()){const y=new If(g);m(y),(b=e.onCancel)==null||b.call(e,y)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Zx.isFocused()&&(e.networkMode==="always"||gc.isOnline())&&e.canRun(),d=()=>eb(e.networkMode)&&e.canRun(),f=g=>{o()||(n==null||n(),s.resolve(g))},m=g=>{o()||(n==null||n(),s.reject(g))},p=()=>new Promise(g=>{var b;n=y=>{(o()||u())&&g(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;n=void 0,o()||(g=e.onContinue)==null||g.call(e)}),w=()=>{if(o())return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var C;if(o())return;const v=e.retry??(ru?0:3),x=e.retryDelay??bP,S=typeof x=="function"?x(r,y):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!_){m(y);return}r++,(C=e.onFail)==null||C.call(e,r,y),fP(S).then(()=>u()?void 0:p()).then(()=>{t?m(y):w()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?w():p().then(w),s)}}var ls,ay,rb=(ay=class{constructor(){de(this,ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lP(this.gcTime)&&se(this,ls,Rf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ru?1/0:5*60*1e3))}clearGcTimeout(){P(this,ls)&&(Rf.clearTimeout(P(this,ls)),se(this,ls,void 0))}},ls=new WeakMap,ay),cs,To,Ut,us,Ve,va,ds,or,Mr,ly,SP=(ly=class extends rb{constructor(t){super();de(this,or);de(this,cs);de(this,To);de(this,Ut);de(this,us);de(this,Ve);de(this,va);de(this,ds);se(this,ds,!1),se(this,va,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,us,t.client),se(this,Ut,P(this,us).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,cs,Xg(this.options)),this.state=t.state??P(this,cs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Ve))==null?void 0:t.promise}setOptions(t){if(this.options={...P(this,va),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Xg(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),se(this,cs,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Ut).remove(this)}setData(t,r){const n=hP(this.state.data,t,this.options);return et(this,or,Mr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){et(this,or,Mr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=P(this,Ve))==null?void 0:n.promise;return(s=P(this,Ve))==null||s.cancel(t),r?r.then(nr).catch(nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,cs))}isActive(){return this.observers.some(t=>uP(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Pf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Ve))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Ve))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,Ut).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(P(this,Ve)&&(P(this,ds)?P(this,Ve).cancel({revert:!0}):P(this,Ve).cancelRetry()),this.scheduleGc()),P(this,Ut).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||et(this,or,Mr).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,m,p,w,g,b,y,v,x;if(this.state.fetchStatus!=="idle"&&((c=P(this,Ve))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,Ve))return P(this,Ve).continueRetry(),P(this,Ve).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(_=>_.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(se(this,ds,!0),n.signal)})},o=()=>{const S=Xx(this.options,r),C=(()=>{const E={client:P(this,us),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return se(this,ds,!1),this.options.persister?this.options.persister(S,C,this):S(C)},a=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:P(this,us),state:this.state,fetchFn:o};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(a,this),se(this,To,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&et(this,or,Mr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),se(this,Ve,tb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:S=>{S instanceof If&&S.revert&&this.setState({...P(this,To),fetchStatus:"idle"}),n.abort()},onFail:(S,_)=>{et(this,or,Mr).call(this,{type:"failed",failureCount:S,error:_})},onPause:()=>{et(this,or,Mr).call(this,{type:"pause"})},onContinue:()=>{et(this,or,Mr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const S=await P(this,Ve).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(p=(m=P(this,Ut).config).onSuccess)==null||p.call(m,S,this),(g=(w=P(this,Ut).config).onSettled)==null||g.call(w,S,this.state.error,this),S}catch(S){if(S instanceof If){if(S.silent)return P(this,Ve).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw et(this,or,Mr).call(this,{type:"error",error:S}),(y=(b=P(this,Ut).config).onError)==null||y.call(b,S,this),(x=(v=P(this,Ut).config).onSettled)==null||x.call(v,this.state.data,S,this),S}finally{this.scheduleGc()}}},cs=new WeakMap,To=new WeakMap,Ut=new WeakMap,us=new WeakMap,Ve=new WeakMap,va=new WeakMap,ds=new WeakMap,or=new WeakSet,Mr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,..._P(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,To,t.manual?s:void 0),s;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),P(this,Ut).notify({query:this,type:"updated",action:t})})},ly);function _P(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Xg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Zg(e){return{onFetch:(t,r)=>{var d,f,m,p,w;const n=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=Xx(t.options,t.fetchOptions),v=async(x,S,_)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const E=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};return b(I),I})(),k=await y(E),{maxPages:N}=t.options,j=_?mP:pP;return{pages:j(x.pages,k,N),pageParams:j(x.pageParams,S,N)}};if(s&&o.length){const x=s==="backward",S=x?EP:ev,_={pages:o,pageParams:i},C=S(n,_);a=await v(_,C,x)}else{const x=e??o.length;do{const S=c===0?i[0]??n.initialPageParam:ev(n,a);if(c>0&&S==null)break;a=await v(a,S),c++}while(c<x)}return a};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ev(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function EP(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ya,wr,lt,fs,xr,ln,cy,CP=(cy=class extends rb{constructor(t){super();de(this,xr);de(this,ya);de(this,wr);de(this,lt);de(this,fs);se(this,ya,t.client),this.mutationId=t.mutationId,se(this,lt,t.mutationCache),se(this,wr,[]),this.state=t.state||kP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,wr).includes(t)||(P(this,wr).push(t),this.clearGcTimeout(),P(this,lt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,wr,P(this,wr).filter(r=>r!==t)),this.scheduleGc(),P(this,lt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,wr).length||(this.state.status==="pending"?this.scheduleGc():P(this,lt).remove(this))}continue(){var t;return((t=P(this,fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,c,u,d,f,m,p,w,g,b,y,v,x,S,_,C,E,k,N;const r=()=>{et(this,xr,ln).call(this,{type:"continue"})},n={client:P(this,ya),meta:this.options.meta,mutationKey:this.options.mutationKey};se(this,fs,tb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(j,I)=>{et(this,xr,ln).call(this,{type:"failed",failureCount:j,error:I})},onPause:()=>{et(this,xr,ln).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,lt).canRun(this)}));const s=this.state.status==="pending",o=!P(this,fs).canStart();try{if(s)r();else{et(this,xr,ln).call(this,{type:"pending",variables:t,isPaused:o}),await((a=(i=P(this,lt).config).onMutate)==null?void 0:a.call(i,t,this,n));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));I!==this.state.context&&et(this,xr,ln).call(this,{type:"pending",context:I,variables:t,isPaused:o})}const j=await P(this,fs).start();return await((f=(d=P(this,lt).config).onSuccess)==null?void 0:f.call(d,j,t,this.state.context,this,n)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,j,t,this.state.context,n)),await((g=(w=P(this,lt).config).onSettled)==null?void 0:g.call(w,j,null,this.state.variables,this.state.context,this,n)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,j,null,t,this.state.context,n)),et(this,xr,ln).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(v=P(this,lt).config).onError)==null?void 0:x.call(v,j,t,this.state.context,this,n)),await((_=(S=this.options).onError)==null?void 0:_.call(S,j,t,this.state.context,n)),await((E=(C=P(this,lt).config).onSettled)==null?void 0:E.call(C,void 0,j,this.state.variables,this.state.context,this,n)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,j,t,this.state.context,n)),j}finally{et(this,xr,ln).call(this,{type:"error",error:j})}}finally{P(this,lt).runNext(this)}}},ya=new WeakMap,wr=new WeakMap,lt=new WeakMap,fs=new WeakMap,xr=new WeakSet,ln=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ut.batch(()=>{P(this,wr).forEach(n=>{n.onMutationUpdate(t)}),P(this,lt).notify({mutation:this,type:"updated",action:t})})},cy);function kP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ur,ir,wa,uy,jP=(uy=class extends tu{constructor(t={}){super();de(this,Ur);de(this,ir);de(this,wa);this.config=t,se(this,Ur,new Set),se(this,ir,new Map),se(this,wa,0)}build(t,r,n){const s=new CP({client:t,mutationCache:this,mutationId:++La(this,wa)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){P(this,Ur).add(t);const r=ol(t);if(typeof r=="string"){const n=P(this,ir).get(r);n?n.push(t):P(this,ir).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(P(this,Ur).delete(t)){const r=ol(t);if(typeof r=="string"){const n=P(this,ir).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&P(this,ir).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ol(t);if(typeof r=="string"){const n=P(this,ir).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=ol(t);if(typeof r=="string"){const s=(n=P(this,ir).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ut.batch(()=>{P(this,Ur).forEach(t=>{this.notify({type:"removed",mutation:t})}),P(this,Ur).clear(),P(this,ir).clear()})}getAll(){return Array.from(P(this,Ur))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Qg(r,n))}findAll(t={}){return this.getAll().filter(r=>Qg(t,r))}notify(t){ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ut.batch(()=>Promise.all(t.map(r=>r.continue().catch(nr))))}},Ur=new WeakMap,ir=new WeakMap,wa=new WeakMap,uy);function ol(e){var t;return(t=e.options.scope)==null?void 0:t.id}var br,dy,NP=(dy=class extends tu{constructor(t={}){super();de(this,br);this.config=t,se(this,br,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Ep(s,r);let i=this.get(o);return i||(i=new SP({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){P(this,br).has(t.queryHash)||(P(this,br).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=P(this,br).get(t.queryHash);r&&(t.destroy(),r===t&&P(this,br).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,br).get(t)}getAll(){return[...P(this,br).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>qg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>qg(t,n)):r}notify(t){ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},br=new WeakMap,dy),Ie,wn,xn,Ro,Po,bn,Ao,Io,fy,TP=(fy=class{constructor(e={}){de(this,Ie);de(this,wn);de(this,xn);de(this,Ro);de(this,Po);de(this,bn);de(this,Ao);de(this,Io);se(this,Ie,e.queryCache||new NP),se(this,wn,e.mutationCache||new jP),se(this,xn,e.defaultOptions||{}),se(this,Ro,new Map),se(this,Po,new Map),se(this,bn,0)}mount(){La(this,bn)._++,P(this,bn)===1&&(se(this,Ao,Zx.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Ie).onFocus())})),se(this,Io,gc.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Ie).onOnline())})))}unmount(){var e,t;La(this,bn)._--,P(this,bn)===0&&((e=P(this,Ao))==null||e.call(this),se(this,Ao,void 0),(t=P(this,Io))==null||t.call(this),se(this,Io,void 0))}isFetching(e){return P(this,Ie).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,wn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,Ie).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=P(this,Ie).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Pf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return P(this,Ie).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=P(this,Ie).get(n.queryHash),o=s==null?void 0:s.state.data,i=aP(t,o);if(i!==void 0)return P(this,Ie).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ut.batch(()=>P(this,Ie).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,Ie).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=P(this,Ie);ut.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=P(this,Ie);return ut.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ut.batch(()=>P(this,Ie).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(nr).catch(nr)}invalidateQueries(e,t={}){return ut.batch(()=>(P(this,Ie).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ut.batch(()=>P(this,Ie).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(nr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(nr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=P(this,Ie).build(this,t);return r.isStaleByTime(Pf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nr).catch(nr)}fetchInfiniteQuery(e){return e.behavior=Zg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nr).catch(nr)}ensureInfiniteQueryData(e){return e.behavior=Zg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return gc.isOnline()?P(this,wn).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,Ie)}getMutationCache(){return P(this,wn)}getDefaultOptions(){return P(this,xn)}setDefaultOptions(e){se(this,xn,e)}setQueryDefaults(e,t){P(this,Ro).set(sa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,Ro).values()],r={};return t.forEach(n=>{oa(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){P(this,Po).set(sa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,Po).values()],r={};return t.forEach(n=>{oa(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,xn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ep(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Cp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,xn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,Ie).clear(),P(this,wn).clear()}},Ie=new WeakMap,wn=new WeakMap,xn=new WeakMap,Ro=new WeakMap,Po=new WeakMap,bn=new WeakMap,Ao=new WeakMap,Io=new WeakMap,fy),RP=h.createContext(void 0),PP=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(RP.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ia.apply(this,arguments)}var En;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(En||(En={}));const tv="popstate";function AP(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return Of("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:vc(s)}return OP(t,r,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IP(){return Math.random().toString(36).substr(2,8)}function rv(e,t){return{usr:e.state,key:e.key,idx:t}}function Of(e,t,r,n){return r===void 0&&(r=null),ia({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xo(t):t,{state:r,key:t&&t.key||n||IP()})}function vc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function OP(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=En.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ia({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=En.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:a,location:g.location,delta:y})}function m(b,y){a=En.Push;let v=Of(g.location,b,y);u=d()+1;let x=rv(v,u),S=g.createHref(v);try{i.pushState(x,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}o&&c&&c({action:a,location:g.location,delta:1})}function p(b,y){a=En.Replace;let v=Of(g.location,b,y);u=d();let x=rv(v,u),S=g.createHref(v);i.replaceState(x,"",S),o&&c&&c({action:a,location:g.location,delta:0})}function w(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:vc(b);return v=v.replace(/ $/,"%20"),Fe(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return a},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(tv,f),c=b,()=>{s.removeEventListener(tv,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(b){return i.go(b)}};return g}var nv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nv||(nv={}));function MP(e,t,r){return r===void 0&&(r="/"),DP(e,t,r)}function DP(e,t,r,n){let s=typeof t=="string"?Xo(t):t,o=kp(s.pathname||"/",r);if(o==null)return null;let i=sb(e);LP(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=QP(o);a=GP(i[c],u)}return a}function sb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Fe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=In([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Fe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sb(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:VP(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of ob(o.path))s(o,i,c)}),t}function ob(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=ob(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function LP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $P=/^:[\w-]+$/,UP=3,FP=2,zP=1,BP=10,HP=-2,sv=e=>e==="*";function VP(e,t){let r=e.split("/"),n=r.length;return r.some(sv)&&(n+=HP),t&&(n+=FP),r.filter(s=>!sv(s)).reduce((s,o)=>s+($P.test(o)?UP:o===""?zP:BP),n)}function WP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function GP(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=KP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:In([o,f.pathname]),pathnameBase:ZP(In([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=In([o,f.pathnameBase]))}return i}function KP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=qP(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const w=a[f];return p&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function qP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),nb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function QP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function YP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Xo(e):e;return{pathname:r?r.startsWith("/")?r:JP(r,t):t,search:eA(n),hash:tA(s)}}function JP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function td(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ib(e,t){let r=XP(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ab(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Xo(e):(s=ia({},e),Fe(!s.pathname||!s.pathname.includes("?"),td("?","pathname","search",s)),Fe(!s.pathname||!s.pathname.includes("#"),td("#","pathname","hash",s)),Fe(!s.search||!s.search.includes("#"),td("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?t[f]:"/"}let c=YP(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const In=e=>e.join("/").replace(/\/\/+/g,"/"),ZP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lb=["post","put","patch","delete"];new Set(lb);const nA=["get",...lb];new Set(nA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aa.apply(this,arguments)}const jp=h.createContext(null),sA=h.createContext(null),As=h.createContext(null),nu=h.createContext(null),Is=h.createContext({outlet:null,matches:[],isDataRoute:!1}),cb=h.createContext(null);function oA(e,t){let{relative:r}=t===void 0?{}:t;Ta()||Fe(!1);let{basename:n,navigator:s}=h.useContext(As),{hash:o,pathname:i,search:a}=db(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:In([n,i])),s.createHref({pathname:c,search:a,hash:o})}function Ta(){return h.useContext(nu)!=null}function Ra(){return Ta()||Fe(!1),h.useContext(nu).location}function ub(e){h.useContext(As).static||h.useLayoutEffect(e)}function at(){let{isDataRoute:e}=h.useContext(Is);return e?yA():iA()}function iA(){Ta()||Fe(!1);let e=h.useContext(jp),{basename:t,future:r,navigator:n}=h.useContext(As),{matches:s}=h.useContext(Is),{pathname:o}=Ra(),i=JSON.stringify(ib(s,r.v7_relativeSplatPath)),a=h.useRef(!1);return ub(()=>{a.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=ab(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:In([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function db(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(As),{matches:s}=h.useContext(Is),{pathname:o}=Ra(),i=JSON.stringify(ib(s,n.v7_relativeSplatPath));return h.useMemo(()=>ab(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function aA(e,t){return lA(e,t)}function lA(e,t,r,n){Ta()||Fe(!1);let{navigator:s}=h.useContext(As),{matches:o}=h.useContext(Is),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ra(),d;if(t){var f;let b=typeof t=="string"?Xo(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Fe(!1),d=b}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=MP(e,{pathname:p}),g=hA(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:In([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:In([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&g?h.createElement(nu.Provider,{value:{location:aa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:En.Pop}},g):g}function cA(){let e=vA(),t=rA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const uA=h.createElement(cA,null);class dA extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Is.Provider,{value:this.props.routeContext},h.createElement(cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fA(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(jp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Is.Provider,{value:t},n)}function hA(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Fe(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,w=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,w=!1,g=null,b=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||uA,c&&(u<0&&m===0?(wA("route-fallback"),w=!0,b=null):u===m&&(w=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,m+1)),v=()=>{let x;return p?x=g:w?x=b:f.route.Component?x=h.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,h.createElement(fA,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(dA,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var fb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fb||{}),hb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hb||{});function pA(e){let t=h.useContext(jp);return t||Fe(!1),t}function mA(e){let t=h.useContext(sA);return t||Fe(!1),t}function gA(e){let t=h.useContext(Is);return t||Fe(!1),t}function pb(e){let t=gA(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function vA(){var e;let t=h.useContext(cb),r=mA(),n=pb();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function yA(){let{router:e}=pA(fb.UseNavigateStable),t=pb(hb.UseNavigateStable),r=h.useRef(!1);return ub(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,aa({fromRouteId:t},o)))},[e,t])}const ov={};function wA(e,t,r){ov[e]||(ov[e]=!0)}function xA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zt(e){Fe(!1)}function bA(e){let{basename:t="/",children:r=null,location:n,navigationType:s=En.Pop,navigator:o,static:i=!1,future:a}=e;Ta()&&Fe(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:aa({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=Xo(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:w="default"}=n,g=h.useMemo(()=>{let b=kp(d,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:w},navigationType:s}},[c,d,f,m,p,w,s]);return g==null?null:h.createElement(As.Provider,{value:u},h.createElement(nu.Provider,{children:r,value:g}))}function SA(e){let{children:t,location:r}=e;return aA(Mf(t),r)}new Promise(()=>{});function Mf(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Mf(n.props.children,o));return}n.type!==Zt&&Fe(!1),!n.props.index||!n.props.children||Fe(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Mf(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function _A(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function EA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CA(e,t){return e.button===0&&(!t||t==="_self")&&!EA(e)}const kA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jA="6";try{window.__reactRouterVersion=jA}catch{}const NA="startTransition",iv=ph[NA];function TA(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=AP({window:s,v5Compat:!0}));let i=o.current,[a,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&iv?iv(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>xA(n),[n]),h.createElement(bA,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const RA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mb=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=_A(t,kA),{basename:p}=h.useContext(As),w,g=!1;if(typeof u=="string"&&PA.test(u)&&(w=u,RA))try{let x=new URL(window.location.href),S=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=kp(S.pathname,p);S.origin===x.origin&&_!=null?u=_+S.search+S.hash:g=!0}catch{}let b=oA(u,{relative:s}),y=AA(u,{replace:i,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(x){n&&n(x),x.defaultPrevented||y(x)}return h.createElement("a",Df({},m,{href:w||b,onClick:g||o?n:v,ref:r,target:c}))});var av;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(av||(av={}));var lv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lv||(lv={}));function AA(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=at(),u=Ra(),d=db(e,{relative:i});return h.useCallback(f=>{if(CA(f,r)){f.preventDefault();let m=n!==void 0?n:vc(u)===vc(d);c(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,d,n,s,r,e,o,i,a])}const IA={theme:"system",setTheme:()=>null},gb=h.createContext(IA);function OA({children:e,defaultTheme:t="system",storageKey:r="headshots-ai-theme",...n}){const[s,o]=h.useState(()=>localStorage.getItem(r)||t);h.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(c);return}a.classList.add(s)},[s]);const i={theme:s,setTheme:a=>{localStorage.setItem(r,a),o(a)}};return l.jsx(gb.Provider,{...n,value:i,children:e})}const MA=()=>{const e=h.useContext(gb);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},DA={"app.name":"Headshots AI","app.tagline":"AI-Powered Professional Photography","common.back":"Back","common.signIn":"Sign In","common.signOut":"Sign Out","common.loading":"Loading...","common.error":"Error","common.credits":"Credits","common.getStarted":"Get Started","common.learnMore":"Learn More","common.comingSoon":"Coming Soon","common.view":"View","common.gallery":"Gallery","common.generate":"Generate","common.save":"Save","landing.hero.title1":"Your Perfect","landing.hero.title2":"Professional Headshot","landing.hero.description":"Transform your photos into stunning, professional headshots using cutting-edge AI technology. Perfect for LinkedIn, resumes, and professional profiles.","landing.hero.cta":"Get Started Now","landing.features.title":"Why Choose","landing.features.subtitle":"Professional results without the professional price tag or time commitment","landing.features.aiQuality.title":"AI-Powered Quality","landing.features.aiQuality.desc":"Advanced AI technology creates studio-quality headshots that look professionally photographed","landing.features.fast.title":"Lightning Fast","landing.features.fast.desc":"Get your professional headshots in minutes, not days. No scheduling, no waiting","landing.features.privacy.title":"Privacy First","landing.features.privacy.desc":"Your photos are processed securely and never shared. Complete data privacy guaranteed","landing.cta.title":"Ready to Get Your Perfect Headshot?","landing.cta.description":"Join thousands of professionals who have transformed their online presence with AI-generated headshots","landing.cta.button":"Start Creating Now","home.welcome":"Welcome back!","home.quickActions":"Quick Actions","home.generateHeadshots":"Generate Headshots","home.generateDesc":"Create professional AI headshots","home.viewGallery":"View Gallery","home.viewGalleryDesc":"Browse your generated images","home.yourCredits":"Your Credits","home.creditsAvailable":"Available credits for headshot generation","home.creditsRemaining":"credits remaining","home.getMoreCredits":"Get More Credits","home.accountSettings":"Account Settings","home.managePreferences":"Manage your account preferences","home.viewDashboard":"View Dashboard","home.adminDashboard":"Admin Dashboard","login.createAccount":"Create Account","login.backToHome":" Back to Home","login.diagnostics":"Run Diagnostics","gallery.title":"Gallery","gallery.pending":"Pending Images","gallery.noImages":"No Images Found","gallery.noImagesHint":"Try adjusting your search or filters","gallery.noImagesEmpty":"Generate some headshots to see them here","gallery.generateHeadshots":"Generate Headshots","overview.title":"Overview","overview.availableCredits":"Available Credits","overview.quickActions":"Quick Actions","overview.createNew":"Create New Headshots","overview.trainModel":"Train Custom Model","overview.yourHeadshots":"Your Headshots","overview.viewAll":"View All in Gallery","overview.welcome":"Welcome to AI Headshots","overview.welcomeDesc":"Generate professional headshots using AI. Upload your photos to train a personalized model and create stunning professional portraits.","overview.noCredits":"No Credits Available","overview.noCreditsDesc":"You need credits to generate headshots. Contact support to get started.","overview.adminAccess":"Admin Access","overview.adminAccessDesc":"You have administrative privileges. Click the Admin Dashboard button above to access admin features.","generator.title":"AI Headshot Generator","generator.testConfig":" Test Config","generator.getMoreCredits":"Get More Credits","generator.professional":"Professional AI Headshots","generator.professionalDesc":"Upload 4-10 photos of yourself to train a personalized AI model. Our AI will generate professional headshots perfect for LinkedIn, resumes, and business profiles.","generator.generateNow":"Generate Headshots Now","generator.generateTitle":"Generate Professional Headshots","generator.generateDesc":'Using your pre-trained model "new Ru man" to generate high-quality professional headshots instantly.',"generator.customPrompt":"Custom Prompt (Optional)","generator.customPromptPlaceholder":"e.g., cinematic lighting, wearing a black turtleneck, golden hour","generator.customPromptHint":"Add custom details to enhance your headshot generation. This text will be added to your selected style prompt.","generator.saveDefault":"Save as Default","generator.training":"Training your AI model...","generator.trainingDesc":"This usually takes 5-10 minutes. We're learning your unique features.","generator.generating":"Generating professional headshots...","generator.generatingDesc":"Watch your images appear as they're generated!","admin.title":"Admin Dashboard","admin.superAdmin":"Super Admin","admin.tools":"Admin Tools","admin.trainModel":"Train Model","admin.trainModelDesc":"Train new AI models for headshot generation (Admin Only)","admin.accessTool":"Access Tool","admin.moreTools":"More Tools Coming Soon","admin.moreToolsDesc":"Additional admin functionality will be added here","admin.overview":"Overview","admin.users":"Users","admin.settings":"Settings","train.title":"Train New Model","train.adminOnly":"Admin Only","train.backToAdmin":"Back to Admin","train.trainNew":"Train New Model","train.existing":"Existing Models","train.trainTitle":"Train New AI Model","train.trainDesc":"Upload photos to create a personalized AI model for generating headshots. This is an admin-only feature for training models that can be used by all users.","notFound.title":"404","notFound.message":"Oops! Page not found","notFound.returnHome":"Return to Home","footer.description":"Professional AI-generated headshots for your online presence.","footer.product":"Product","footer.howItWorks":"How It Works","footer.examples":"Examples","footer.pricing":"Pricing","footer.copyright":" {year} Headshots AI. All rights reserved."},LA={"app.name":"Headshots AI","app.tagline":"   ","common.back":"","common.signIn":"","common.signOut":"","common.loading":"...","common.error":"","common.credits":"","common.getStarted":"","common.learnMore":" ","common.comingSoon":"","common.view":"","common.gallery":"","common.generate":"","common.save":"","landing.hero.title1":" ","landing.hero.title2":" ","landing.hero.description":"           .   LinkedIn,    .","landing.hero.cta":" ","landing.features.title":" ","landing.features.subtitle":"       ","landing.features.aiQuality.title":" ","landing.features.aiQuality.desc":"      ,   ","landing.features.fast.title":" ","landing.features.fast.desc":"    ,   .  ,  ","landing.features.privacy.title":"","landing.features.privacy.desc":"         .   ","landing.cta.title":"   ?","landing.cta.description":"   ,    -   -","landing.cta.button":" ","home.welcome":" !","home.quickActions":" ","home.generateHeadshots":" ","home.generateDesc":"  -","home.viewGallery":"","home.viewGalleryDesc":"  ","home.yourCredits":" ","home.creditsAvailable":"    ","home.creditsRemaining":" ","home.getMoreCredits":"  ","home.accountSettings":" ","home.managePreferences":"  ","home.viewDashboard":" ","home.adminDashboard":" ","login.createAccount":" ","login.backToHome":"  ","login.diagnostics":"","gallery.title":"","gallery.pending":" ","gallery.noImages":"  ","gallery.noImagesHint":"    ","gallery.noImagesEmpty":" ,    ","gallery.generateHeadshots":" ","overview.title":"","overview.availableCredits":" ","overview.quickActions":" ","overview.createNew":"  ","overview.trainModel":" ","overview.yourHeadshots":" ","overview.viewAll":"  ","overview.welcome":"   AI Headshots","overview.welcomeDesc":"     .           .","overview.noCredits":"  ","overview.noCreditsDesc":"    .   .","overview.adminAccess":"","overview.adminAccessDesc":"    .     .","generator.title":"  ","generator.testConfig":" ","generator.getMoreCredits":" ","generator.professional":" -","generator.professionalDesc":" 4-10       .       LinkedIn,    .","generator.generateNow":" ","generator.generateTitle":"  ","generator.generateDesc":'   "new Ru man"     .',"generator.customPrompt":"  ()","generator.customPromptPlaceholder":".,  ,  ,  ","generator.customPromptHint":"      .","generator.saveDefault":"  ","generator.training":"   ...","generator.trainingDesc":"   5-10 .     .","generator.generating":"  ...","generator.generatingDesc":"   !","admin.title":" ","admin.superAdmin":"","admin.tools":" ","admin.trainModel":" ","admin.trainModelDesc":"  -    ( )","admin.accessTool":"","admin.moreTools":"  ","admin.moreToolsDesc":"   ","admin.overview":"","admin.users":"","admin.settings":"","train.title":"  ","train.adminOnly":" ","train.backToAdmin":"  ","train.trainNew":" ","train.existing":" ","train.trainTitle":"  -","train.trainDesc":"     -.     .","notFound.title":"404","notFound.message":"!   ","notFound.returnHome":" ","footer.description":" -   -.","footer.product":"","footer.howItWorks":"  ","footer.examples":"","footer.pricing":"","footer.copyright":" {year} Headshots AI.   ."},$A={"app.name":"Headshots AI","app.tagline":"AI","common.back":"","common.signIn":"","common.signOut":"","common.loading":"...","common.error":"","common.credits":"","common.getStarted":"","common.learnMore":"","common.comingSoon":"","common.view":"","common.gallery":"","common.generate":"","common.save":"","landing.hero.title1":"","landing.hero.title2":"","landing.hero.description":"AILinkedIn","landing.hero.cta":"","landing.features.title":"","landing.features.subtitle":"","landing.features.aiQuality.title":"AI","landing.features.aiQuality.desc":"AI","landing.features.fast.title":"","landing.features.fast.desc":"","landing.features.privacy.title":"","landing.features.privacy.desc":"","landing.cta.title":"","landing.cta.description":"AI","landing.cta.button":"","home.welcome":"","home.quickActions":"","home.generateHeadshots":"","home.generateDesc":"AI","home.viewGallery":"","home.viewGalleryDesc":"","home.yourCredits":"","home.creditsAvailable":"","home.creditsRemaining":"","home.getMoreCredits":"","home.accountSettings":"","home.managePreferences":"","home.viewDashboard":"","home.adminDashboard":"","login.createAccount":"","login.backToHome":" ","login.diagnostics":"","gallery.title":"","gallery.pending":"","gallery.noImages":"","gallery.noImagesHint":"","gallery.noImagesEmpty":"","gallery.generateHeadshots":"","overview.title":"","overview.availableCredits":"","overview.quickActions":"","overview.createNew":"","overview.trainModel":"","overview.yourHeadshots":"","overview.viewAll":"","overview.welcome":" AI Headshots","overview.welcomeDesc":"AI","overview.noCredits":"","overview.noCreditsDesc":"","overview.adminAccess":"","overview.adminAccessDesc":"","generator.title":"AI","generator.testConfig":" ","generator.getMoreCredits":"","generator.professional":"AI","generator.professionalDesc":"4-10AIAILinkedIn","generator.generateNow":"","generator.generateTitle":"","generator.generateDesc":" new Ru man ","generator.customPrompt":"","generator.customPromptPlaceholder":"","generator.customPromptHint":"","generator.saveDefault":"","generator.training":"AI...","generator.trainingDesc":"5-10","generator.generating":"...","generator.generatingDesc":"","admin.title":"","admin.superAdmin":"","admin.tools":"","admin.trainModel":"","admin.trainModelDesc":"AI","admin.accessTool":"","admin.moreTools":"","admin.moreToolsDesc":"","admin.overview":"","admin.users":"","admin.settings":"","train.title":"","train.adminOnly":"","train.backToAdmin":"","train.trainNew":"","train.existing":"","train.trainTitle":"AI","train.trainDesc":"AI","notFound.title":"404","notFound.message":"","notFound.returnHome":"","footer.description":"AI","footer.product":"","footer.howItWorks":"","footer.examples":"","footer.pricing":"","footer.copyright":" {year} Headshots AI. "},cv={en:DA,ru:LA,zh:$A},UA={en:"English",ru:"",zh:""},uv={en:"",ru:"",zh:""};var _r=function(){return _r=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},_r.apply(this,arguments)};function Zo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function FA(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function zA(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}const BA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Np extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class HA extends Np{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dv extends Np{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fv extends Np{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lf||(Lf={}));class VA{constructor(t,{headers:r={},customFetch:n,region:s=Lf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=BA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return FA(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:c,body:u,signal:d,timeout:f}=n;let m={},{region:p}=n;p||(p=this.region);const w=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,w.searchParams.set("forceFunctionRegion",p));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(m["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(m["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let b=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(b=i.signal,d.addEventListener("abort",()=>i.abort())):b=i.signal);const y=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:g,signal:b}).catch(_=>{throw new HA(_)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new dv(y);if(!y.ok)throw new fv(y);let x=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield y.json():x==="application/octet-stream"||x==="application/pdf"?S=yield y.blob():x==="text/event-stream"?S=y:x==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof fv||a instanceof dv?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var WA=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},GA=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,c=null,u=o.status,d=o.statusText;if(o.ok){var f,m;if(r.method!=="HEAD"){var p;const y=await o.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");g&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var w;const g=await o.text();try{i=JSON.parse(g),Array.isArray(i)&&o.status===404&&(a=[],i=null,u=200,d="OK")}catch{o.status===404&&g===""?(u=204,d="No Content"):i={message:g}}if(i&&r.isMaybeSingle&&(!(i==null||(w=i.details)===null||w===void 0)&&w.includes("0 rows"))&&(i=null,u=200,d="OK"),i&&r.shouldThrowOnError)throw new WA(i)}return{error:i,data:a,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="",c="",u="";const d=o==null?void 0:o.cause;if(d){var f,m,p,w;const y=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",v=(m=d==null?void 0:d.code)!==null&&m!==void 0?m:"";a=`${(p=o==null?void 0:o.name)!==null&&p!==void 0?p:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(w=d==null?void 0:d.name)!==null&&w!==void 0?w:"Error"}: ${y}`,v&&(a+=` (${v})`),d!=null&&d.stack&&(a+=`
${d.stack}`)}else{var g;a=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}const b=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(c+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},KA=class extends GA{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const hv=new RegExp("[,()]");var Qs=class extends KA{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&hv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&hv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},qA=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",i),n&&c.append("Prefer",`count=${n}`),new Qs({method:s,url:a,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){const c=[...new Set(a)].map(u=>`"${u}"`);o.searchParams.set("columns",c.join(","))}}return new Qs({method:s,url:o,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new Qs({method:i,url:a,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Qs({method:n,url:s,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Qs({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function la(e){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},la(e)}function QA(e,t){if(la(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(la(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YA(e){var t=QA(e,"string");return la(t)=="symbol"?t:t+""}function JA(e,t,r){return(t=YA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pv(Object(r),!0).forEach(function(n){JA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var XA=class vb{constructor(t,{headers:r={},schema:n,fetch:s,timeout:o,urlLengthLimit:i=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=i;const a=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),o),m=u==null?void 0:u.signal;if(m){if(m.aborted)return clearTimeout(f),a(c,u);const p=()=>{clearTimeout(f),d.abort()};return m.addEventListener("abort",p,{once:!0}),a(c,il(il({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),m.removeEventListener("abort",p)})}return a(c,il(il({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qA(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new vb(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(a="POST",u=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,w])=>w!==void 0).map(([p,w])=>[p,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([p,w])=>{c.searchParams.append(p,w)})):(a="POST",u=r);const m=new Headers(this.headers);return f?m.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&m.set("Prefer",`count=${o}`),new Qs({method:a,url:c,headers:m,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}};class ZA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const e2="2.98.0",t2=`realtime-js/${e2}`,r2="1.0.0",yb="2.0.0",mv=yb,$f=1e4,n2=1e3,s2=100;var fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fn||(fn={}));var ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ze||(ze={}));var lr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lr||(lr={}));var Uf;(function(e){e.websocket="websocket"})(Uf||(Uf={}));var ts;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ts||(ts={}));class o2{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,o;const i=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+i.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let w=new DataView(p),g=0;w.setUint8(g++,this.KINDS.userBroadcastPush),w.setUint8(g++,c.length),w.setUint8(g++,a.length),w.setUint8(g++,i.length),w.setUint8(g++,u.length),w.setUint8(g++,f.length),w.setUint8(g++,r),Array.from(c,y=>w.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>w.setUint8(g++,y.charCodeAt(0))),Array.from(i,y=>w.setUint8(g++,y.charCodeAt(0))),Array.from(u,y=>w.setUint8(g++,y.charCodeAt(0))),Array.from(f,y=>w.setUint8(g++,y.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,a,c]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+o));c=c+o;const f=n.decode(t.slice(c,c+i));c=c+i;const m=t.slice(c,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,w={type:this.BROADCAST_EVENT,event:d,payload:p};return i>0&&(w.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class wb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const gv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=i2(i,e,t,s),o),{}):{}},i2=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?xb(o,i):Ff(i)},xb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return u2(t,r)}switch(e){case Se.bool:return a2(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return l2(t);case Se.json:case Se.jsonb:return c2(t);case Se.timestamp:return d2(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Ff(t);default:return Ff(t)}},Ff=e=>e,a2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},l2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},c2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},u2=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>xb(t,a))}return e},d2=e=>typeof e=="string"?e.replace(" ","T"):e,bb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class rd{constructor(t,r,n={},s=$f){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vv||(vv={}));class Oi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Oi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Oi.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const m=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),w=d.filter(b=>p.indexOf(b.presence_ref)<0),g=f.filter(b=>m.indexOf(b.presence_ref)<0);w.length>0&&(a[u]=w),g.length>0&&(c[u]=g)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...m)}n(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yv||(yv={}));var Mi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mi||(Mi={}));var Lr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lr||(Lr={}));class po{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rd(this,lr.join,this.params,this.timeout),this.rejoinTimer=new wb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Oi(this),this.broadcastEndpointURL=bb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Mi.PRESENCE]&&this.bindings[Mi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Lr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Lr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Lr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(w=g==null?void 0:g.length)!==null&&w!==void 0?w:0,y=[];for(let v=0;v<b;v++){const x=g[v],{filter:{event:S,schema:_,table:C,filter:E}}=x,k=p&&p[v];if(k&&k.event===S&&po.isFilterValueEqual(k.schema,_)&&po.isFilterValueEqual(k.table,C)&&po.isFilterValueEqual(k.filter,E))y.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=ze.errored,t==null||t(Lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Lr.SUBSCRIBED);return}}).receive("error",p=>{this.state=ze.errored,t==null||t(Lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ze.joined&&t===Mi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new rd(this,lr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ze.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new rd(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>s2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=lr;if(n&&[a,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,g,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var w,g,b,y,v,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const S=p.id,_=(w=p.filter)===null||w===void 0?void 0:w.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:g,table:b,commit_timestamp:y,type:v,errors:x}=w;m=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(w))}p.callback(m,n)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&po.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lr.close,{},t)}_onError(t){this._on(lr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gv(t.columns,t.old_record)),r}}const nd=()=>{},al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},f2=[1e3,2e3,5e3,1e4],h2=1e4,p2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m2{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$f,this.transport=null,this.heartbeatIntervalMs=al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nd,this.ref=0,this.reconnectTimer=null,this.vsn=mv,this.logger=nd,this.conn=null,this.sendBuffer=[],this.serializer=new o2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Uf.websocket}`,this.httpEndpoint=bb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ZA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return ts.Connecting;case fn.open:return ts.Open;case fn.closing:return ts.Closing;default:return ts.Closed}}isConnected(){return this.connectionState()===ts.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new po(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(n2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},al.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===fn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fn.open||this.conn.readyState===fn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(r=>{r.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(r=>{r._isJoining()&&(r.joinPush.sent=!1,r.joinPush.send())})),this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(lr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([p2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:t2};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(lr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,a,c,u,d,f,m,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:$f,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:al.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:nd,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:mv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>f2[w-1]||h2,this.vsn){case r2:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,g)=>g(JSON.stringify(w)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(w,g)=>g(JSON.parse(w));break;case yb:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ca=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function g2(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function v2(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function y2(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=g2(e.baseUrl,n,s),c=await v2(e.auth),u=await t(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?m:void 0,w=p==null?void 0:p.error;throw new ca((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:p})}return{status:u.status,headers:u.headers,data:m}}}}function ll(e){return e.join("")}var w2=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ll(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ll(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ll(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ll(e.namespace)}`}),!0}catch(t){if(t instanceof ca&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ca&&r.status===409)return;throw r}}};function zs(e){return e.join("")}var x2=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zs(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ca&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ca&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},b2=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=y2({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new w2(this.client,t),this.tableOps=new x2(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},su=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function ou(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var cl=class extends su{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sb=class extends su{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const S2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zf=e=>{if(Array.isArray(e))return e.map(r=>zf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=zf(n)}),t},E2=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ua(e){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(e)}function C2(e,t){if(ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k2(e){var t=C2(e,"string");return ua(t)=="symbol"?t:t+""}function j2(e,t,r){return(t=k2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wv(Object(r),!0).forEach(function(n){j2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const xv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},N2=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||o+"";t(new cl(xv(i),o,a,n))}).catch(()=>{if(n==="vectors"){const i=o+"";t(new cl(s.statusText||`HTTP ${o} error`,o,i,n))}else{const i=o+"";t(new cl(s.statusText||`HTTP ${o} error`,o,i,n))}});else{const i=o+"";t(new cl(s.statusText||`HTTP ${o} error`,o,i,n))}}else t(new Sb(xv(e),e,n))},T2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Z(Z({},s),r):(_2(n)?(s.headers=Z({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Z(Z({},s),r))};async function mi(e,t,r,n,s,o,i){return new Promise((a,c)=>{e(r,T2(t,n,s,o)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(i==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>N2(u,c,n,i))})}function _b(e="storage"){return{get:async(t,r,n,s)=>mi(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,o)=>mi(t,"POST",r,s,o,n,e),put:async(t,r,n,s,o)=>mi(t,"PUT",r,s,o,n,e),head:async(t,r,n,s)=>mi(t,"HEAD",r,Z(Z({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,o)=>mi(t,"DELETE",r,s,o,n,e)}}const R2=_b("storage"),{get:da,post:sr,put:Bf,head:P2,remove:Tp}=R2,Nt=_b("vectors");var ei=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=S2(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Z(Z({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ou(r))return{data:null,error:r};throw r}}},A2=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ou(t))return{data:null,error:t};throw t}}};let Eb;Eb=Symbol.toStringTag;var I2=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Eb]="BlobDownloadBuilder",this.promise=null}asStream(){return new A2(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ou(t))return{data:null,error:t};throw t}}};const O2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var M2=class extends ei{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let o;const i=Z(Z({},bv),n);let a=Z(Z({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(a=Z(Z({},a),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Bf:sr)(s.fetch,`${s.url}/object/${d}`,o,Z({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Z({upsert:bv.upsert},n),d=Z(Z({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:o,fullPath:(await Bf(s.fetch,a.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Z({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await sr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),a=i.searchParams.get("token");if(!a)throw new su("No token returned by API");return{signedUrl:i.toString(),path:e,token:a}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await sr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await sr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),o=await sr(n.fetch,`${n.url}/object/sign/${s}`,Z({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await sr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(i=>Z(Z({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"",i=this._getFinalPath(e),a=()=>da(this.fetch,`${this.url}/${n}/${i}${o}`,{headers:this.headers,noResolveJson:!0},r);return new I2(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>zf(await da(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await P2(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ou(n)&&n instanceof Sb){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Tp(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Z(Z(Z({},O2),t),{},{prefix:e||""});return await sr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Z({},e);return await sr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const D2="2.98.0",Pa={"X-Client-Info":`storage-js/${D2}`};var L2=class extends ei{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),i=Z(Z({},Pa),t);super(o,i,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await da(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await da(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await sr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Bf(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await sr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Tp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},$2=class extends ei{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Z(Z({},Pa),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await sr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await da(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Tp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!E2(e))throw new su("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new b2({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},U2=class extends ei{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Z(Z({},Pa),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Nt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Nt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},F2=class extends ei{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Z(Z({},Pa),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},z2=class extends ei{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Z(Z({},Pa),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Nt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},B2=class extends z2{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new H2(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},H2=class extends U2{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new V2(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},V2=class extends F2{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},W2=class extends L2{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new M2(this.url,this.headers,e,this.fetch)}get vectors(){return new B2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $2(this.url+"/iceberg",this.headers,this.fetch)}};const Cb="2.98.0",Ys=30*1e3,Hf=3,sd=Hf*Ys,G2="http://localhost:9999",K2="supabase.auth.token",q2={"X-Client-Info":`gotrue-js/${Cb}`},Vf="X-Supabase-Api-Version",kb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Q2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y2=10*60*1e3;class fa extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class J2 extends fa{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function X2(e){return K(e)&&e.name==="AuthApiError"}class rs extends fa{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Jr extends fa{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ct extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function od(e){return K(e)&&e.name==="AuthSessionMissingError"}class Bs extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ul extends Jr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dl extends Jr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z2(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sv extends Jr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eI extends Jr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wf extends Jr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function id(e){return K(e)&&e.name==="AuthRetryableFetchError"}class _v extends Jr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Gf extends Jr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ev=` 	
\r=`.split(""),tI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ev.length;t+=1)e[Ev[t].charCodeAt(0)]=-2;for(let t=0;t<yc.length;t+=1)e[yc[t].charCodeAt(0)]=t;return e})();function Cv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yc[n]),t.queuedBits-=6}}function jb(e,t,r){const n=tI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kv(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{sI(i,n,r)};for(let i=0;i<e.length;i+=1)jb(e.charCodeAt(i),s,o);return t.join("")}function rI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}rI(n,t)}}function sI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _o(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)jb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function oI(e){const t=[];return nI(e,r=>t.push(r)),new Uint8Array(t)}function is(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Cv(s,r,n)),Cv(null,r,n),t.join("")}function iI(e){return Math.round(Date.now()/1e3)+e}function aI(){return Symbol("auth-callback")}const qe=()=>typeof window<"u"&&typeof document<"u",Yn={tested:!1,writable:!1},Nb=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yn.tested)return Yn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yn.tested=!0,Yn.writable=!0}catch{Yn.tested=!0,Yn.writable=!1}return Yn.writable};function lI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Tb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Js=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Jn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ke=async(e,t)=>{await e.removeItem(t)};class iu{constructor(){this.promise=new iu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}iu.promiseConstructor=Promise;function fl(e){const t=e.split(".");if(t.length!==3)throw new Gf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Q2.test(t[n]))throw new Gf("JWT not in base64url format");return{header:JSON.parse(kv(t[0])),payload:JSON.parse(kv(t[1])),signature:_o(t[2]),raw:{header:t[0],payload:t[1]}}}async function uI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dI(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function fI(e){return("0"+e.toString(16)).substr(-2)}function hI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,fI).join("")}async function pI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function mI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await pI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(e,t,r=!1){const n=hI();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Js(e,`${t}-code-verifier`,s);const o=await mI(n);return[o,n===o?"plain":"s256"]}const gI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vI(e){const t=e.headers.get(Vf);if(!t||!t.match(gI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vs(e){if(!xI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ad(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bI(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function jv(e){return JSON.parse(JSON.stringify(e))}const es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SI=[502,503,504];async function Nv(e){var t;if(!cI(e))throw new Wf(es(e),0);if(SI.includes(e.status))throw new Wf(es(e),e.status);let r;try{r=await e.json()}catch(o){throw new rs(es(o),o)}let n;const s=vI(e);if(s&&s.getTime()>=kb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _v(es(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new _v(es(r),e.status,r.weak_password.reasons);throw new J2(es(r),e.status||500,n)}const _I=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function re(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Vf]||(o[Vf]=kb["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await EI(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function EI(e,t,r,n,s,o){const i=_I(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Wf(es(c),0)}if(a.ok||await Nv(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Nv(c)}}function er(e){var t;let r=null;jI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Tv(e){const t=er(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function mn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CI(e){return{data:e,error:null}}function kI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=Zo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function Rv(e){return e}function jI(e){return e.access_token&&e.refresh_token&&e.expires_in}const ld=["global","local","others"];class NI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Tb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ld[0]){if(ld.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ld.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:mn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Zo(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Rv});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Vs(t);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vs(t);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:mn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Vs(t);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:mn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Vs(t.userId);try{const{data:r,error:n}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vs(t.userId),Vs(t.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Rv});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(K(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}}function Pv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Or={debug:!!(globalThis&&Nb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TI extends Rb{}async function RI(e,t,r){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Or.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){if((s==null?void 0:s.name)==="AbortError"&&t>0)return Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",e),console.warn(`@supabase/gotrue-js: Lock "${e}" was not released within ${t}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,{mode:"exclusive",steal:!0},async o=>{if(o){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",e,o.name);try{return await r()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",e,o.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await r()}));throw s}}function PI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function AI(e){return parseInt(e,16)}function II(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function OI(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Pb(e.address),w=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${p}

${g}`;let y=`URI: ${f}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}y+=v}return`${b}
${y}`}class $e extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class wc extends $e{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function MI({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new $e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new $e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new $e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new $e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new $e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new $e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new $e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new $e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Ab(i)){if(o.rp.id!==i)return new $e({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new $e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new $e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new $e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Ab(n)){if(r.rpId!==n)return new $e({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class LI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const $I=new LI;function UI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Zo(e,["challenge","user","excludeCredentials"]),o=_o(t).buffer,i=Object.assign(Object.assign({},r),{id:_o(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:_o(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function FI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Zo(e,["challenge","allowCredentials"]),s=_o(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:_o(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function zI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:is(new Uint8Array(e.response.attestationObject)),clientDataJSON:is(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:is(new Uint8Array(s.authenticatorData)),clientDataJSON:is(new Uint8Array(s.clientDataJSON)),signature:is(new Uint8Array(s.signature)),userHandle:s.userHandle?is(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ab(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Av(){var e,t;return!!(qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wc("Browser returned unexpected credential type",t)}:{data:null,error:new wc("Empty credential response",t)}}catch(t){return{data:null,error:MI({error:t,options:e})}}}async function VI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wc("Browser returned unexpected credential type",t)}:{data:null,error:new wc("Empty credential response",t)}}catch(t){return{data:null,error:DI({error:t,options:e})}}}const WI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const a=n[o];t(a)?n[o]=xc(a,i):n[o]=xc(i)}else n[o]=i}return n}function KI(e,t){return xc(WI,e,t||{})}function qI(e,t){return xc(GI,e,t||{})}class QI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){var i;try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:c};const u=s??$I.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,w=((i=p==null?void 0:p.user_metadata)===null||i===void 0?void 0:i.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${w}`}}d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=KI(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:m}=await HI({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const d=qI(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:m}=await VI(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(a){return K(a)?{data:null,error:a}:{data:null,error:new rs("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new fa("rpId is required for WebAuthn authentication")};try{if(!Av())return{data:null,error:new rs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return K(i)?{data:null,error:i}:{data:null,error:new rs("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new fa("rpId is required for WebAuthn registration")};try{if(!Av())return{data:null,error:new rs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return K(i)?{data:null,error:i}:{data:null,error:new rs("Unexpected error in register",i)}}}}PI();const YI={url:G2,storageKey:K2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function Iv(e,t,r){return await r()}const Ws={};class ha{get jwks(){var t,r;return(r=(t=Ws[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ws[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},YI),t);if(this.storageKey=o.storageKey,this.instanceID=(r=ha.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ha.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&qe()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new NI({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Tb(o.fetch),this.lock=o.lock||Iv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&qe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=RI:this.lock=Iv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new QI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Nb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Pv(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}o.skipAutoInitialize||this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Cb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(qe()&&(r=lI(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Z2(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?this._returnResult({error:r}):this._returnResult({error:new rs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:er}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(K(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Hs(this.storage,this.storageKey)),o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:er})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:er})}else throw new ul("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await Ke(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),K(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tv})}else throw new ul("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Bs;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,a,c,u,d,f,m;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:g,wallet:b,statement:y,options:v}=t;let x;if(qe())if(typeof b=="object")x=b;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")x=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const S=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),_=await x.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Pb(_[0]);let E=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const N=await x.request({method:"eth_chainId"});E=AI(N)}const k={domain:S.host,address:C,statement:y,uri:S.href,version:"1",chainId:E,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=OI(k),w=await x.request({method:"personal_sign",params:[II(p),C]})}try{const{data:g,error:b}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:er});if(b)throw b;if(!g||!g.session||!g.user){const y=new Bs;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(K(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,o,i,a,c,u,d,f,m,p;let w,g;if("message"in t)w=t.message,g=t.signature;else{const{chain:b,wallet:y,statement:v,options:x}=t;let S;if(qe())if(typeof y=="object")S=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let E;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")E=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)E=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:b,error:y}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:is(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:er});if(y)throw y;if(!b||!b.session||!b.user){const v=new Bs;return this._returnResult({data:{user:null,session:null},error:v})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(K(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await Jn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new eI;const{data:o,error:i}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:er});if(await Ke(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),K(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:er}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Bs;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hs(this.storage,this.storageKey));const{error:f}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ul("You must provide either an email or phone number.")}catch(a){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),K(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:er});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(K(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await Hs(this.storage,this.storageKey));const u=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:CI});return!((o=u.data)===null||o===void 0)&&o.url&&qe()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),K(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ct;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(K(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new ul("You must provide either an email or phone number and a type")}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Jn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<sd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Jn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=ad()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=bI(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:mn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:mn})})}catch(r){if(K(r))return od(r)&&(await this._removeSession(),await Ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Ct;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Hs(this.storage,this.storageKey));const{data:u,error:d}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:mn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),K(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ct;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=fl(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(K(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ct;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!qe())throw new dl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new dl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sv("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new dl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=m-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(K(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Jn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o&&!od(o))return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(X2(a)&&(a.status===404||a.status===401||a.status===403)||od(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=aI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Hs(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),K(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(K(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:c,access_token:u,nonce:d}=t,f=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:er}),{data:m,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(s){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),K(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await dI(async s=>(s>0&&await uI(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:er})),(s,o)=>{const i=200*Math.pow(2,s);return o&&id(o)&&Date.now()+i-n<Ys})}catch(n){if(this._debug(r,"error",n),K(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Jn(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Jn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Js(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:ad()}else if(s&&!s.user&&!s.user){const i=await Jn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Ke(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,s)):s.user=ad()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sd;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${sd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),id(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new iu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Ct;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),K(o)){const i={data:null,error:o};return id(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ke(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Js(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=jv(s);await Js(this.storage,this.storageKey,o)}else{const s=jv(r);await Js(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ke(this.storage,this.storageKey),await Ke(this.storage,this.storageKey+"-code-verifier"),await Ke(this.storage,this.storageKey+"-user"),this.userStorage&&await Ke(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ys}ms, refresh threshold is ${Hf} ticks`),s<=Hf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Rb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Hs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?zI(t.webauthn.credential_response):BI(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:c}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:UI(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:FI(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,o;if(t)try{const{payload:p}=fl(t);let w=null;p.aal&&(w=p.aal);let g=w;const{data:{user:b},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const x=p.amr||[];return{data:{currentLevel:w,nextLevel:g,currentAuthenticationMethods:x},error:null}}catch(p){if(K(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=fl(i.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((o=(s=i.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(d="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ct});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&qe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ct});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&qe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(t){if(K(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Y2>s)return n;const{data:o,error:i}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return this._returnResult({data:null,error:w});n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=fl(n);r!=null&&r.allowExpired||yI(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const d=wI(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,oI(`${a}.${c}`)))throw new Gf("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}}ha.nextInstanceID={};const JI=ha,XI="2.98.0";let bi="";typeof Deno<"u"?bi="deno":typeof document<"u"?bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bi="react-native":bi="node";const ZI={"X-Client-Info":`supabase-js-${bi}/${XI}`},eO={headers:ZI},tO={schema:"public"},rO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nO={};function pa(e){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(e)}function sO(e,t){if(pa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oO(e){var t=sO(e,"string");return pa(t)=="symbol"?t:t+""}function iO(e,t,r){return(t=oO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ov(Object(r),!0).forEach(function(n){iO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ov(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const aO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lO=()=>Headers,cO=(e,t,r)=>{const n=aO(r),s=lO();return async(o,i)=>{var a;const c=(a=await t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Oe(Oe({},i),{},{headers:u}))}};function uO(e){return e.endsWith("/")?e:e+"/"}function dO(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Oe(Oe({},c),s),auth:Oe(Oe({},u),o),realtime:Oe(Oe({},d),i),storage:{},global:Oe(Oe(Oe({},f),a),{},{headers:Oe(Oe({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function fO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var hO=class extends JI{constructor(e){super(e)}},pO=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const o=fO(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:tO,realtime:nO,auth:Oe(Oe({},rO),{},{storageKey:i}),global:eO},c=dO(r??{},a);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=cO(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Oe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new XA(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new W2(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new VA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:a,debug:c,throwOnError:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hO({url:this.authUrl.href,headers:Oe(Oe({},m),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:a,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new m2(this.realtimeUrl.href,Oe(Oe({},e),{},{params:Oe(Oe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const mO=(e,t,r)=>new pO(e,t,r);function gO(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}gO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vO="https://phydoessspnvnspctjnd.supabase.co",yO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBoeWRvZXNzc3Budm5zcGN0am5kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIxMzgyODMsImV4cCI6MjA4NzcxNDI4M30.qpG-WSdEDA4uWvgDso3CwIAFRhwKO4IaMGfSQ_1hQ78",ee=mO(vO,yO,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Ib=h.createContext(void 0),Kf="headshots-ai-language";function wO(){const e=localStorage.getItem(Kf);if(e&&(e==="en"||e==="ru"||e==="zh"))return e;const t=navigator.language.slice(0,2);return t==="ru"?"ru":t==="zh"?"zh":"en"}const xO=({children:e})=>{const[t,r]=h.useState(wO);h.useEffect(()=>{(async()=>{try{const{data:{user:i}}=await ee.auth.getUser();if(!i)return;const{data:a}=await ee.from("user_preferences").select("language").eq("user_id",i.id).maybeSingle();a!=null&&a.language&&["en","ru","zh"].includes(a.language)&&(r(a.language),localStorage.setItem(Kf,a.language))}catch{}})()},[]);const n=h.useCallback(async o=>{r(o),localStorage.setItem(Kf,o);try{const{data:{user:i}}=await ee.auth.getUser();if(!i)return;await ee.from("user_preferences").upsert({user_id:i.id,language:o,updated_at:new Date().toISOString()},{onConflict:"user_id"})}catch{}},[]),s=h.useCallback((o,i)=>{var c;let a=((c=cv[t])==null?void 0:c[o])||cv.en[o]||o;return i&&Object.entries(i).forEach(([u,d])=>{a=a.replace(`{${u}}`,d)}),a},[t]);return l.jsx(Ib.Provider,{value:{language:t,setLanguage:n,t:s},children:e})},mr=()=>{const e=h.useContext(Ib);if(!e)throw new Error("useTranslation must be used within LanguageProvider");return e},Rp=Kc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,isLoading:s=!1,...o},i)=>{const a=n?Xk:"button";return l.jsxs(a,{className:W(Rp({variant:t,size:r,className:e})),ref:i,disabled:s||o.disabled,...o,children:[s?l.jsx("span",{className:"mr-2 h-4 w-4 animate-spin",children:""}):null,o.children]})});G.displayName="Button";function Ob(){const{t:e}=mr();return l.jsx("footer",{className:"border-t py-12 md:py-16",children:l.jsxs("div",{className:"container px-4 md:px-6",children:[l.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs(mb,{to:"/",className:"flex items-center gap-2 font-bold text-xl",children:[l.jsx(Ss,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:e("app.name")})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e("footer.description")})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-medium",children:e("footer.product")}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#how-it-works",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:e("footer.howItWorks")})}),l.jsx("li",{children:l.jsx("a",{href:"#examples",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:e("footer.examples")})}),l.jsx("li",{children:l.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:e("footer.pricing")})})]})]})]}),l.jsx("div",{className:"mt-12 flex flex-col items-center justify-center gap-4 border-t pt-8",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:e("footer.copyright",{year:new Date().getFullYear().toString()})})})]})})}var bO=h.createContext(void 0);function Aa(e){const t=h.useContext(bO);return e||t||"ltr"}var cd=0;function Pp(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Mv()),document.body.insertAdjacentElement("beforeend",e[1]??Mv()),cd++,()=>{cd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cd--}},[])}function Mv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ud="focusScope.autoFocusOnMount",dd="focusScope.autoFocusOnUnmount",Dv={bubbles:!1,cancelable:!0},SO="FocusScope",au=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=h.useState(null),u=St(s),d=St(o),f=h.useRef(null),m=ce(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(x){if(p.paused||!a)return;const S=x.target;a.contains(S)?f.current=S:cn(f.current,{select:!0})},b=function(x){if(p.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||cn(f.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const _ of x)_.removedNodes.length>0&&cn(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[n,a,p.paused]),h.useEffect(()=>{if(a){$v.add(p);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(ud,Dv);a.addEventListener(ud,u),a.dispatchEvent(y),y.defaultPrevented||(_O(NO(Mb(a)),{select:!0}),document.activeElement===g&&cn(a))}return()=>{a.removeEventListener(ud,u),setTimeout(()=>{const y=new CustomEvent(dd,Dv);a.addEventListener(dd,d),a.dispatchEvent(y),y.defaultPrevented||cn(g??document.body,{select:!0}),a.removeEventListener(dd,d),$v.remove(p)},0)}}},[a,u,d,p]);const w=h.useCallback(g=>{if(!r&&!n||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(b&&y){const v=g.currentTarget,[x,S]=EO(v);x&&S?!g.shiftKey&&y===S?(g.preventDefault(),r&&cn(x,{select:!0})):g.shiftKey&&y===x&&(g.preventDefault(),r&&cn(S,{select:!0})):y===v&&g.preventDefault()}},[r,n,p.paused]);return l.jsx(J.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});au.displayName=SO;function _O(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(cn(n,{select:t}),document.activeElement!==r)return}function EO(e){const t=Mb(e),r=Lv(t,e),n=Lv(t.reverse(),e);return[r,n]}function Mb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Lv(e,t){for(const r of e)if(!CO(r,{upTo:t}))return r}function CO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kO(e){return e instanceof HTMLInputElement&&"select"in e}function cn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&kO(e)&&t&&e.select()}}var $v=jO();function jO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Uv(e,t),e.unshift(t)},remove(t){var r;e=Uv(e,t),(r=e[0])==null||r.resume()}}}function Uv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function NO(e){return e.filter(t=>t.tagName!=="A")}var fd="rovingFocusGroup.onEntryFocus",TO={bubbles:!1,cancelable:!0},Ia="RovingFocusGroup",[qf,Db,RO]=Vc(Ia),[PO,ti]=_t(Ia,[RO]),[AO,IO]=PO(Ia),Lb=h.forwardRef((e,t)=>l.jsx(qf.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(qf.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(OO,{...e,ref:t})})}));Lb.displayName=Ia;var OO=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),p=ce(t,m),w=Aa(o),[g,b]=$n({prop:i,defaultProp:a??null,onChange:c,caller:Ia}),[y,v]=h.useState(!1),x=St(u),S=Db(r),_=h.useRef(!1),[C,E]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(fd,x),()=>k.removeEventListener(fd,x)},[x]),l.jsx(AO,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(k=>b(k),[b]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>E(k=>k-1),[]),children:l.jsx(J.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:z(e.onMouseDown,()=>{_.current=!0}),onFocus:z(e.onFocus,k=>{const N=!_.current;if(k.target===k.currentTarget&&N&&!y){const j=new CustomEvent(fd,TO);if(k.currentTarget.dispatchEvent(j),!j.defaultPrevented){const I=S().filter(B=>B.focusable),M=I.find(B=>B.active),Y=I.find(B=>B.id===g),X=[M,Y,...I].filter(Boolean).map(B=>B.ref.current);Fb(X,d)}}_.current=!1}),onBlur:z(e.onBlur,()=>v(!1))})})}),$b="RovingFocusGroupItem",Ub=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=e,c=jr(),u=o||c,d=IO($b,r),f=d.currentTabStopId===u,m=Db(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:g}=d;return h.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),l.jsx(qf.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:l.jsx(J.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:z(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:z(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:z(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=LO(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=m().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const S=x.indexOf(b.currentTarget);x=d.loop?$O(x,S+1):x.slice(S+1)}setTimeout(()=>Fb(x))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});Ub.displayName=$b;var MO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function LO(e,t,r){const n=DO(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return MO[n]}function Fb(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function $O(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ap=Lb,Ip=Ub,UO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gs=new WeakMap,hl=new WeakMap,pl={},hd=0,zb=function(e){return e&&(e.host||zb(e.parentNode))},FO=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=zb(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zO=function(e,t,r,n){var s=FO(t,Array.isArray(e)?e:[e]);pl[r]||(pl[r]=new WeakMap);var o=pl[r],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var p=m.getAttribute(n),w=p!==null&&p!=="false",g=(Gs.get(m)||0)+1,b=(o.get(m)||0)+1;Gs.set(m,g),o.set(m,b),i.push(m),g===1&&w&&hl.set(m,!0),b===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return d(t),a.clear(),hd++,function(){i.forEach(function(f){var m=Gs.get(f)-1,p=o.get(f)-1;Gs.set(f,m),o.set(f,p),m||(hl.has(f)||f.removeAttribute(n),hl.delete(f)),p||f.removeAttribute(r)}),hd--,hd||(Gs=new WeakMap,Gs=new WeakMap,hl=new WeakMap,pl={})}},Op=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=UO(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),zO(n,s,r,"aria-hidden")):function(){return null}},Ml="right-scroll-bar-position",Dl="width-before-scroll-bar",BO="with-scroll-bars-hidden",HO="--removed-body-scroll-bar-size";function pd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function VO(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var WO=typeof window<"u"?h.useLayoutEffect:h.useEffect,Fv=new WeakMap;function GO(e,t){var r=VO(null,function(n){return e.forEach(function(s){return pd(s,n)})});return WO(function(){var n=Fv.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||pd(a,null)}),o.forEach(function(a){s.has(a)||pd(a,i)})}Fv.set(r,e)},[e]),r}function KO(e){return e}function qO(e,t){t===void 0&&(t=KO);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function QO(e){e===void 0&&(e={});var t=qO(null);return t.options=_r({async:!0,ssr:!1},e),t}var Bb=function(e){var t=e.sideCar,r=Zo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,_r({},r))};Bb.isSideCarExport=!0;function YO(e,t){return e.useMedium(t),Bb}var Hb=QO(),md=function(){},lu=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:md,onWheelCapture:md,onTouchMoveCapture:md}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,g=e.inert,b=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,x=e.gapMode,S=Zo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,C=GO([r,t]),E=_r(_r({},S),s);return h.createElement(h.Fragment,null,d&&h.createElement(_,{sideCar:Hb,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:g,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:x}),i?h.cloneElement(h.Children.only(a),_r(_r({},E),{ref:C})):h.createElement(v,_r({},E,{className:c,ref:C}),a))});lu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lu.classNames={fullWidth:Dl,zeroRight:Ml};var JO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=JO();return t&&e.setAttribute("nonce",t),e}function ZO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=XO())&&(ZO(t,r),eM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rM=function(){var e=tM();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Vb=function(){var e=rM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},nM={left:0,top:0,right:0,gap:0},gd=function(e){return parseInt(e||"",10)||0},sM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[gd(r),gd(n),gd(s)]},oM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nM;var t=sM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},iM=Vb(),Eo="data-scroll-locked",aM=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(BO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Eo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ml,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Dl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Ml," .").concat(Ml,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Dl," .").concat(Dl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Eo,`] {
    `).concat(HO,": ").concat(a,`px;
  }
`)},zv=function(){var e=parseInt(document.body.getAttribute(Eo)||"0",10);return isFinite(e)?e:0},lM=function(){h.useEffect(function(){return document.body.setAttribute(Eo,(zv()+1).toString()),function(){var e=zv()-1;e<=0?document.body.removeAttribute(Eo):document.body.setAttribute(Eo,e.toString())}},[])},cM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;lM();var o=h.useMemo(function(){return oM(s)},[s]);return h.createElement(iM,{styles:aM(o,!t,s,r?"":"!important")})},Qf=!1;if(typeof window<"u")try{var ml=Object.defineProperty({},"passive",{get:function(){return Qf=!0,!0}});window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Qf=!1}var Ks=Qf?{passive:!1}:!1,uM=function(e){return e.tagName==="TEXTAREA"},Wb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uM(e)&&r[t]==="visible")},dM=function(e){return Wb(e,"overflowY")},fM=function(e){return Wb(e,"overflowX")},Bv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Gb(e,n);if(s){var o=Kb(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},pM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Gb=function(e,t){return e==="v"?dM(t):fM(t)},Kb=function(e,t){return e==="v"?hM(t):pM(t)},mM=function(e,t){return e==="h"&&t==="rtl"?-1:1},gM=function(e,t,r,n,s){var o=mM(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,d=i>0,f=0,m=0;do{if(!a)break;var p=Kb(e,a),w=p[0],g=p[1],b=p[2],y=g-b-o*w;(w||y)&&Gb(e,a)&&(f+=y,m+=w);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},gl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Hv=function(e){return[e.deltaX,e.deltaY]},Vv=function(e){return e&&"current"in e?e.current:e},vM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wM=0,qs=[];function xM(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(wM++)[0],o=h.useState(Vb)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=zA([e.lockRef.current],(e.shards||[]).map(Vv),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=gl(g),v=r.current,x="deltaX"in g?g.deltaX:v[0]-y[0],S="deltaY"in g?g.deltaY:v[1]-y[1],_,C=g.target,E=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in g&&E==="h"&&C.type==="range")return!1;var k=Bv(E,C);if(!k)return!0;if(k?_=E:(_=E==="v"?"h":"v",k=Bv(E,C)),!k)return!1;if(!n.current&&"changedTouches"in g&&(x||S)&&(n.current=_),!_)return!0;var N=n.current||_;return gM(N,b,g,N==="h"?x:S)},[]),c=h.useCallback(function(g){var b=g;if(!(!qs.length||qs[qs.length-1]!==o)){var y="deltaY"in b?Hv(b):gl(b),v=t.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&vM(_.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(Vv).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=x.length>0?a(b,x[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=h.useCallback(function(g,b,y,v){var x={name:g,delta:b,target:y,should:v,shadowParent:bM(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),d=h.useCallback(function(g){r.current=gl(g),n.current=void 0},[]),f=h.useCallback(function(g){u(g.type,Hv(g),g.target,a(g,e.lockRef.current))},[]),m=h.useCallback(function(g){u(g.type,gl(g),g.target,a(g,e.lockRef.current))},[]);h.useEffect(function(){return qs.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ks),document.addEventListener("touchmove",c,Ks),document.addEventListener("touchstart",d,Ks),function(){qs=qs.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,Ks),document.removeEventListener("touchmove",c,Ks),document.removeEventListener("touchstart",d,Ks)}},[]);var p=e.removeScrollBar,w=e.inert;return h.createElement(h.Fragment,null,w?h.createElement(o,{styles:yM(s)}):null,p?h.createElement(cM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function bM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SM=YO(Hb,xM);var cu=h.forwardRef(function(e,t){return h.createElement(lu,_r({},e,{ref:t,sideCar:SM}))});cu.classNames=lu.classNames;var Yf=["Enter"," "],_M=["ArrowDown","PageUp","Home"],qb=["ArrowUp","PageDown","End"],EM=[..._M,...qb],CM={ltr:[...Yf,"ArrowRight"],rtl:[...Yf,"ArrowLeft"]},kM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Oa="Menu",[ma,jM,NM]=Vc(Oa),[Os,Qb]=_t(Oa,[NM,Jo,ti]),uu=Jo(),Yb=ti(),[TM,Ms]=Os(Oa),[RM,Ma]=Os(Oa),Jb=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,a=uu(t),[c,u]=h.useState(null),d=h.useRef(!1),f=St(o),m=Aa(s);return h.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),l.jsx(Bx,{...a,children:l.jsx(TM,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(RM,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:n})})})};Jb.displayName=Oa;var PM="MenuAnchor",Mp=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=uu(r);return l.jsx(xp,{...s,...n,ref:t})});Mp.displayName=PM;var Dp="MenuPortal",[AM,Xb]=Os(Dp,{forceMount:void 0}),Zb=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Ms(Dp,t);return l.jsx(AM,{scope:t,forceMount:r,children:l.jsx(Kt,{present:r||o.open,children:l.jsx(Ca,{asChild:!0,container:s,children:n})})})};Zb.displayName=Dp;var Vt="MenuContent",[IM,Lp]=Os(Vt),eS=h.forwardRef((e,t)=>{const r=Xb(Vt,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Ms(Vt,e.__scopeMenu),i=Ma(Vt,e.__scopeMenu);return l.jsx(ma.Provider,{scope:e.__scopeMenu,children:l.jsx(Kt,{present:n||o.open,children:l.jsx(ma.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(OM,{...s,ref:t}):l.jsx(MM,{...s,ref:t})})})})}),OM=h.forwardRef((e,t)=>{const r=Ms(Vt,e.__scopeMenu),n=h.useRef(null),s=ce(t,n);return h.useEffect(()=>{const o=n.current;if(o)return Op(o)},[]),l.jsx($p,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:z(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),MM=h.forwardRef((e,t)=>{const r=Ms(Vt,e.__scopeMenu);return l.jsx($p,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),DM=bs("MenuContent.ScrollLock"),$p=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:w,...g}=e,b=Ms(Vt,r),y=Ma(Vt,r),v=uu(r),x=Yb(r),S=jM(r),[_,C]=h.useState(null),E=h.useRef(null),k=ce(t,E,b.onContentChange),N=h.useRef(0),j=h.useRef(""),I=h.useRef(0),M=h.useRef(null),Y=h.useRef("right"),D=h.useRef(0),X=w?cu:h.Fragment,B=w?{as:DM,allowPinchZoom:!0}:void 0,Q=T=>{var $,fe;const A=j.current+T,L=S().filter(te=>!te.disabled),F=document.activeElement,q=($=L.find(te=>te.ref.current===F))==null?void 0:$.textValue,H=L.map(te=>te.textValue),ne=qM(H,A,q),ue=(fe=L.find(te=>te.textValue===ne))==null?void 0:fe.ref.current;(function te(he){j.current=he,window.clearTimeout(N.current),he!==""&&(N.current=window.setTimeout(()=>te(""),1e3))})(A),ue&&setTimeout(()=>ue.focus())};h.useEffect(()=>()=>window.clearTimeout(N.current),[]),Pp();const R=h.useCallback(T=>{var L,F;return Y.current===((L=M.current)==null?void 0:L.side)&&YM(T,(F=M.current)==null?void 0:F.area)},[]);return l.jsx(IM,{scope:r,searchRef:j,onItemEnter:h.useCallback(T=>{R(T)&&T.preventDefault()},[R]),onItemLeave:h.useCallback(T=>{var A;R(T)||((A=E.current)==null||A.focus(),C(null))},[R]),onTriggerLeave:h.useCallback(T=>{R(T)&&T.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:h.useCallback(T=>{M.current=T},[]),children:l.jsx(X,{...B,children:l.jsx(au,{asChild:!0,trapped:s,onMountAutoFocus:z(o,T=>{var A;T.preventDefault(),(A=E.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(Ko,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:l.jsx(Ap,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:C,onEntryFocus:z(c,T=>{y.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(bp,{role:"menu","aria-orientation":"vertical","data-state":gS(b.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:z(g.onKeyDown,T=>{const L=T.target.closest("[data-radix-menu-content]")===T.currentTarget,F=T.ctrlKey||T.altKey||T.metaKey,q=T.key.length===1;L&&(T.key==="Tab"&&T.preventDefault(),!F&&q&&Q(T.key));const H=E.current;if(T.target!==H||!EM.includes(T.key))return;T.preventDefault();const ue=S().filter($=>!$.disabled).map($=>$.ref.current);qb.includes(T.key)&&ue.reverse(),GM(ue)}),onBlur:z(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(N.current),j.current="")}),onPointerMove:z(e.onPointerMove,ga(T=>{const A=T.target,L=D.current!==T.clientX;if(T.currentTarget.contains(A)&&L){const F=T.clientX>D.current?"right":"left";Y.current=F,D.current=T.clientX}}))})})})})})})});eS.displayName=Vt;var LM="MenuGroup",Up=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(J.div,{role:"group",...n,ref:t})});Up.displayName=LM;var $M="MenuLabel",tS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(J.div,{...n,ref:t})});tS.displayName=$M;var bc="MenuItem",Wv="menu.itemSelect",du=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=h.useRef(null),i=Ma(bc,e.__scopeMenu),a=Lp(bc,e.__scopeMenu),c=ce(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const m=new CustomEvent(Wv,{bubbles:!0,cancelable:!0});f.addEventListener(Wv,p=>n==null?void 0:n(p),{once:!0}),op(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(rS,{...s,ref:c,disabled:r,onClick:z(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:z(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:z(e.onKeyDown,f=>{const m=a.searchRef.current!=="";r||m&&f.key===" "||Yf.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});du.displayName=bc;var rS=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=Lp(bc,r),a=Yb(r),c=h.useRef(null),u=ce(t,c),[d,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[o.children]),l.jsx(ma.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:l.jsx(Ip,{asChild:!0,...a,focusable:!n,children:l.jsx(J.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:z(e.onPointerMove,ga(w=>{n?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:z(e.onPointerLeave,ga(w=>i.onItemLeave(w))),onFocus:z(e.onFocus,()=>f(!0)),onBlur:z(e.onBlur,()=>f(!1))})})})}),UM="MenuCheckboxItem",nS=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(lS,{scope:e.__scopeMenu,checked:r,children:l.jsx(du,{role:"menuitemcheckbox","aria-checked":Sc(r)?"mixed":r,...s,ref:t,"data-state":zp(r),onSelect:z(s.onSelect,()=>n==null?void 0:n(Sc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});nS.displayName=UM;var sS="MenuRadioGroup",[FM,zM]=Os(sS,{value:void 0,onValueChange:()=>{}}),oS=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=St(n);return l.jsx(FM,{scope:e.__scopeMenu,value:r,onValueChange:o,children:l.jsx(Up,{...s,ref:t})})});oS.displayName=sS;var iS="MenuRadioItem",aS=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=zM(iS,e.__scopeMenu),o=r===s.value;return l.jsx(lS,{scope:e.__scopeMenu,checked:o,children:l.jsx(du,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":zp(o),onSelect:z(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});aS.displayName=iS;var Fp="MenuItemIndicator",[lS,BM]=Os(Fp,{checked:!1}),cS=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=BM(Fp,r);return l.jsx(Kt,{present:n||Sc(o.checked)||o.checked===!0,children:l.jsx(J.span,{...s,ref:t,"data-state":zp(o.checked)})})});cS.displayName=Fp;var HM="MenuSeparator",uS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(J.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});uS.displayName=HM;var VM="MenuArrow",dS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=uu(r);return l.jsx(Sp,{...s,...n,ref:t})});dS.displayName=VM;var WM="MenuSub",[v4,fS]=Os(WM),Si="MenuSubTrigger",hS=h.forwardRef((e,t)=>{const r=Ms(Si,e.__scopeMenu),n=Ma(Si,e.__scopeMenu),s=fS(Si,e.__scopeMenu),o=Lp(Si,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(Mp,{asChild:!0,...u,children:l.jsx(rS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":gS(r.open),...e,ref:Hc(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:z(e.onPointerMove,ga(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:z(e.onPointerLeave,ga(f=>{var p,w;d();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(w=r.content)==null?void 0:w.dataset.side,b=g==="right",y=b?-5:5,v=m[b?"left":"right"],x=m[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:z(e.onKeyDown,f=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||CM[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});hS.displayName=Si;var pS="MenuSubContent",mS=h.forwardRef((e,t)=>{const r=Xb(Vt,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Ms(Vt,e.__scopeMenu),i=Ma(Vt,e.__scopeMenu),a=fS(pS,e.__scopeMenu),c=h.useRef(null),u=ce(t,c);return l.jsx(ma.Provider,{scope:e.__scopeMenu,children:l.jsx(Kt,{present:n||o.open,children:l.jsx(ma.Slot,{scope:e.__scopeMenu,children:l.jsx($p,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:z(e.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:z(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:z(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),m=kM[i.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});mS.displayName=pS;function gS(e){return e?"open":"closed"}function Sc(e){return e==="indeterminate"}function zp(e){return Sc(e)?"indeterminate":e?"checked":"unchecked"}function GM(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function KM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function qM(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=KM(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function QM(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,d=a.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function YM(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return QM(r,t)}function ga(e){return t=>t.pointerType==="mouse"?e(t):void 0}var JM=Jb,XM=Mp,ZM=Zb,eD=eS,tD=Up,rD=tS,nD=du,sD=nS,oD=oS,iD=aS,aD=cS,lD=uS,cD=dS,uD=hS,dD=mS,fu="DropdownMenu",[fD]=_t(fu,[Qb]),mt=Qb(),[hD,vS]=fD(fu),yS=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,c=mt(t),u=h.useRef(null),[d,f]=$n({prop:s,defaultProp:o??!1,onChange:i,caller:fu});return l.jsx(hD,{scope:t,triggerId:jr(),triggerRef:u,contentId:jr(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:a,children:l.jsx(JM,{...c,open:d,onOpenChange:f,dir:n,modal:a,children:r})})};yS.displayName=fu;var wS="DropdownMenuTrigger",xS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=vS(wS,r),i=mt(r);return l.jsx(XM,{asChild:!0,...i,children:l.jsx(J.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Hc(t,o.triggerRef),onPointerDown:z(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:z(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});xS.displayName=wS;var pD="DropdownMenuPortal",bS=e=>{const{__scopeDropdownMenu:t,...r}=e,n=mt(t);return l.jsx(ZM,{...n,...r})};bS.displayName=pD;var SS="DropdownMenuContent",_S=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vS(SS,r),o=mt(r),i=h.useRef(!1);return l.jsx(eD,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:z(e.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:z(e.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_S.displayName=SS;var mD="DropdownMenuGroup",gD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(tD,{...s,...n,ref:t})});gD.displayName=mD;var vD="DropdownMenuLabel",ES=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(rD,{...s,...n,ref:t})});ES.displayName=vD;var yD="DropdownMenuItem",CS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(nD,{...s,...n,ref:t})});CS.displayName=yD;var wD="DropdownMenuCheckboxItem",kS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(sD,{...s,...n,ref:t})});kS.displayName=wD;var xD="DropdownMenuRadioGroup",bD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(oD,{...s,...n,ref:t})});bD.displayName=xD;var SD="DropdownMenuRadioItem",jS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(iD,{...s,...n,ref:t})});jS.displayName=SD;var _D="DropdownMenuItemIndicator",NS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(aD,{...s,...n,ref:t})});NS.displayName=_D;var ED="DropdownMenuSeparator",TS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(lD,{...s,...n,ref:t})});TS.displayName=ED;var CD="DropdownMenuArrow",kD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(cD,{...s,...n,ref:t})});kD.displayName=CD;var jD="DropdownMenuSubTrigger",RS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(uD,{...s,...n,ref:t})});RS.displayName=jD;var ND="DropdownMenuSubContent",PS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mt(r);return l.jsx(dD,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PS.displayName=ND;var TD=yS,RD=xS,PD=bS,AS=_S,IS=ES,OS=CS,MS=kS,DS=jS,LS=NS,$S=TS,US=RS,FS=PS;const zS=TD,BS=RD,AD=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(US,{ref:s,className:W("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,l.jsx(Hj,{className:"ml-auto"})]}));AD.displayName=US.displayName;const ID=h.forwardRef(({className:e,...t},r)=>l.jsx(FS,{ref:r,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ID.displayName=FS.displayName;const Bp=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(PD,{children:l.jsx(AS,{ref:n,sideOffset:t,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Bp.displayName=AS.displayName;const Di=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(OS,{ref:n,className:W("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Di.displayName=OS.displayName;const OD=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(MS,{ref:s,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(LS,{children:l.jsx(rx,{className:"h-4 w-4"})})}),t]}));OD.displayName=MS.displayName;const MD=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(DS,{ref:n,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(LS,{children:l.jsx(ix,{className:"h-2 w-2 fill-current"})})}),t]}));MD.displayName=DS.displayName;const DD=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(IS,{ref:n,className:W("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));DD.displayName=IS.displayName;const LD=h.forwardRef(({className:e,...t},r)=>l.jsx($S,{ref:r,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));LD.displayName=$S.displayName;function HS(){const{setTheme:e}=MA();return l.jsxs(zS,{children:[l.jsx(BS,{asChild:!0,children:l.jsxs(G,{variant:"outline",size:"icon",className:"h-9 w-9 border-border/40 bg-background/80 hover:bg-accent/50 transition-all duration-200",children:[l.jsx(Rg,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),l.jsx(Tg,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),l.jsxs(Bp,{align:"end",className:"min-w-[120px]",children:[l.jsxs(Di,{onClick:()=>e("light"),className:"cursor-pointer",children:[l.jsx(Rg,{className:"mr-2 h-4 w-4"}),"Light"]}),l.jsxs(Di,{onClick:()=>e("dark"),className:"cursor-pointer",children:[l.jsx(Tg,{className:"mr-2 h-4 w-4"}),"Dark"]}),l.jsxs(Di,{onClick:()=>e("system"),className:"cursor-pointer",children:[l.jsx("span",{className:"mr-2 h-4 w-4 flex items-center justify-center",children:l.jsx("div",{className:"h-2 w-2 rounded-full bg-current"})}),"System"]})]})]})}const $D=["en","ru","zh"],Xr=()=>{const{language:e,setLanguage:t}=mr();return l.jsxs(zS,{children:[l.jsx(BS,{asChild:!0,children:l.jsxs(G,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[l.jsx("span",{className:"text-base",children:uv[e]}),l.jsx("span",{className:"sr-only",children:"Select language"})]})}),l.jsx(Bp,{align:"end",children:$D.map(r=>l.jsxs(Di,{onClick:()=>t(r),className:r===e?"bg-accent":"",children:[l.jsx("span",{className:"mr-2",children:uv[r]}),UA[r]]},r))})]})};class UD{async getUserRoles(t){const{data:r,error:n}=await ee.from("user_roles").select("role").eq("user_id",t);return n?(console.error("Error fetching user roles:",n),[]):(r==null?void 0:r.map(s=>s.role))||[]}async hasRole(t,r){return(await this.getUserRoles(t)).includes(r)}async isAdmin(t){const r=await this.getUserRoles(t);return r.includes("admin")||r.includes("super_admin")}async getAllUsers(){const{data:t,error:r}=await ee.from("profiles").select(`
        id,
        email,
        created_at,
        updated_at,
        appsource,
        user_roles!inner(role)
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching all users:",r),new Error("Failed to fetch users");return t||[]}async assignRole(t,r){const{error:n}=await ee.from("user_roles").insert([{user_id:t,role:r}]);if(n)throw console.error("Error assigning role:",n),new Error("Failed to assign role");return!0}async removeRole(t,r){const{error:n}=await ee.from("user_roles").delete().eq("user_id",t).eq("role",r);if(n)throw console.error("Error removing role:",n),new Error("Failed to remove role");return!0}async updateUserRoles(t,r){if(await ee.from("user_roles").delete().eq("user_id",t),r.length>0){const n=r.map(o=>({user_id:t,role:o})),{error:s}=await ee.from("user_roles").insert(n);if(s)throw console.error("Error updating user roles:",s),new Error("Failed to update user roles")}return!0}async deleteUser(t){const{error:r}=await ee.auth.admin.deleteUser(t);if(r)throw console.error("Error deleting user from auth:",r),new Error("Failed to delete user account");return!0}async createUser(t,r,n=["user"]){const{data:s,error:o}=await ee.auth.admin.createUser({email:t,password:r,email_confirm:!0,user_metadata:{appsource:"PRu"}});if(o)throw console.error("Error creating user:",o),new Error("Failed to create user account");return s.user&&await this.updateUserRoles(s.user.id,n),s.user}async getCurrentUser(){const{data:{user:t}}=await ee.auth.getUser();return t}async signOut(){const{error:t}=await ee.auth.signOut();if(t)throw console.error("Error signing out:",t),t}async signInWithEmail(t){const{error:r}=await ee.auth.signInWithOtp({email:t,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(r)throw console.error("Error signing in:",r),r}}const $t=new UD;class FD{async createModel(t){const{data:r,error:n}=await ee.from("models").insert(t).select().single();if(n)throw console.error("Error creating model:",n),new Error("Failed to create model");return r}async getModel(t){const{data:r,error:n}=await ee.from("models").select("*").eq("id",t).single();if(n){if(n.code==="PGRST116")return null;throw console.error("Error fetching model:",n),new Error("Failed to fetch model")}return r}async getUserModels(t){const{data:r,error:n}=await ee.from("models").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching user models:",n),new Error("Failed to fetch user models");return r||[]}async updateModel(t,r){const{data:n,error:s}=await ee.from("models").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw console.error("Error updating model:",s),new Error("Failed to update model");return n}async deleteModel(t){const{error:r}=await ee.from("models").delete().eq("id",t);return r?(console.error("Error deleting model:",r),!1):!0}}const gi=new FD;class zD{async createImage(t){const{data:r,error:n}=await ee.from("images").insert({...t,status:t.status||"pending"}).select().single();if(n)throw console.error("Error creating image:",n),new Error("Failed to create image");return r}async getModelImages(t){const{data:r,error:n}=await ee.from("images").select("*").eq("model_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching model images:",n),new Error("Failed to fetch model images");return r||[]}async getUserImages(t){const{data:r,error:n}=await ee.from("images").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching user images:",n),new Error("Failed to fetch user images");return r||[]}async updateImageStatus(t,r,n){const s={status:r};n&&(s.url=n);const{data:o,error:i}=await ee.from("images").update(s).eq("id",t).select().single();if(i)throw console.error("Error updating image status:",i),new Error("Failed to update image status");return o}}const vl=new zD;class BD{async getUserCredits(t){const{data:r,error:n}=await ee.from("credits").select("credits").eq("user_id",t).single();if(n){if(n.code==="PGRST116")return 0;throw console.error("Error fetching user credits:",n),new Error("Failed to fetch user credits")}return(r==null?void 0:r.credits)||0}async updateUserCredits(t,r){const{error:n}=await ee.from("credits").upsert({user_id:t,credits:r,updated_at:new Date().toISOString()});return n?(console.error("Error updating user credits:",n),!1):!0}async decrementUserCredits(t,r=1){const n=await this.getUserCredits(t);if(n<r)throw new Error("Insufficient credits");const{error:s}=await ee.from("credits").update({credits:n-r,updated_at:new Date().toISOString()}).eq("user_id",t);return s?(console.error("Error decrementing user credits:",s),!1):!0}async incrementUserCredits(t,r=1){const n=await this.getUserCredits(t),{error:s}=await ee.from("credits").upsert({user_id:t,credits:n+r,updated_at:new Date().toISOString()});return s?(console.error("Error incrementing user credits:",s),!1):!0}}const yl=new BD;class HD{async getUserSamples(t){const{data:r,error:n}=await ee.from("samples").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching user samples:",n),new Error("Failed to fetch user samples");return r||[]}async createSample(t){const{data:r,error:n}=await ee.from("samples").insert(t).select().single();if(n)throw console.error("Error creating sample:",n),new Error("Failed to create sample");return r}async deleteUserSamples(t,r){let n=ee.from("samples").delete().eq("user_id",t);r&&(n=n.eq("model_id",r));const{error:s}=await n;return s?(console.error("Error deleting samples:",s),!1):!0}}const vd=new HD;class VD{async getUserRoles(t){return $t.getUserRoles(t)}async hasRole(t,r){return $t.hasRole(t,r)}async isAdmin(t){return $t.isAdmin(t)}async getAllUsers(){return $t.getAllUsers()}async assignRole(t,r){return $t.assignRole(t,r)}async removeRole(t,r){return $t.removeRole(t,r)}async updateUserRoles(t,r){return $t.updateUserRoles(t,r)}async deleteUser(t){return $t.deleteUser(t)}async createUser(t,r,n=["user"]){return $t.createUser(t,r,n)}async getCurrentUser(){return $t.getCurrentUser()}async signOut(){return $t.signOut()}async signInWithEmail(t){return $t.signInWithEmail(t)}async createModel(t){return gi.createModel(t)}async getModel(t){return gi.getModel(t)}async getUserModels(t){return gi.getUserModels(t)}async updateModel(t,r){return gi.updateModel(t,r)}async deleteModel(t){return gi.deleteModel(t)}async createImage(t){return vl.createImage(t)}async getModelImages(t){return vl.getModelImages(t)}async getUserImages(t){return vl.getUserImages(t)}async updateImageStatus(t,r,n){return vl.updateImageStatus(t,r,n)}async getUserCredits(t){return yl.getUserCredits(t)}async updateUserCredits(t,r){return yl.updateUserCredits(t,r)}async decrementUserCredits(t,r=1){return yl.decrementUserCredits(t,r)}async incrementUserCredits(t,r=1){return yl.incrementUserCredits(t,r)}async getUserSamples(t){return vd.getUserSamples(t)}async createSample(t){return vd.createSample(t)}async deleteUserSamples(t,r){return vd.deleteUserSamples(t,r)}}const be=new VD;class WD{async getUserRoles(t){const{data:r,error:n}=await ee.from("user_roles").select("role").eq("user_id",t);return n?(console.error("Error fetching user roles:",n),[]):(r==null?void 0:r.map(s=>s.role))||[]}async hasRole(t,r){return(await this.getUserRoles(t)).includes(r)}async isAdmin(t){const r=await this.getUserRoles(t);return r.includes("admin")||r.includes("super_admin")}async getUserSamples(t){return console.warn("getUserSamples: samples table not yet implemented"),[]}async getCurrentUser(){const{data:{user:t}}=await ee.auth.getUser();return t}async signOut(){const{error:t}=await ee.auth.signOut();if(t)throw console.error("Error signing out:",t),t}async signInWithEmail(t,r){const{data:n,error:s}=await ee.auth.signInWithPassword({email:t,password:r});if(s)throw console.error("Error signing in:",s),s;return n}async signUpWithEmail(t,r){const{data:n,error:s}=await ee.auth.signUp({email:t,password:r});if(s)throw console.error("Error signing up:",s),s;return n}}const Hr=new WD,GD=()=>{const e=at(),{t}=mr();h.useEffect(()=>{(async()=>{await Hr.getCurrentUser()&&e("/home")})()},[e]);const r=[{icon:ms,title:t("landing.features.aiQuality.title"),description:t("landing.features.aiQuality.desc")},{icon:up,title:t("landing.features.fast.title"),description:t("landing.features.fast.desc")},{icon:lx,title:t("landing.features.privacy.title"),description:t("landing.features.privacy.desc")}];return l.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-b from-background via-background to-muted/20",children:[l.jsx("header",{className:"border-b border-border/40 backdrop-blur-sm sticky top-0 z-50 bg-background/80",children:l.jsxs("div",{className:"container flex h-20 items-center justify-between px-4 md:px-6",children:[l.jsxs("div",{className:"flex items-center gap-3 font-bold text-2xl",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ss,{className:"h-7 w-7 text-primary animate-glow"}),l.jsx("div",{className:"absolute inset-0 h-7 w-7 bg-primary/20 blur-xl animate-glow"})]}),l.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent",children:t("app.name")})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xr,{}),l.jsx(HS,{}),l.jsxs(G,{onClick:()=>e("/login"),variant:"outline",className:"group hover:border-primary transition-all duration-300",children:[t("common.signIn"),l.jsx(cc,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]})}),l.jsxs("main",{className:"flex-1",children:[l.jsxs("section",{className:"container px-4 pt-20 pb-32 md:px-6 md:pt-32 md:pb-40 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 -z-10",children:[l.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),l.jsxs("div",{className:"max-w-5xl mx-auto text-center space-y-8 animate-fade-in-up",children:[l.jsx("div",{className:"inline-block mb-4",children:l.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-sm font-medium text-primary",children:[l.jsx(ms,{className:"h-4 w-4"}),t("app.tagline")]})}),l.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold tracking-tight",children:[l.jsx("span",{className:"block mb-2 bg-gradient-to-r from-foreground via-foreground/90 to-foreground/80 bg-clip-text text-transparent",children:t("landing.hero.title1")}),l.jsx("span",{className:"block bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent animate-shimmer bg-[length:200%_100%]",children:t("landing.hero.title2")})]}),l.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-8",children:[l.jsx(G,{size:"lg",onClick:()=>e("/login"),className:"text-lg px-8 py-6 h-auto group relative overflow-hidden bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:shadow-primary/50 transition-all duration-300",children:l.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[t("landing.hero.cta"),l.jsx(ms,{className:"h-5 w-5 group-hover:rotate-12 transition-transform"})]})}),l.jsx(G,{size:"lg",variant:"outline",onClick:()=>{var n;(n=document.getElementById("features"))==null||n.scrollIntoView({behavior:"smooth"})},className:"text-lg px-8 py-6 h-auto border-2 hover:bg-muted transition-all duration-300",children:t("common.learnMore")})]})]})]}),l.jsx("section",{id:"features",className:"container px-4 py-20 md:px-6 md:py-32",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-16 space-y-4 animate-fade-in",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold",children:[t("landing.features.title")," ",l.jsx("span",{className:"text-primary",children:t("app.name")})]}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:r.map((n,s)=>l.jsxs("div",{className:"group p-8 rounded-2xl bg-card border border-border hover:border-primary/50 hover:shadow-xl hover:shadow-primary/10 transition-all duration-500 animate-fade-in",style:{animationDelay:`${s*.1}s`},children:[l.jsxs("div",{className:"mb-4 relative",children:[l.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:l.jsx(n.icon,{className:"h-7 w-7 text-primary"})}),l.jsx("div",{className:"absolute inset-0 w-14 h-14 bg-primary/5 blur-xl rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),l.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-primary transition-colors",children:n.title}),l.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.description})]},s))})]})}),l.jsx("section",{className:"container px-4 py-20 md:px-6 md:py-32",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8 p-12 rounded-3xl bg-gradient-to-br from-primary/10 via-accent/10 to-primary/10 border border-primary/20 backdrop-blur-sm animate-fade-in",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold",children:t("landing.cta.title")}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:t("landing.cta.description")}),l.jsx(G,{size:"lg",onClick:()=>e("/login"),className:"text-lg px-10 py-6 h-auto bg-gradient-to-r from-primary to-accent hover:shadow-2xl hover:shadow-primary/50 transition-all duration-300 group",children:l.jsxs("span",{className:"flex items-center gap-2",children:[t("landing.cta.button"),l.jsx(cc,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})})]}),l.jsx(Ob,{})]})},ge=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ge.displayName="Card";const st=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("flex flex-col space-y-1.5 p-6",e),...t}));st.displayName="CardHeader";const ot=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("text-2xl font-semibold leading-none tracking-tight",e),...t}));ot.displayName="CardTitle";const At=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("text-sm text-muted-foreground",e),...t}));At.displayName="CardDescription";const ye=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("p-6 pt-0",e),...t}));ye.displayName="CardContent";const KD=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("flex items-center p-6 pt-0",e),...t}));KD.displayName="CardFooter";const qD=Kc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tr({className:e,variant:t,...r}){return l.jsx("div",{className:W(qD({variant:t}),e),...r})}const QD=1,YD=1e6;let yd=0;function JD(){return yd=(yd+1)%Number.MAX_SAFE_INTEGER,yd.toString()}const wd=new Map,Gv=e=>{if(wd.has(e))return;const t=setTimeout(()=>{wd.delete(e),Li({type:"REMOVE_TOAST",toastId:e})},YD);wd.set(e,t)},XD=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,QD)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Gv(r):e.toasts.forEach(n=>{Gv(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ll=[];let $l={toasts:[]};function Li(e){$l=XD($l,e),Ll.forEach(t=>{t($l)})}function ZD({...e}){const t=JD(),r=s=>Li({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Li({type:"DISMISS_TOAST",toastId:t});return Li({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Et(){const[e,t]=h.useState($l);return h.useEffect(()=>(Ll.push(t),()=>{const r=Ll.indexOf(t);r>-1&&Ll.splice(r,1)}),[e]),{...e,toast:ZD,dismiss:r=>Li({type:"DISMISS_TOAST",toastId:r})}}const eL=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(0),[s,o]=h.useState([]),[i,a]=h.useState(!0),c=at(),{toast:u}=Et(),{t:d}=mr();h.useEffect(()=>{f()},[]);const f=async()=>{try{const w=await Hr.getCurrentUser();if(!w){c("/login");return}t(w);const g=await be.getUserCredits(w.id);n(g);const b=await be.getUserRoles(w.id);o(b)}catch(w){console.error("Error loading user data:",w),u({title:d("common.error"),description:"Failed to load your account information",variant:"destructive"})}finally{a(!1)}},m=async()=>{try{await Hr.signOut(),c("/")}catch(w){console.error("Error signing out:",w),u({title:d("common.error"),description:"Failed to sign out",variant:"destructive"})}},p=[{title:d("home.generateHeadshots"),description:d("home.generateDesc"),icon:ms,action:()=>c("/generate"),gradient:"from-primary to-accent"},{title:d("home.viewGallery"),description:d("home.viewGalleryDesc"),icon:ax,action:()=>c("/overview"),gradient:"from-primary/80 to-accent/80"}];return i?l.jsx("div",{className:"flex min-h-screen items-center justify-center",children:l.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full"})}):l.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-b from-background via-background to-muted/20",children:[l.jsx("header",{className:"border-b border-border/40 backdrop-blur-sm sticky top-0 z-50 bg-background/80",children:l.jsxs("div",{className:"container flex h-20 items-center justify-between px-4 md:px-6",children:[l.jsxs("div",{className:"flex items-center gap-3 font-bold text-2xl",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ss,{className:"h-7 w-7 text-primary animate-glow"}),l.jsx("div",{className:"absolute inset-0 h-7 w-7 bg-primary/20 blur-xl animate-glow"})]}),l.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent",children:d("app.name")})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20",children:[l.jsx(uc,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-semibold text-sm",children:[r," ",d("common.credits")]})]}),l.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>c("/gallery"),className:"flex items-center gap-2",children:[l.jsx(qj,{className:"h-4 w-4"}),d("common.gallery")]}),l.jsx(Xr,{}),l.jsx(HS,{}),l.jsx(G,{variant:"ghost",size:"icon",onClick:m,className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:l.jsx(Jj,{className:"h-5 w-5"})})]})]})}),l.jsxs("main",{className:"flex-1 container px-4 py-12 md:px-6",children:[l.jsxs("div",{className:"mb-12 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:l.jsx(nN,{className:"h-8 w-8 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:d("home.welcome")}),l.jsx("p",{className:"text-muted-foreground text-lg",children:e==null?void 0:e.email})]})]}),s.length>0&&l.jsx("div",{className:"flex gap-2 mt-4",children:s.map(w=>l.jsxs(Tr,{variant:"secondary",className:"capitalize",children:[w==="super_admin"&&l.jsx(wf,{className:"h-3 w-3 mr-1"}),w.replace("_"," ")]},w))})]}),l.jsxs("div",{className:"mb-16",children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:d("home.quickActions")}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:p.map((w,g)=>l.jsxs(ge,{className:"group cursor-pointer hover:shadow-xl hover:shadow-primary/10 transition-all duration-500 border-border hover:border-primary/50 animate-fade-in overflow-hidden relative",style:{animationDelay:`${g*.1}s`},onClick:w.action,children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${w.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),l.jsxs(st,{children:[l.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:l.jsx(w.icon,{className:"h-7 w-7 text-primary"})}),l.jsx(ot,{className:"group-hover:text-primary transition-colors",children:w.title}),l.jsx(At,{children:w.description})]}),l.jsx(ye,{children:l.jsxs(G,{variant:"ghost",className:"w-full justify-between group/btn hover:bg-primary/10",children:[d("common.getStarted"),l.jsx(cc,{className:"h-4 w-4 group-hover/btn:translate-x-1 transition-transform"})]})})]},g))})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-16",children:[l.jsxs(ge,{className:"animate-fade-in border-border",children:[l.jsxs(st,{children:[l.jsx(ot,{children:d("home.yourCredits")}),l.jsx(At,{children:d("home.creditsAvailable")})]}),l.jsxs(ye,{children:[l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("span",{className:"text-5xl font-bold text-primary",children:r}),l.jsx("span",{className:"text-muted-foreground",children:d("home.creditsRemaining")})]}),l.jsxs(G,{className:"mt-6 w-full bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:shadow-primary/50 transition-all",onClick:()=>u({title:d("common.comingSoon"),description:"Credit purchase will be available soon!"}),children:[l.jsx(uc,{className:"mr-2 h-4 w-4"}),d("home.getMoreCredits")]})]})]}),l.jsxs(ge,{className:"animate-fade-in border-border",style:{animationDelay:"0.1s"},children:[l.jsxs(st,{children:[l.jsx(ot,{children:d("home.accountSettings")}),l.jsx(At,{children:d("home.managePreferences")})]}),l.jsxs(ye,{className:"space-y-3",children:[l.jsxs(G,{variant:"outline",className:"w-full justify-start",onClick:()=>c("/overview"),children:[l.jsx(dc,{className:"mr-2 h-4 w-4"}),d("home.viewDashboard")]}),(s.includes("admin")||s.includes("super_admin"))&&l.jsxs(G,{variant:"outline",className:"w-full justify-start",onClick:()=>c("/admin"),children:[l.jsx(wf,{className:"mr-2 h-4 w-4"}),d("home.adminDashboard")]})]})]})]})]}),l.jsx(Ob,{})]})},tL=()=>{const e=Ra(),{t}=mr();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsxs("div",{className:"flex min-h-screen items-center justify-center bg-background relative",children:[l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(Xr,{})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:t("notFound.title")}),l.jsx("p",{className:"mb-6 text-xl text-muted-foreground",children:t("notFound.message")}),l.jsx(mb,{to:"/",className:"text-primary underline hover:opacity-80",children:t("notFound.returnHome")})]})]})};var hu="Tabs",[rL]=_t(hu,[ti]),VS=ti(),[nL,Hp]=rL(hu),WS=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Aa(a),[f,m]=$n({prop:n,onChange:s,defaultProp:o??"",caller:hu});return l.jsx(nL,{scope:r,baseId:jr(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:l.jsx(J.div,{dir:d,"data-orientation":i,...u,ref:t})})});WS.displayName=hu;var GS="TabsList",KS=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Hp(GS,r),i=VS(r);return l.jsx(Ap,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(J.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});KS.displayName=GS;var qS="TabsTrigger",QS=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Hp(qS,r),a=VS(r),c=XS(i.baseId,n),u=ZS(i.baseId,n),d=n===i.value;return l.jsx(Ip,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(J.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:z(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:z(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:z(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});QS.displayName=qS;var YS="TabsContent",JS=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=Hp(YS,r),c=XS(a.baseId,n),u=ZS(a.baseId,n),d=n===a.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(Kt,{present:s||d,children:({present:m})=>l.jsx(J.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});JS.displayName=YS;function XS(e,t){return`${e}-trigger-${t}`}function ZS(e,t){return`${e}-content-${t}`}var sL=WS,e_=KS,t_=QS,r_=JS;const Vp=sL,pu=h.forwardRef(({className:e,...t},r)=>l.jsx(e_,{ref:r,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));pu.displayName=e_.displayName;const On=h.forwardRef(({className:e,...t},r)=>l.jsx(t_,{ref:r,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));On.displayName=t_.displayName;const Mn=h.forwardRef(({className:e,...t},r)=>l.jsx(r_,{ref:r,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Mn.displayName=r_.displayName;function oL(){return{timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,supabaseUrl:ee.supabaseUrl||"unknown",hasValidApiKey:!!ee.supabaseKey,networkStatus:navigator.onLine?"online":"offline"}}function xd(e){console.log(" SIGNUP ATTEMPT LOG:",JSON.stringify(e,null,2));try{const t=JSON.parse(localStorage.getItem("auth_debug_logs")||"[]");t.push(e);const r=t.slice(-10);localStorage.setItem("auth_debug_logs",JSON.stringify(r))}catch(t){console.warn("Failed to store debug log:",t)}}const Rr=h.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Rr.displayName="Input";const iL=({setActiveTab:e})=>{const[t,r]=h.useState(""),[n,s]=h.useState(""),[o,i]=h.useState(!1),[a,c]=h.useState(!1),{toast:u}=Et(),d=at(),f=async m=>{if(m.preventDefault(),!t||!n){u({title:"Missing information",description:"Please enter both email and password",variant:"destructive"});return}c(!0);try{const{data:p,error:w}=await ee.auth.signInWithPassword({email:t,password:n});if(w)throw w;p.user&&(u({title:"Welcome back!",description:"Successfully signed in to your account"}),d("/home",{replace:!0}))}catch(p){u({title:"Sign in failed",description:p.message||"Invalid email or password. Please try again.",variant:"destructive"})}finally{c(!1)}};return l.jsxs("div",{className:"space-y-4 mt-6",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx(ot,{className:"text-xl",children:"Welcome Back"}),l.jsx(At,{children:"Sign in to your account to continue creating professional headshots"})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsx("div",{className:"space-y-2",children:l.jsx(Rr,{type:"email",placeholder:"Enter your email",value:t,onChange:m=>r(m.target.value),required:!0,className:"h-11"})}),l.jsxs("div",{className:"space-y-2 relative",children:[l.jsx(Rr,{type:o?"text":"password",placeholder:"Enter your password",value:n,onChange:m=>s(m.target.value),required:!0,className:"h-11 pr-10"}),l.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-11 px-3",onClick:()=>i(!o),children:o?l.jsx(bf,{className:"h-4 w-4"}):l.jsx(Sf,{className:"h-4 w-4"})})]}),l.jsx(G,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:shadow-primary/25 transition-all duration-300",disabled:a,children:a?"Signing in...":"Sign In"})]})]})},aL=({setActiveTab:e})=>{const[t,r]=h.useState(""),[n,s]=h.useState(""),[o,i]=h.useState(""),[a,c]=h.useState(!1),[u,d]=h.useState(!1),[f,m]=h.useState(!1),{toast:p}=Et(),w=at(),g=async b=>{var y,v,x;if(b.preventDefault(),!t||!n||!o){p({title:"Missing information",description:"Please fill in all fields",variant:"destructive"});return}if(n!==o){p({title:"Passwords do not match",description:"Please make sure both passwords are identical",variant:"destructive"});return}if(n.length<6){p({title:"Password too short",description:"Password must be at least 6 characters long",variant:"destructive"});return}m(!0);try{console.log(" Starting signup process...",{email:t,timestamp:new Date().toISOString()});const S=oL();console.log(" Environment diagnostics:",S);const{data:_,error:C}=await ee.auth.signUp({email:t,password:n,options:{data:{appsource:"PRu"}}});if(C){let E=C.message;throw(y=C.message)!=null&&y.includes("User already registered")?E="An account with this email already exists. Please try signing in instead.":(v=C.message)!=null&&v.includes("Invalid email")?E="Please enter a valid email address.":(x=C.message)!=null&&x.includes("Password")&&(E="Password must be at least 6 characters long."),new Error(E)}if(_.user)xd({email:t,timestamp:new Date().toISOString(),success:!0,userReturned:!0,sessionCreated:!!_.session,emailConfirmed:!!(_.user.confirmed_at||_.user.email_confirmed_at),metadata:{appsource:"PRu"}}),!_.user.confirmed_at&&!_.user.email_confirmed_at?(p({title:"Account created successfully!",description:"Please check your email to verify your account before signing in."}),e("login")):(p({title:"Account created successfully!",description:"Welcome to Headshots AI. You can now start creating professional headshots."}),w("/overview",{replace:!0}));else throw xd({email:t,timestamp:new Date().toISOString(),success:!1,userReturned:!1,sessionCreated:!!_.session,emailConfirmed:!1,metadata:{appsource:"PRu"},error:"No user returned from Supabase"}),new Error("Account creation failed - no user returned from Supabase")}catch(S){xd({email:t,timestamp:new Date().toISOString(),success:!1,userReturned:!1,sessionCreated:!1,emailConfirmed:!1,metadata:{appsource:"PRu"},error:S.message}),p({title:"Sign up failed",description:S.message||"Failed to create account. Please try again.",variant:"destructive"})}finally{m(!1)}};return l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsx("div",{className:"space-y-2",children:l.jsx(Rr,{type:"email",placeholder:"Enter your email",value:t,onChange:b=>r(b.target.value),required:!0,className:"h-11"})}),l.jsxs("div",{className:"space-y-2 relative",children:[l.jsx(Rr,{type:a?"text":"password",placeholder:"Create a password (min 6 characters)",value:n,onChange:b=>s(b.target.value),required:!0,minLength:6,className:"h-11 pr-10"}),l.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-11 px-3",onClick:()=>c(!a),children:a?l.jsx(bf,{className:"h-4 w-4"}):l.jsx(Sf,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"space-y-2 relative",children:[l.jsx(Rr,{type:u?"text":"password",placeholder:"Confirm your password",value:o,onChange:b=>i(b.target.value),required:!0,className:"h-11 pr-10"}),l.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-11 px-3",onClick:()=>d(!u),children:u?l.jsx(bf,{className:"h-4 w-4"}):l.jsx(Sf,{className:"h-4 w-4"})})]}),l.jsx(G,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:shadow-primary/25 transition-all duration-300",disabled:f,children:f?"Creating account...":"Create Account"})]})},lL=()=>{const[e,t]=h.useState("login"),[r,n]=h.useState(!1);Et();const s=at(),{t:o}=mr();return h.useEffect(()=>{(async()=>{await Hr.getCurrentUser()&&s("/home",{replace:!0})})();const{data:{subscription:a}}=ee.auth.onAuthStateChange(async(c,u)=>{c==="SIGNED_IN"&&u&&s("/home",{replace:!0})});return()=>a.unsubscribe()},[s]),l.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/20 p-4",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),l.jsx("div",{className:"absolute top-4 right-4 z-20",children:l.jsx(Xr,{})}),l.jsxs(ge,{className:"w-full max-w-md relative z-10 backdrop-blur-sm bg-card/95 border border-border/50",children:[l.jsxs(st,{className:"text-center space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ss,{className:"h-8 w-8 text-primary animate-glow"}),l.jsx("div",{className:"absolute inset-0 h-8 w-8 bg-primary/20 blur-xl animate-glow"})]}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent",children:o("app.name")})]}),l.jsx("div",{className:"inline-block",children:l.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 border border-primary/20 text-xs font-medium text-primary",children:[l.jsx(ms,{className:"h-3 w-3"}),o("app.tagline")]})})]}),l.jsxs(ye,{children:[l.jsxs(Vp,{value:e,onValueChange:t,className:"w-full",children:[l.jsxs(pu,{className:"grid w-full grid-cols-2",children:[l.jsx(On,{value:"login",children:o("common.signIn")}),l.jsx(On,{value:"signup",children:o("login.createAccount")})]}),l.jsx(Mn,{value:"login",children:l.jsx(iL,{setActiveTab:t})}),l.jsx(Mn,{value:"signup",children:l.jsx(aL,{setActiveTab:t})})]}),l.jsxs("div",{className:"mt-6 text-center space-y-2",children:[l.jsx(G,{variant:"ghost",onClick:()=>s("/"),className:"text-muted-foreground hover:text-foreground",children:o("login.backToHome")}),!1]})]})]})]})},cL=()=>{const[e,t]=h.useState(!0),[r,n]=h.useState(!1),[s,o]=h.useState(0),[i,a]=h.useState([]),{toast:c}=Et(),u=at(),{t:d}=mr();h.useEffect(()=>{f()},[]);const f=async()=>{try{const p=await Hr.getCurrentUser();if(!p){u("/login");return}const w=await Hr.isAdmin(p.id);n(w);const g=await be.getUserCredits(p.id);o(g);const b=await be.getUserImages(p.id);a(b)}catch{c({title:d("common.error"),description:"Failed to load your data",variant:"destructive"})}finally{t(!1)}},m=async()=>{try{await Hr.signOut(),u("/")}catch{c({title:d("common.error"),description:"Failed to sign out",variant:"destructive"})}};return e?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold",children:d("overview.title")}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Xr,{}),r&&l.jsxs(G,{onClick:()=>u("/admin"),variant:"outline",children:[l.jsx(dc,{className:"w-4 h-4 mr-2"}),d("home.adminDashboard")]}),l.jsx(G,{onClick:m,variant:"outline",children:d("common.signOut")})]})]})}),l.jsxs("main",{className:"container py-8 space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(ge,{children:l.jsx(ye,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:d("overview.availableCredits")}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(uc,{className:"w-5 h-5 text-yellow-500"}),l.jsx("span",{className:"text-2xl font-bold",children:s}),l.jsx("span",{className:"text-muted-foreground",children:d("common.credits").toLowerCase()})]})]}),l.jsxs(G,{size:"lg",onClick:()=>u("/generate"),disabled:s<1,className:"bg-primary hover:bg-primary/90",children:[l.jsx(Ss,{className:"w-4 h-4 mr-2"}),d("home.generateHeadshots")]})]})})}),l.jsx(ge,{children:l.jsxs(ye,{className:"pt-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:d("overview.quickActions")}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(G,{variant:"outline",className:"w-full justify-start",onClick:()=>u("/generate"),children:[l.jsx(Ss,{className:"w-4 h-4 mr-2"}),d("overview.createNew")]}),l.jsx(G,{variant:"outline",className:"w-full justify-start",onClick:()=>u("/train"),children:d("overview.trainModel")})]})]})})]}),i.length>0&&l.jsx(ge,{children:l.jsxs(ye,{className:"pt-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[d("overview.yourHeadshots")," (",i.length,")"]}),l.jsx(G,{variant:"outline",size:"sm",onClick:()=>u("/gallery"),children:d("overview.viewAll")})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:i.map((p,w)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:p.url,alt:`Headshot ${w+1}`,className:"w-full h-32 object-cover rounded-lg border border-border"}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:l.jsx(G,{size:"sm",variant:"secondary",children:d("common.view")})})]},p.id))})]})}),l.jsx(ge,{children:l.jsxs(ye,{className:"pt-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:d("overview.welcome")}),l.jsx("p",{className:"text-muted-foreground mb-4",children:d("overview.welcomeDesc")}),s===0&&l.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg mb-4",children:[l.jsx("p",{className:"font-medium text-yellow-900",children:d("overview.noCredits")}),l.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:d("overview.noCreditsDesc")})]}),r&&l.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg",children:[l.jsx("p",{className:"font-medium",children:d("overview.adminAccess")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:d("overview.adminAccessDesc")})]})]})})]})]})},uL=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{typeof n.result=="string"?t(n.result):r(new Error("Failed to read file as base64"))},n.onerror=()=>{r(new Error("Error reading file"))},n.readAsDataURL(e)}),dL=async e=>{const t=e.map(r=>uL(r));return Promise.all(t)},wl={loadUserModels:async()=>{const e=await be.getCurrentUser();if(!e)throw new Error("User not authenticated");console.log(" Loading user models...");const t=await be.getUserModels(e.id);return console.log(" Loaded models:",t),t},loadAstriaModels:async()=>{var i;console.log(" Starting Astria models loading process...");const{data:{session:e},error:t}=await ee.auth.getSession();if(t)throw console.error(" Session error:",t),new Error(`Session error: ${t.message}`);if(!e)throw console.warn(" No session available for loading Astria models"),new Error("Authentication required");console.log(" Session valid, user ID:",(i=e.user)==null?void 0:i.id),console.log(" Session expires at:",new Date(e.expires_at*1e3)),console.log(" Calling edge function for model list...");const r="https://imzlzufdujhcbebibgpj.supabase.co/functions/v1/generate-headshot";console.log(" API URL:",r);const n={action:"list_models"};console.log(" Request payload:",n);const s=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(console.log(" Response status:",s.status),console.log(" Response headers:",Object.fromEntries(s.headers.entries())),!s.ok){let a;const c=s.headers.get("content-type");try{if(c&&c.includes("application/json"))a=await s.json();else{const d=await s.text();console.error(" Non-JSON error response:",d),a={error:d,rawResponse:d}}}catch(d){console.error(" Error parsing response:",d),a={error:"Failed to parse error response",parseError:d.message}}console.error(" Detailed API error:",{status:s.status,statusText:s.statusText,errorData:a,url:r});const u=`API Error ${s.status}: ${(a==null?void 0:a.error)||s.statusText}${(a==null?void 0:a.apiKeyConfigured)===!1?" (API Key not configured)":""}${a!=null&&a.details?` - ${a.details}`:""}`;throw new Error(u)}let o;try{o=await s.json(),console.log(" Raw API response:",o)}catch(a){throw console.error(" Failed to parse successful response:",a),new Error("Invalid response format from API")}if(!o.success)throw console.error(" API returned failure:",o),new Error(o.error||"API returned unsuccessful response");return o.models?Array.isArray(o.models)?(console.log(" Model count:",o.models.length),console.log(" Model details:",o.models.map((a,c)=>({index:c,id:a.id,name:a.name||a.title,status:a.status,created_at:a.created_at}))),o.models):(console.warn(" Models is not an array:",typeof o.models,o.models),[]):(console.warn(" No models property in response:",o),[])},findDefaultModel:e=>{console.log(" Searching for default model...");let t=e.find(r=>{const n=(r.name||r.title||"").toLowerCase(),s=n.includes("newheadhotman")||n.includes("newheadshot");return s&&console.log(" Found model by name pattern:",r),s});return t||(t=e.find(r=>{const n=(r.name||r.title||"").toLowerCase(),s=n.includes("headshot")||n.includes("head");return s&&console.log(" Found model by headshot pattern:",r),s})),t||(t=e.find(r=>{const n=r.status==="trained"||r.status==="finished"||!r.status;return n&&console.log(" Found trained/available model as fallback:",r),n})),!t&&e.length>0&&(t=e[0],console.log(" Using first available model:",t)),t?console.log(" Selected default model:",{id:t.id,name:t.name||t.title,status:t.status}):console.log(" No suitable default model found"),t},trainModel:async e=>{const{useExistingModel:t,modelName:r,selectedFiles:n,selectedExistingModel:s}=e,o=await be.getCurrentUser();if(!o)throw new Error("User not authenticated");const{data:{session:i}}=await ee.auth.getSession();if(!i)throw new Error("User not authenticated");if(t&&s){console.log(" Saving existing model for user access:",s.name);const a=await be.createModel({user_id:o.id,astria_model_id:s.id,name:s.name||`Existing Model ${s.id}`,status:"trained"});return console.log(" Existing model saved to database:",a),{success:!0,model:a,message:`Existing model "${s.name}" is now available for use.`}}else{if(!r||!n||n.length<4)throw new Error("Model name and at least 4 photos required");console.log(" Starting model training:",r);const a=await dL(n),c=await fetch("https://imzlzufdujhcbebibgpj.supabase.co/functions/v1/generate-headshot",{method:"POST",headers:{Authorization:`Bearer ${i.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"train_model",name:r,images:a,steps:500,face_crop:!0})});if(!c.ok){const f=await c.json();throw new Error(f.error||"Failed to start training")}const u=await c.json();console.log(" Astria model created via edge function:",u);const d=u.model;return console.log(" Database model saved via edge function:",d),{success:!0,model:d,message:`Model "${r}" is now training. This may take 10-15 minutes.`}}}},fL=()=>{const[e,t]=h.useState([]),[r,n]=h.useState([]),[s,o]=h.useState(null),[i,a]=h.useState(!1),[c,u]=h.useState(!0),[d,f]=h.useState(!1),[m,p]=h.useState(!1),[w,g]=h.useState([]),[b,y]=h.useState(""),[v,x]=h.useState(0),S=at(),{toast:_}=Et();h.useEffect(()=>{const j=m||(i?!s||(s==null?void 0:s.status)&&s.status!=="trained"&&s.status!=="finished":!b.trim()||w.length<4);console.log(" Button disabled state changed:",j),console.log("  - isTraining:",m),console.log("  - useExistingModel:",i),console.log("  - modelName:",b),console.log("  - selectedFiles.length:",w.length),console.log("  - selectedExistingModel:",(s==null?void 0:s.name)||"none")},[m,i,b,w.length,s]);const C=async()=>{try{const j=await wl.loadUserModels();t(j)}catch(j){if(console.error(" Error loading models:",j),j.message==="User not authenticated"){S("/login");return}_({title:"Error",description:"Failed to load your models",variant:"destructive"})}finally{u(!1)}},E=async()=>{try{f(!0);const j=await wl.loadAstriaModels();n(j);const I=wl.findDefaultModel(j);I&&(o(I),a(!0))}catch(j){console.error(" Complete error loading Astria models:",j),console.error(" Error stack:",j.stack);const I=j.message||"Unknown error occurred";_({title:"Failed to Load Models",description:`Could not load existing Astria models: ${I}. You can still create new models.`,variant:"destructive"})}finally{f(!1),console.log(" Finished loading Astria models")}},k=j=>{const I=j.target.files;if(!I)return;const M=Array.from(I);if(M.length<4){_({title:"Insufficient Photos",description:"Please select at least 4 photos for optimal training",variant:"destructive"});return}if(M.length>20){_({title:"Too Many Photos",description:"Maximum 20 photos allowed for training",variant:"destructive"});return}g(M),_({title:"Photos Selected",description:`${M.length} photos ready for training`})},N=async()=>{if(console.log(" handleTrainModel called"),console.log(" useExistingModel:",i),console.log(" modelName:",b),console.log(" selectedFiles:",w.length),console.log(" selectedExistingModel:",s),!i){if(!b.trim()){console.log(" Validation failed: Model name required"),_({title:"Model Name Required",description:"Please enter a name for your model",variant:"destructive"});return}if(w.length<4){console.log(" Validation failed: Insufficient photos"),_({title:"Insufficient Photos",description:"Please select at least 4 photos",variant:"destructive"});return}}if(i){if(!s){_({title:"Model Selection Required",description:"Please select an existing model to use",variant:"destructive"});return}if(!(!s.status||s.status==="trained"||s.status==="finished")){_({title:"Model Not Ready",description:`Selected model status is "${s.status}". Please select a trained model.`,variant:"destructive"});return}}try{p(!0),x(10),x(20);const j=await wl.trainModel({useExistingModel:i,modelName:b,selectedFiles:w,selectedExistingModel:s});i?(x(50),x(100),a(!1),o(null)):(x(60),x(80),x(100),y(""),g([])),_({title:i?"Model Added!":"Training Started!",description:j.message}),await C()}catch(j){console.error(" Training failed:",j),console.error(" Error details:",{message:j instanceof Error?j.message:"Unknown error",stack:j instanceof Error?j.stack:"No stack trace",useExistingModel:i,modelName:b,selectedFilesCount:w.length,selectedExistingModel:(s==null?void 0:s.name)||"none"});const I=j instanceof Error?j.message:"Unknown error occurred";_({title:"Training Failed",description:`Failed to start model training: ${I}. Check console for details.`,variant:"destructive"})}finally{p(!1),x(0)}};return h.useEffect(()=>{C(),E()},[]),{models:e,astriaModels:r,selectedExistingModel:s,useExistingModel:i,isLoading:c,isLoadingAstriaModels:d,isTraining:m,selectedFiles:w,modelName:b,trainingProgress:v,setSelectedExistingModel:o,setUseExistingModel:a,setModelName:y,setSelectedFiles:g,handleFileSelect:k,handleTrainModel:N,loadUserModels:C,loadAstriaModels:E}};function Kv(e,[t,r]){return Math.min(r,Math.max(t,e))}function n_(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var hL=[" ","Enter","ArrowUp","ArrowDown"],pL=[" ","Enter"],Es="Select",[mu,gu,mL]=Vc(Es),[ri]=_t(Es,[mL,Jo]),vu=Jo(),[gL,Vn]=ri(Es),[vL,yL]=ri(Es),s_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:w}=e,g=vu(t),[b,y]=h.useState(null),[v,x]=h.useState(null),[S,_]=h.useState(!1),C=Aa(u),[E,k]=$n({prop:n,defaultProp:s??!1,onChange:o,caller:Es}),[N,j]=$n({prop:i,defaultProp:a,onChange:c,caller:Es}),I=h.useRef(null),M=b?w||!!b.closest("form"):!0,[Y,D]=h.useState(new Set),X=Array.from(Y).map(B=>B.props.value).join(";");return l.jsx(Bx,{...g,children:l.jsxs(gL,{required:p,scope:t,trigger:b,onTriggerChange:y,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:jr(),value:N,onValueChange:j,open:E,onOpenChange:k,dir:C,triggerPointerDownPosRef:I,disabled:m,children:[l.jsx(mu.Provider,{scope:t,children:l.jsx(vL,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(B=>{D(Q=>new Set(Q).add(B))},[]),onNativeOptionRemove:h.useCallback(B=>{D(Q=>{const R=new Set(Q);return R.delete(B),R})},[]),children:r})}),M?l.jsxs(N_,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:B=>j(B.target.value),disabled:m,form:w,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(Y)]},X):null]})})};s_.displayName=Es;var o_="SelectTrigger",i_=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=vu(r),i=Vn(o_,r),a=i.disabled||n,c=ce(t,i.onTriggerChange),u=gu(r),d=h.useRef("touch"),[f,m,p]=R_(g=>{const b=u().filter(x=>!x.disabled),y=b.find(x=>x.value===i.value),v=P_(b,g,y);v!==void 0&&i.onValueChange(v.value)}),w=g=>{a||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(xp,{asChild:!0,...o,children:l.jsx(J.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":T_(i.value)?"":void 0,...s,ref:c,onClick:z(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&w(g)}),onPointerDown:z(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:z(s.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(b&&g.key===" ")&&hL.includes(g.key)&&(w(),g.preventDefault())})})})});i_.displayName=o_;var a_="SelectValue",l_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,c=Vn(a_,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=ce(t,c.onValueNodeChange);return Xe(()=>{u(d)},[u,d]),l.jsx(J.span,{...a,ref:f,style:{pointerEvents:"none"},children:T_(c.value)?l.jsx(l.Fragment,{children:i}):o})});l_.displayName=a_;var wL="SelectIcon",c_=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(J.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});c_.displayName=wL;var xL="SelectPortal",u_=e=>l.jsx(Ca,{asChild:!0,...e});u_.displayName=xL;var Cs="SelectContent",d_=h.forwardRef((e,t)=>{const r=Vn(Cs,e.__scopeSelect),[n,s]=h.useState();if(Xe(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ps.createPortal(l.jsx(f_,{scope:e.__scopeSelect,children:l.jsx(mu.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(h_,{...e,ref:t})});d_.displayName=Cs;var tr=10,[f_,Wn]=ri(Cs),bL="SelectContentImpl",SL=bs("SelectContent.RemoveScroll"),h_=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:b,...y}=e,v=Vn(Cs,r),[x,S]=h.useState(null),[_,C]=h.useState(null),E=ce(t,$=>S($)),[k,N]=h.useState(null),[j,I]=h.useState(null),M=gu(r),[Y,D]=h.useState(!1),X=h.useRef(!1);h.useEffect(()=>{if(x)return Op(x)},[x]),Pp();const B=h.useCallback($=>{const[fe,...te]=M().map(ve=>ve.ref.current),[he]=te.slice(-1),pe=document.activeElement;for(const ve of $)if(ve===pe||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===fe&&_&&(_.scrollTop=0),ve===he&&_&&(_.scrollTop=_.scrollHeight),ve==null||ve.focus(),document.activeElement!==pe))return},[M,_]),Q=h.useCallback(()=>B([k,x]),[B,k,x]);h.useEffect(()=>{Y&&Q()},[Y,Q]);const{onOpenChange:R,triggerPointerDownPosRef:T}=v;h.useEffect(()=>{if(x){let $={x:0,y:0};const fe=he=>{var pe,ve;$={x:Math.abs(Math.round(he.pageX)-(((pe=T.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ve=T.current)==null?void 0:ve.y)??0))}},te=he=>{$.x<=10&&$.y<=10?he.preventDefault():x.contains(he.target)||R(!1),document.removeEventListener("pointermove",fe),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",te,{capture:!0})}}},[x,R,T]),h.useEffect(()=>{const $=()=>R(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[R]);const[A,L]=R_($=>{const fe=M().filter(pe=>!pe.disabled),te=fe.find(pe=>pe.ref.current===document.activeElement),he=P_(fe,$,te);he&&setTimeout(()=>he.ref.current.focus())}),F=h.useCallback(($,fe,te)=>{const he=!X.current&&!te;(v.value!==void 0&&v.value===fe||he)&&(N($),he&&(X.current=!0))},[v.value]),q=h.useCallback(()=>x==null?void 0:x.focus(),[x]),H=h.useCallback(($,fe,te)=>{const he=!X.current&&!te;(v.value!==void 0&&v.value===fe||he)&&I($)},[v.value]),ne=n==="popper"?Jf:p_,ue=ne===Jf?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:b}:{};return l.jsx(f_,{scope:r,content:x,viewport:_,onViewportChange:C,itemRefCallback:F,selectedItem:k,onItemLeave:q,itemTextRefCallback:H,focusSelectedItem:Q,selectedItemText:j,position:n,isPositioned:Y,searchRef:A,children:l.jsx(cu,{as:SL,allowPinchZoom:!0,children:l.jsx(au,{asChild:!0,trapped:v.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:z(s,$=>{var fe;(fe=v.trigger)==null||fe.focus({preventScroll:!0}),$.preventDefault()}),children:l.jsx(Ko,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(ne,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:$=>$.preventDefault(),...y,...ue,onPlaced:()=>D(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:z(y.onKeyDown,$=>{const fe=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!fe&&$.key.length===1&&L($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let he=M().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes($.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const pe=$.target,ve=he.indexOf(pe);he=he.slice(ve+1)}setTimeout(()=>B(he)),$.preventDefault()}})})})})})})});h_.displayName=bL;var _L="SelectItemAlignedPosition",p_=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Vn(Cs,r),i=Wn(Cs,r),[a,c]=h.useState(null),[u,d]=h.useState(null),f=ce(t,E=>d(E)),m=gu(r),p=h.useRef(!1),w=h.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:y,focusSelectedItem:v}=i,x=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&b&&y){const E=o.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(o.dir!=="rtl"){const pe=j.left-k.left,ve=N.left-pe,Ze=E.left-ve,Dt=E.width+Ze,Gn=Math.max(Dt,k.width),en=window.innerWidth-tr,Kn=Kv(ve,[tr,Math.max(tr,en-Gn)]);a.style.minWidth=Dt+"px",a.style.left=Kn+"px"}else{const pe=k.right-j.right,ve=window.innerWidth-N.right-pe,Ze=window.innerWidth-E.right-ve,Dt=E.width+Ze,Gn=Math.max(Dt,k.width),en=window.innerWidth-tr,Kn=Kv(ve,[tr,Math.max(tr,en-Gn)]);a.style.minWidth=Dt+"px",a.style.right=Kn+"px"}const I=m(),M=window.innerHeight-tr*2,Y=g.scrollHeight,D=window.getComputedStyle(u),X=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),Q=parseInt(D.borderBottomWidth,10),R=parseInt(D.paddingBottom,10),T=X+B+Y+R+Q,A=Math.min(b.offsetHeight*5,T),L=window.getComputedStyle(g),F=parseInt(L.paddingTop,10),q=parseInt(L.paddingBottom,10),H=E.top+E.height/2-tr,ne=M-H,ue=b.offsetHeight/2,$=b.offsetTop+ue,fe=X+B+$,te=T-fe;if(fe<=H){const pe=I.length>0&&b===I[I.length-1].ref.current;a.style.bottom="0px";const ve=u.clientHeight-g.offsetTop-g.offsetHeight,Ze=Math.max(ne,ue+(pe?q:0)+ve+Q),Dt=fe+Ze;a.style.height=Dt+"px"}else{const pe=I.length>0&&b===I[0].ref.current;a.style.top="0px";const Ze=Math.max(H,X+g.offsetTop+(pe?F:0)+ue)+te;a.style.height=Ze+"px",g.scrollTop=fe-H+g.offsetTop}a.style.margin=`${tr}px 0`,a.style.minHeight=A+"px",a.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,a,u,g,b,y,o.dir,n]);Xe(()=>x(),[x]);const[S,_]=h.useState();Xe(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const C=h.useCallback(E=>{E&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return l.jsx(CL,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(J.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});p_.displayName=_L;var EL="SelectPopperPosition",Jf=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=tr,...o}=e,i=vu(r);return l.jsx(bp,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jf.displayName=EL;var[CL,Wp]=ri(Cs,{}),Xf="SelectViewport",m_=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Wn(Xf,r),i=Wp(Xf,r),a=ce(t,o.onViewportChange),c=h.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(mu.Slot,{scope:r,children:l.jsx(J.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:z(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-tr*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(g,b);if(y<w){const v=y+p,x=Math.min(w,v),S=v-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});m_.displayName=Xf;var g_="SelectGroup",[kL,jL]=ri(g_),NL=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=jr();return l.jsx(kL,{scope:r,id:s,children:l.jsx(J.div,{role:"group","aria-labelledby":s,...n,ref:t})})});NL.displayName=g_;var v_="SelectLabel",y_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=jL(v_,r);return l.jsx(J.div,{id:s.id,...n,ref:t})});y_.displayName=v_;var _c="SelectItem",[TL,w_]=ri(_c),x_=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=Vn(_c,r),c=Wn(_c,r),u=a.value===n,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),w=ce(t,v=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,v,n,s)}),g=jr(),b=h.useRef("touch"),y=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(TL,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:h.useCallback(v=>{f(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(mu.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(J.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:z(i.onFocus,()=>p(!0)),onBlur:z(i.onBlur,()=>p(!1)),onClick:z(i.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:z(i.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:z(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:z(i.onPointerMove,v=>{var x;b.current=v.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:z(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:z(i.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(pL.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});x_.displayName=_c;var _i="SelectItemText",b_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Vn(_i,r),a=Wn(_i,r),c=w_(_i,r),u=yL(_i,r),[d,f]=h.useState(null),m=ce(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=h.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Xe(()=>(g(w),()=>b(w)),[g,b,w]),l.jsxs(l.Fragment,{children:[l.jsx(J.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ps.createPortal(o.children,i.valueNode):null]})});b_.displayName=_i;var S_="SelectItemIndicator",__=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return w_(S_,r).isSelected?l.jsx(J.span,{"aria-hidden":!0,...n,ref:t}):null});__.displayName=S_;var Zf="SelectScrollUpButton",E_=h.forwardRef((e,t)=>{const r=Wn(Zf,e.__scopeSelect),n=Wp(Zf,e.__scopeSelect),[s,o]=h.useState(!1),i=ce(t,n.onScrollButtonChange);return Xe(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(k_,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});E_.displayName=Zf;var eh="SelectScrollDownButton",C_=h.forwardRef((e,t)=>{const r=Wn(eh,e.__scopeSelect),n=Wp(eh,e.__scopeSelect),[s,o]=h.useState(!1),i=ce(t,n.onScrollButtonChange);return Xe(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(k_,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});C_.displayName=eh;var k_=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Wn("SelectScrollButton",r),i=h.useRef(null),a=gu(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Xe(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(J.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:z(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:z(s.onPointerLeave,()=>{c()})})}),RL="SelectSeparator",j_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(J.div,{"aria-hidden":!0,...n,ref:t})});j_.displayName=RL;var th="SelectArrow",PL=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=vu(r),o=Vn(th,r),i=Wn(th,r);return o.open&&i.position==="popper"?l.jsx(Sp,{...s,...n,ref:t}):null});PL.displayName=th;var AL="SelectBubbleInput",N_=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=ce(n,s),i=n_(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),l.jsx(J.select,{...r,style:{...I0,...r.style},ref:o,defaultValue:t})});N_.displayName=AL;function T_(e){return e===""||e===void 0}function R_(e){const t=St(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const a=r.current+i;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function P_(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=IL(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function IL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var OL=s_,A_=i_,ML=l_,DL=c_,LL=u_,I_=d_,$L=m_,O_=y_,M_=x_,UL=b_,FL=__,D_=E_,L_=C_,$_=j_;const Ho=OL,Ec=ML,ks=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(A_,{ref:n,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(DL,{asChild:!0,children:l.jsx(nx,{className:"h-4 w-4 opacity-50"})})]}));ks.displayName=A_.displayName;const U_=h.forwardRef(({className:e,...t},r)=>l.jsx(D_,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Vj,{className:"h-4 w-4"})}));U_.displayName=D_.displayName;const F_=h.forwardRef(({className:e,...t},r)=>l.jsx(L_,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(nx,{className:"h-4 w-4"})}));F_.displayName=L_.displayName;const js=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(LL,{children:l.jsxs(I_,{ref:s,className:W("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(U_,{}),l.jsx($L,{className:W("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(F_,{})]})}));js.displayName=I_.displayName;const zL=h.forwardRef(({className:e,...t},r)=>l.jsx(O_,{ref:r,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));zL.displayName=O_.displayName;const De=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(M_,{ref:n,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(FL,{children:l.jsx(rx,{className:"h-4 w-4"})})}),l.jsx(UL,{children:t})]}));De.displayName=M_.displayName;const BL=h.forwardRef(({className:e,...t},r)=>l.jsx($_,{ref:r,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));BL.displayName=$_.displayName;var HL="Label",z_=h.forwardRef((e,t)=>l.jsx(J.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));z_.displayName=HL;var B_=z_;const VL=Kc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dt=h.forwardRef(({className:e,...t},r)=>l.jsx(B_,{ref:r,className:W(VL(),e),...t}));dt.displayName=B_.displayName;var Gp="Progress",Kp=100,[WL]=_t(Gp),[GL,KL]=WL(Gp),H_=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=qL,...i}=e;(s||s===0)&&!qv(s)&&console.error(QL(`${s}`,"Progress"));const a=qv(s)?s:Kp;n!==null&&!Qv(n,a)&&console.error(YL(`${n}`,"Progress"));const c=Qv(n,a)?n:null,u=Cc(c)?o(c,a):void 0;return l.jsx(GL,{scope:r,value:c,max:a,children:l.jsx(J.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Cc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":G_(c,a),"data-value":c??void 0,"data-max":a,...i,ref:t})})});H_.displayName=Gp;var V_="ProgressIndicator",W_=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=KL(V_,r);return l.jsx(J.div,{"data-state":G_(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});W_.displayName=V_;function qL(e,t){return`${Math.round(e/t*100)}%`}function G_(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Cc(e){return typeof e=="number"}function qv(e){return Cc(e)&&!isNaN(e)&&e>0}function Qv(e,t){return Cc(e)&&!isNaN(e)&&e<=t&&e>=0}function QL(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Kp}\`.`}function YL(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Kp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var K_=H_,JL=W_;const qp=h.forwardRef(({className:e,value:t,...r},n)=>l.jsx(K_,{ref:n,className:W("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(JL,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));qp.displayName=K_.displayName;const XL=({astriaModels:e,selectedExistingModel:t,setSelectedExistingModel:r,useExistingModel:n,setUseExistingModel:s,modelName:o,setModelName:i,selectedFiles:a,isTraining:c,trainingProgress:u,handleFileSelect:d,handleTrainModel:f})=>{var m;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(dt,{className:"text-sm font-medium",children:"Model Options"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(G,{variant:n?"outline":"default",onClick:()=>s(!1),disabled:c,children:"Create New Model"}),l.jsxs(G,{variant:n?"default":"outline",onClick:()=>s(!0),disabled:c||e.length===0,children:["Use Existing Model (",e.length,")"]})]})]}),n&&e.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(dt,{htmlFor:"existingModel",className:"text-sm font-medium",children:"Select Existing Model"}),l.jsxs(Ho,{value:((m=t==null?void 0:t.id)==null?void 0:m.toString())||"",onValueChange:p=>{const w=e.find(g=>{var b;return((b=g.id)==null?void 0:b.toString())===p});r(w)},disabled:c,children:[l.jsx(ks,{children:l.jsx(Ec,{placeholder:"Choose an existing model..."})}),l.jsx(js,{children:e.map(p=>{var w;return l.jsx(De,{value:((w=p.id)==null?void 0:w.toString())||"",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:p.name||`Model ${p.id}`}),p.name&&p.name.toLowerCase().includes("newheadhotman")&&l.jsx(Tr,{variant:"secondary",children:"Default"})]})},p.id)})})]}),t&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Status: ",t.status,"  Last Updated:"," ",t.updated_at?new Date(t.updated_at).toLocaleDateString():"Unknown"]})]}),!n&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"modelName",className:"text-sm font-medium",children:"Model Name"}),l.jsx(Rr,{id:"modelName",type:"text",value:o,onChange:p=>i(p.target.value),placeholder:"Enter model name (e.g., Professional Headshots v2)",disabled:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Training Photos (4-20 images)"}),l.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(cx,{className:"w-12 h-12 mx-auto text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-medium",children:"Upload Training Photos"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Select 4-20 high-quality photos for optimal results"})]}),l.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:d,className:"hidden",id:"photo-upload",disabled:c}),l.jsx(G,{onClick:()=>{var p;return(p=document.getElementById("photo-upload"))==null?void 0:p.click()},disabled:c,children:"Choose Photos"})]})}),a.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Selected ",a.length," photos:"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((p,w)=>l.jsx(Tr,{variant:"outline",children:p.name},w))})]})]}),c&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Training Progress"}),l.jsxs("span",{children:[u,"%"]})]}),l.jsx(qp,{value:u,className:"w-full"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Training your model... This may take several minutes."})]}),l.jsx(G,{onClick:f,disabled:c||(n?!t||t.status&&t.status!=="trained"&&t.status!=="finished":!o.trim()||a.length<4),className:"w-full",size:"lg",children:c?l.jsxs(l.Fragment,{children:[l.jsx(ta,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Adding Model...":"Training Model..."]}):l.jsxs(l.Fragment,{children:[l.jsx(up,{className:"w-4 h-4 mr-2"}),n?"Add Existing Model":"Start Training"]})})]})},ZL=({models:e,isLoading:t,isLoadingAstriaModels:r,loadUserModels:n,loadAstriaModels:s})=>{const o=c=>{switch(c){case"trained":return"bg-green-500";case"training":return"bg-blue-500";case"failed":return"bg-red-500";default:return"bg-yellow-500"}},i=c=>{switch(c){case"trained":return l.jsx(ox,{className:"w-4 h-4"});case"training":return l.jsx(ta,{className:"w-4 h-4"});case"failed":return l.jsx(sx,{className:"w-4 h-4"});default:return l.jsx(ta,{className:"w-4 h-4"})}},a=async()=>{await Promise.all([n(),s()])};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Your Trained Models"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Models available for generating headshots"})]}),l.jsxs(G,{onClick:a,disabled:r||t,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(_f,{className:`w-4 h-4 ${r||t?"animate-spin":""}`}),r||t?"Syncing...":"Sync Models"]})]}),l.jsx("div",{className:"grid gap-4",children:e.length===0?l.jsx(ge,{children:l.jsx(ye,{className:"pt-6",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx(up,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"font-semibold text-lg",children:"No Models Yet"}),l.jsx("p",{className:"text-muted-foreground",children:'Train your first AI model using the "Train New Model" tab.'})]})})}):e.map(c=>l.jsxs(ge,{children:[l.jsx(st,{className:"pb-3",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(ot,{className:"text-lg",children:c.name}),l.jsxs(At,{children:["Model ID: ",c.id,"  Astria ID: ",c.astria_model_id]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(Tr,{variant:"outline",className:`${o(c.status)} text-white border-0`,children:[i(c.status),l.jsx("span",{className:"ml-1",children:c.status})]})})]})}),l.jsx(ye,{children:l.jsx("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:l.jsxs("span",{children:["Last Updated: ",new Date(c.updated_at).toLocaleDateString()]})})})]},c.id))})]})},Yv=()=>{const e=at(),{t}=mr(),{models:r,astriaModels:n,selectedExistingModel:s,useExistingModel:o,isLoading:i,isLoadingAstriaModels:a,isTraining:c,selectedFiles:u,modelName:d,trainingProgress:f,setSelectedExistingModel:m,setUseExistingModel:p,setModelName:w,setSelectedFiles:g,handleFileSelect:b,handleTrainModel:y,loadUserModels:v,loadAstriaModels:x}=fL();return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs(G,{variant:"ghost",onClick:()=>e("/admin"),className:"mr-4",children:[l.jsx(qc,{className:"w-4 h-4 mr-2"}),t("train.backToAdmin")]}),l.jsx("h1",{className:"text-2xl font-bold",children:t("train.title")}),l.jsx(Tr,{variant:"secondary",className:"ml-3",children:t("train.adminOnly")})]}),l.jsx(Xr,{})]})}),l.jsx("main",{className:"container max-w-4xl py-8",children:l.jsxs(Vp,{defaultValue:"new",className:"space-y-6",children:[l.jsxs(pu,{children:[l.jsx(On,{value:"new",children:t("train.trainNew")}),l.jsxs(On,{value:"existing",children:[t("train.existing")," (",r.length,")"]})]}),l.jsx(Mn,{value:"new",className:"space-y-6",children:l.jsxs(ge,{children:[l.jsxs(st,{children:[l.jsx(ot,{children:t("train.trainTitle")}),l.jsx(At,{children:t("train.trainDesc")})]}),l.jsx(ye,{className:"space-y-6",children:l.jsx(XL,{astriaModels:n,selectedExistingModel:s,setSelectedExistingModel:m,useExistingModel:o,setUseExistingModel:p,modelName:d,setModelName:w,selectedFiles:u,setSelectedFiles:g,isTraining:c,trainingProgress:f,handleFileSelect:b,handleTrainModel:y})})]})}),l.jsx(Mn,{value:"existing",className:"space-y-6",children:l.jsx(ZL,{models:r,isLoading:i,isLoadingAstriaModels:a,loadUserModels:v,loadAstriaModels:x})})]})})]})},e$=({userRoles:e})=>{const[t,r]=h.useState(!0),[n,s]=h.useState({totalUsers:0,totalEvents:0,totalRevenue:0}),{toast:o}=Et();h.useEffect(()=>{i()},[]);const i=async()=>{r(!0);try{const{count:a}=await ee.from("profiles").select("*",{count:"exact",head:!0}),{count:c}=await ee.from("events").select("*",{count:"exact",head:!0}),{data:u}=await ee.from("creator_balances").select("total_earned"),d=(u==null?void 0:u.reduce((f,m)=>f+(m.total_earned||0),0))||0;s({totalUsers:a||0,totalEvents:c||0,totalRevenue:d})}catch(a){console.error("Error loading dashboard data:",a),o({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{r(!1)}};return t?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})}):l.jsxs("div",{children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-8",children:[l.jsxs(ge,{children:[l.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ot,{className:"text-sm font-medium",children:"Total Users"}),l.jsx(sN,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(ye,{children:l.jsx("div",{className:"text-2xl font-bold",children:n.totalUsers})})]}),l.jsxs(ge,{children:[l.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ot,{className:"text-sm font-medium",children:"Total Events"}),l.jsx(lx,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(ye,{children:l.jsx("div",{className:"text-2xl font-bold",children:n.totalEvents})})]}),l.jsxs(ge,{children:[l.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ot,{className:"text-sm font-medium",children:"Total Revenue"}),l.jsx(Gj,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(ye,{children:l.jsxs("div",{className:"text-2xl font-bold",children:["$",(n.totalRevenue/100).toFixed(2)]})})]})]}),l.jsxs(ge,{children:[l.jsxs(st,{children:[l.jsx(ot,{children:"System Overview"}),l.jsx(At,{children:"Quick view of platform statistics and health"})]}),l.jsx(ye,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:" Platform is operational"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",n.totalUsers," registered users"]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",n.totalEvents," total events created"]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[" $",(n.totalRevenue/100).toFixed(2)," in total revenue"]})]})})]})]})},q_=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:W("w-full caption-bottom text-sm",e),...t})}));q_.displayName="Table";const Q_=h.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:W("[&_tr]:border-b",e),...t}));Q_.displayName="TableHeader";const Y_=h.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:W("[&_tr:last-child]:border-0",e),...t}));Y_.displayName="TableBody";const t$=h.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:W("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));t$.displayName="TableFooter";const rh=h.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:W("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));rh.displayName="TableRow";const Xs=h.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:W("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Xs.displayName="TableHead";const Zs=h.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:W("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Zs.displayName="TableCell";const r$=h.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:W("mt-4 text-sm text-muted-foreground",e),...t}));r$.displayName="TableCaption";var yu="Dialog",[J_,X_]=_t(yu),[n$,gr]=J_(yu),Z_=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),c=h.useRef(null),[u,d]=$n({prop:n,defaultProp:s??!1,onChange:o,caller:yu});return l.jsx(n$,{scope:t,triggerRef:a,contentRef:c,contentId:jr(),titleId:jr(),descriptionId:jr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};Z_.displayName=yu;var e1="DialogTrigger",t1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(e1,r),o=ce(t,s.triggerRef);return l.jsx(J.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Jp(s.open),...n,ref:o,onClick:z(e.onClick,s.onOpenToggle)})});t1.displayName=e1;var Qp="DialogPortal",[s$,r1]=J_(Qp,{forceMount:void 0}),n1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=gr(Qp,t);return l.jsx(s$,{scope:t,forceMount:r,children:h.Children.map(n,i=>l.jsx(Kt,{present:r||o.open,children:l.jsx(Ca,{asChild:!0,container:s,children:i})}))})};n1.displayName=Qp;var kc="DialogOverlay",s1=h.forwardRef((e,t)=>{const r=r1(kc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=gr(kc,e.__scopeDialog);return o.modal?l.jsx(Kt,{present:n||o.open,children:l.jsx(i$,{...s,ref:t})}):null});s1.displayName=kc;var o$=bs("DialogOverlay.RemoveScroll"),i$=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(kc,r);return l.jsx(cu,{as:o$,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(J.div,{"data-state":Jp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ns="DialogContent",o1=h.forwardRef((e,t)=>{const r=r1(Ns,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=gr(Ns,e.__scopeDialog);return l.jsx(Kt,{present:n||o.open,children:o.modal?l.jsx(a$,{...s,ref:t}):l.jsx(l$,{...s,ref:t})})});o1.displayName=Ns;var a$=h.forwardRef((e,t)=>{const r=gr(Ns,e.__scopeDialog),n=h.useRef(null),s=ce(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return Op(o)},[]),l.jsx(i1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:z(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:z(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:z(e.onFocusOutside,o=>o.preventDefault())})}),l$=h.forwardRef((e,t)=>{const r=gr(Ns,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return l.jsx(i1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),i1=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=gr(Ns,r),c=h.useRef(null),u=ce(t,c);return Pp(),l.jsxs(l.Fragment,{children:[l.jsx(au,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Ko,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Jp(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(u$,{titleId:a.titleId}),l.jsx(f$,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Yp="DialogTitle",a1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(Yp,r);return l.jsx(J.h2,{id:s.titleId,...n,ref:t})});a1.displayName=Yp;var l1="DialogDescription",c1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(l1,r);return l.jsx(J.p,{id:s.descriptionId,...n,ref:t})});c1.displayName=l1;var u1="DialogClose",d1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(u1,r);return l.jsx(J.button,{type:"button",...n,ref:t,onClick:z(e.onClick,()=>s.onOpenChange(!1))})});d1.displayName=u1;function Jp(e){return e?"open":"closed"}var f1="DialogTitleWarning",[c$,h1]=Yk(f1,{contentName:Ns,titleName:Yp,docsSlug:"dialog"}),u$=({titleId:e})=>{const t=h1(f1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},d$="DialogDescriptionWarning",f$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${h1(d$).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},p1=Z_,m1=t1,g1=n1,Xp=s1,Zp=o1,em=a1,tm=c1,rm=d1;const Jv=p1,h$=m1,p$=g1,v1=h.forwardRef(({className:e,...t},r)=>l.jsx(Xp,{ref:r,className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));v1.displayName=Xp.displayName;const nh=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(p$,{children:[l.jsx(v1,{}),l.jsxs(Zp,{ref:n,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(rm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(cp,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nh.displayName=Zp.displayName;const sh=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sh.displayName="DialogHeader";const oh=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});oh.displayName="DialogFooter";const ih=h.forwardRef(({className:e,...t},r)=>l.jsx(em,{ref:r,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));ih.displayName=em.displayName;const ah=h.forwardRef(({className:e,...t},r)=>l.jsx(tm,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));ah.displayName=tm.displayName;var y1="AlertDialog",[m$]=_t(y1,[X_]),Zr=X_(),w1=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zr(t);return l.jsx(p1,{...n,...r,modal:!0})};w1.displayName=y1;var g$="AlertDialogTrigger",x1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return l.jsx(m1,{...s,...n,ref:t})});x1.displayName=g$;var v$="AlertDialogPortal",b1=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zr(t);return l.jsx(g1,{...n,...r})};b1.displayName=v$;var y$="AlertDialogOverlay",S1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return l.jsx(Xp,{...s,...n,ref:t})});S1.displayName=y$;var Co="AlertDialogContent",[w$,x$]=m$(Co),b$=T0("AlertDialogContent"),_1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=Zr(r),i=h.useRef(null),a=ce(t,i),c=h.useRef(null);return l.jsx(c$,{contentName:Co,titleName:E1,docsSlug:"alert-dialog",children:l.jsx(w$,{scope:r,cancelRef:c,children:l.jsxs(Zp,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:z(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(b$,{children:n}),l.jsx(_$,{contentRef:i})]})})})});_1.displayName=Co;var E1="AlertDialogTitle",C1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return l.jsx(em,{...s,...n,ref:t})});C1.displayName=E1;var k1="AlertDialogDescription",j1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return l.jsx(tm,{...s,...n,ref:t})});j1.displayName=k1;var S$="AlertDialogAction",N1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return l.jsx(rm,{...s,...n,ref:t})});N1.displayName=S$;var T1="AlertDialogCancel",R1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=x$(T1,r),o=Zr(r),i=ce(t,s);return l.jsx(rm,{...o,...n,ref:i})});R1.displayName=T1;var _$=({contentRef:e})=>{const t=`\`${Co}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Co}\` by passing a \`${k1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Co}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},E$=w1,C$=x1,k$=b1,P1=S1,A1=_1,I1=N1,O1=R1,M1=C1,D1=j1;const j$=E$,N$=C$,T$=k$,L1=h.forwardRef(({className:e,...t},r)=>l.jsx(P1,{className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));L1.displayName=P1.displayName;const $1=h.forwardRef(({className:e,...t},r)=>l.jsxs(T$,{children:[l.jsx(L1,{}),l.jsx(A1,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));$1.displayName=A1.displayName;const U1=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",e),...t});U1.displayName="AlertDialogHeader";const F1=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});F1.displayName="AlertDialogFooter";const z1=h.forwardRef(({className:e,...t},r)=>l.jsx(M1,{ref:r,className:W("text-lg font-semibold",e),...t}));z1.displayName=M1.displayName;const B1=h.forwardRef(({className:e,...t},r)=>l.jsx(D1,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));B1.displayName=D1.displayName;const H1=h.forwardRef(({className:e,...t},r)=>l.jsx(I1,{ref:r,className:W(Rp(),e),...t}));H1.displayName=I1.displayName;const V1=h.forwardRef(({className:e,...t},r)=>l.jsx(O1,{ref:r,className:W(Rp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));V1.displayName=O1.displayName;const R$=({userRoles:e})=>{const[t,r]=h.useState([]),[n,s]=h.useState(!1),[o,i]=h.useState(null),[a,c]=h.useState([]),[u,d]=h.useState(!1),[f,m]=h.useState(""),[p,w]=h.useState(""),[g,b]=h.useState("user"),{toast:y}=Et(),v=async()=>{s(!0);try{const N=await be.getAllUsers();r(N)}catch{y({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{s(!1)}};h.useEffect(()=>{v()},[]);const x=N=>{var j;i(N),c(((j=N.user_roles)==null?void 0:j.map(I=>I.role))||[])},S=async()=>{if(o)try{await be.updateUserRoles(o.id,a),y({title:"Success",description:"User roles updated successfully"}),i(null),c([]),await v()}catch{y({title:"Error",description:"Failed to update user roles",variant:"destructive"})}},_=async(N,j)=>{try{await be.deleteUser(N),y({title:"Success",description:`User ${j} deleted successfully`}),await v()}catch{y({title:"Error",description:"Failed to delete user",variant:"destructive"})}},C=async()=>{if(!f||!p){y({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}try{await be.createUser(f,p,[g]),y({title:"Success",description:`User ${f} created successfully`}),m(""),w(""),b("user"),d(!1),await v()}catch{y({title:"Error",description:"Failed to create user",variant:"destructive"})}},E=N=>{c(j=>j.includes(N)?j.filter(I=>I!==N):[...j,N])},k=N=>{switch(N){case"super_admin":return"destructive";case"admin":return"secondary";case"creator":return"outline";default:return"default"}};return l.jsxs(ge,{children:[l.jsxs(st,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(ot,{children:"User Management"}),l.jsx(At,{children:"Manage user accounts and roles"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(G,{onClick:v,variant:"outline",disabled:n,children:"Refresh"}),l.jsxs(Jv,{open:u,onOpenChange:d,children:[l.jsx(h$,{asChild:!0,children:l.jsxs(G,{children:[l.jsx(rN,{className:"w-4 h-4 mr-2"}),"Add User"]})}),l.jsxs(nh,{children:[l.jsxs(sh,{children:[l.jsx(ih,{children:"Create New User"}),l.jsx(ah,{children:"Create a new user account with specified role"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(dt,{htmlFor:"email",children:"Email"}),l.jsx(Rr,{id:"email",type:"email",placeholder:"user@example.com",value:f,onChange:N=>m(N.target.value)})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(dt,{htmlFor:"password",children:"Password"}),l.jsx(Rr,{id:"password",type:"password",placeholder:"Minimum 6 characters",value:p,onChange:N=>w(N.target.value)})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(dt,{htmlFor:"role",children:"Initial Role"}),l.jsxs(Ho,{value:g,onValueChange:b,children:[l.jsx(ks,{children:l.jsx(Ec,{})}),l.jsxs(js,{children:[l.jsx(De,{value:"user",children:"User"}),l.jsx(De,{value:"creator",children:"Creator"}),l.jsx(De,{value:"admin",children:"Admin"}),e.includes("super_admin")&&l.jsx(De,{value:"super_admin",children:"Super Admin"})]})]})]})]}),l.jsxs(oh,{children:[l.jsx(G,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),l.jsx(G,{onClick:C,children:"Create User"})]})]})]})]})]}),l.jsx(ye,{children:n?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No users loaded"}),l.jsx(G,{onClick:v,variant:"outline",children:"Load Users"})]}):l.jsxs(q_,{children:[l.jsx(Q_,{children:l.jsxs(rh,{children:[l.jsx(Xs,{children:"Email"}),l.jsx(Xs,{children:"Roles"}),l.jsx(Xs,{children:"App Source"}),l.jsx(Xs,{children:"Joined"}),l.jsx(Xs,{children:"Actions"})]})}),l.jsx(Y_,{children:t.map(N=>{var j;return l.jsxs(rh,{children:[l.jsx(Zs,{className:"font-medium",children:N.email}),l.jsx(Zs,{children:l.jsx("div",{className:"flex gap-1 flex-wrap",children:((j=N.user_roles)==null?void 0:j.map(I=>l.jsx(Tr,{variant:k(I.role),className:"text-xs",children:I.role},I.role)))||l.jsx(Tr,{variant:"outline",className:"text-xs",children:"No roles"})})}),l.jsx(Zs,{children:N.appsource||"Unknown"}),l.jsx(Zs,{children:new Date(N.created_at).toLocaleDateString()}),l.jsx(Zs,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(G,{variant:"outline",size:"sm",onClick:()=>x(N),children:[l.jsx(eN,{className:"w-3 h-3 mr-1"}),"Edit"]}),l.jsxs(j$,{children:[l.jsx(N$,{asChild:!0,children:l.jsxs(G,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:[l.jsx(tN,{className:"w-3 h-3 mr-1"}),"Delete"]})}),l.jsxs($1,{children:[l.jsxs(U1,{children:[l.jsx(z1,{children:"Delete User"}),l.jsxs(B1,{children:['Are you sure you want to delete user "',N.email,'"? This action cannot be undone.']})]}),l.jsxs(F1,{children:[l.jsx(V1,{children:"Cancel"}),l.jsx(H1,{className:"bg-red-600 hover:bg-red-700",onClick:()=>_(N.id,N.email),children:"Delete User"})]})]})]})]})})]},N.id)})})]})}),l.jsx(Jv,{open:!!o,onOpenChange:()=>i(null),children:l.jsxs(nh,{children:[l.jsxs(sh,{children:[l.jsx(ih,{children:"Edit User Roles"}),l.jsxs(ah,{children:["Manage roles for ",o==null?void 0:o.email]})]}),l.jsx("div",{className:"grid gap-4 py-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(dt,{children:"User Roles"}),l.jsxs("div",{className:"space-y-2",children:[["user","creator","admin"].map(N=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:N,checked:a.includes(N),onChange:()=>E(N),className:"w-4 h-4"}),l.jsx(dt,{htmlFor:N,className:"capitalize",children:N.replace("_"," ")})]},N)),e.includes("super_admin")&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"super_admin",checked:a.includes("super_admin"),onChange:()=>E("super_admin"),className:"w-4 h-4"}),l.jsx(dt,{htmlFor:"super_admin",className:"capitalize",children:"Super Admin"})]})]})]})}),l.jsxs(oh,{children:[l.jsx(G,{variant:"outline",onClick:()=>i(null),children:"Cancel"}),l.jsx(G,{onClick:S,children:"Update Roles"})]})]})})]})},P$=({userRoles:e})=>e.includes("super_admin")?l.jsxs(ge,{children:[l.jsxs(st,{children:[l.jsx(ot,{children:"Platform Settings"}),l.jsx(At,{children:"Configure platform-wide settings and commission rates"})]}),l.jsx(ye,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[l.jsx("p",{className:"font-medium text-purple-900",children:"Super Admin Access"}),l.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"You have full control over commission rates and platform settings."})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Commission and platform settings interface coming soon..."})]})})]}):null,A$=()=>{const[e,t]=h.useState(!0),[r,n]=h.useState(!1),[s,o]=h.useState([]),i=at(),{toast:a}=Et(),{t:c}=mr();h.useEffect(()=>{u()},[]);const u=async()=>{try{const d=await Hr.getCurrentUser();if(!d){i("/login");return}const f=await Hr.getUserRoles(d.id);o(f);const m=f.includes("admin")||f.includes("super_admin");n(m),m||(a({title:"Access Denied",description:"You do not have permission to access the admin dashboard",variant:"destructive"}),i("/overview"))}catch(d){console.error("Authorization error:",d),a({title:c("common.error"),description:"Failed to verify permissions",variant:"destructive"}),i("/overview")}finally{t(!1)}};return e?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):r?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(G,{variant:"ghost",onClick:()=>i("/overview"),children:[l.jsx(qc,{className:"w-4 h-4 mr-2"}),c("common.back")]}),l.jsx("h1",{className:"text-2xl font-bold",children:c("admin.title")}),s.includes("super_admin")&&l.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-semibold rounded",children:c("admin.superAdmin")})]}),l.jsx(Xr,{})]})}),l.jsxs("main",{className:"container py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:c("admin.tools")}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[l.jsxs(ge,{className:"group cursor-pointer hover:shadow-xl hover:shadow-primary/10 transition-all duration-300 border-border hover:border-primary/50",children:[l.jsxs(st,{children:[l.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:l.jsx(Ss,{className:"h-7 w-7 text-primary"})}),l.jsx(ot,{className:"group-hover:text-primary transition-colors",children:c("admin.trainModel")}),l.jsx(At,{children:c("admin.trainModelDesc")})]}),l.jsx(ye,{children:l.jsxs(G,{variant:"ghost",className:"w-full justify-between group/btn hover:bg-primary/10",onClick:()=>i("/admin/train"),children:[c("admin.accessTool"),l.jsx(cc,{className:"h-4 w-4 group-hover/btn:translate-x-1 transition-transform"})]})})]}),l.jsxs(ge,{className:"opacity-50 border-dashed",children:[l.jsxs(st,{children:[l.jsx("div",{className:"w-14 h-14 rounded-xl bg-muted flex items-center justify-center mb-4",children:l.jsx(dc,{className:"h-7 w-7 text-muted-foreground"})}),l.jsx(ot,{className:"text-muted-foreground",children:c("admin.moreTools")}),l.jsx(At,{children:c("admin.moreToolsDesc")})]}),l.jsx(ye,{children:l.jsx(G,{variant:"ghost",disabled:!0,className:"w-full",children:c("common.comingSoon")})})]})]})]}),l.jsxs(Vp,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(pu,{children:[l.jsx(On,{value:"overview",children:c("admin.overview")}),l.jsx(On,{value:"users",children:c("admin.users")}),s.includes("super_admin")&&l.jsxs(On,{value:"settings",children:[l.jsx(dc,{className:"w-4 h-4 mr-2"}),c("admin.settings")]})]}),l.jsx(Mn,{value:"overview",className:"space-y-4",children:l.jsx(e$,{userRoles:s})}),l.jsx(Mn,{value:"users",className:"space-y-4",children:l.jsx(R$,{userRoles:s})}),s.includes("super_admin")&&l.jsx(Mn,{value:"settings",className:"space-y-4",children:l.jsx(P$,{userRoles:s})})]})]})]}):null},W1=h.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));W1.displayName="Textarea";const I$=({onPhotosSelected:e})=>{const[t,r]=h.useState([]),[n,s]=h.useState([]),o=h.useRef(null),{toast:i}=Et(),a=d=>{const f=Array.from(d.target.files||[]);if(f.length===0)return;const m=f.filter(w=>w.type.startsWith("image/"));m.length!==f.length&&i({title:"Invalid files",description:"Please upload only image files",variant:"destructive"});const p=m.map(w=>URL.createObjectURL(w));r(w=>[...w,...p]),s(w=>[...w,...m])},c=d=>{URL.revokeObjectURL(t[d]),r(f=>f.filter((m,p)=>p!==d)),s(f=>f.filter((m,p)=>p!==d))},u=()=>{if(n.length===0){i({title:"No photos selected",description:"Please upload at least one photo",variant:"destructive"});return}e(n)};return l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Upload Your Photos"}),l.jsx("p",{className:"text-muted-foreground",children:"Upload 4-10 photos for best results. Include different angles and expressions."})]}),l.jsxs(ge,{className:"p-8 bg-card border-border shadow-[var(--shadow-card)]",children:[l.jsxs("div",{onClick:()=>{var d;return(d=o.current)==null?void 0:d.click()},className:"border-2 border-dashed border-border rounded-lg p-12 text-center cursor-pointer hover:border-primary transition-colors bg-muted/30 hover:bg-muted/50",children:[l.jsx(cx,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),l.jsx("p",{className:"text-lg mb-2",children:"Click to upload photos"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"or drag and drop your images here"}),l.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,onChange:a,className:"hidden"})]}),t.length>0&&l.jsxs("div",{className:"mt-8",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(ax,{className:"w-5 h-5"}),"Selected Photos (",t.length,")"]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((d,f)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:d,alt:`Preview ${f+1}`,className:"w-full h-32 object-cover rounded-lg"}),l.jsx("button",{onClick:()=>c(f),className:"absolute top-2 right-2 p-1 bg-destructive rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(cp,{className:"w-4 h-4 text-destructive-foreground"})})]},f))})]}),n.length>0&&l.jsx("div",{className:"mt-8 text-center",children:l.jsxs(G,{size:"lg",onClick:u,className:"bg-primary hover:bg-primary/90 shadow-[var(--shadow-glow)]",children:["Generate Headshots (",n.length," photos)"]})})]})]})};var nm="Radio",[O$,G1]=_t(nm),[M$,D$]=O$(nm),K1=h.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:a="on",onCheck:c,form:u,...d}=e,[f,m]=h.useState(null),p=ce(t,b=>m(b)),w=h.useRef(!1),g=f?u||!!f.closest("form"):!0;return l.jsxs(M$,{scope:r,checked:s,disabled:i,children:[l.jsx(J.button,{type:"button",role:"radio","aria-checked":s,"data-state":J1(s),"data-disabled":i?"":void 0,disabled:i,value:a,...d,ref:p,onClick:z(e.onClick,b=>{s||c==null||c(),g&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),g&&l.jsx(Y1,{control:f,bubbles:!w.current,name:n,value:a,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});K1.displayName=nm;var q1="RadioIndicator",Q1=h.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=D$(q1,r);return l.jsx(Kt,{present:n||o.checked,children:l.jsx(J.span,{"data-state":J1(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});Q1.displayName=q1;var L$="RadioBubbleInput",Y1=h.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),a=ce(i,o),c=n_(r),u=Ax(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const w=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(w)}},[c,r,n]),l.jsx(J.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y1.displayName=L$;function J1(e){return e?"checked":"unchecked"}var $$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],wu="RadioGroup",[U$]=_t(wu,[ti,G1]),X1=ti(),Z1=G1(),[F$,z$]=U$(wu),eE=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:a=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=e,p=X1(r),w=Aa(u),[g,b]=$n({prop:o,defaultProp:s??null,onChange:f,caller:wu});return l.jsx(F$,{scope:r,name:n,required:i,disabled:a,value:g,onValueChange:b,children:l.jsx(Ap,{asChild:!0,...p,orientation:c,dir:w,loop:d,children:l.jsx(J.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":a?"":void 0,dir:w,...m,ref:t})})})});eE.displayName=wu;var tE="RadioGroupItem",rE=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=z$(tE,r),i=o.disabled||n,a=X1(r),c=Z1(r),u=h.useRef(null),d=ce(t,u),f=o.value===s.value,m=h.useRef(!1);return h.useEffect(()=>{const p=g=>{$$.includes(g.key)&&(m.current=!0)},w=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",w)}},[]),l.jsx(Ip,{asChild:!0,...a,focusable:!i,active:f,children:l.jsx(K1,{disabled:i,required:o.required,checked:f,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:z(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:z(s.onFocus,()=>{var p;m.current&&((p=u.current)==null||p.click())})})})});rE.displayName=tE;var B$="RadioGroupIndicator",nE=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=Z1(r);return l.jsx(Q1,{...s,...n,ref:t})});nE.displayName=B$;var sE=eE,oE=rE,H$=nE;const lh=h.forwardRef(({className:e,...t},r)=>l.jsx(sE,{className:W("grid gap-2",e),...t,ref:r}));lh.displayName=sE.displayName;const eo=h.forwardRef(({className:e,...t},r)=>l.jsx(oE,{ref:r,className:W("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(H$,{className:"flex items-center justify-center",children:l.jsx(ix,{className:"h-2.5 w-2.5 fill-current text-current"})})}));eo.displayName=oE.displayName;const V$=({selectedStyle:e,setSelectedStyle:t,selectedGender:r,setSelectedGender:n})=>l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Choose Your Photo Style"}),l.jsxs(lh,{value:e,onValueChange:t,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg cursor-pointer hover:bg-accent",children:[l.jsx(eo,{value:"professional",id:"professional"}),l.jsx(dt,{htmlFor:"professional",className:"cursor-pointer flex-1",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Professional/Corporate"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Full face frontal headshot, perfect for LinkedIn and business"})]})})]}),l.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg cursor-pointer hover:bg-accent",children:[l.jsx(eo,{value:"doctor",id:"doctor"}),l.jsx(dt,{htmlFor:"doctor",className:"cursor-pointer flex-1",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Doctor/Medical"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Professional medical headshot, ideal for healthcare professionals"})]})})]}),l.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg cursor-pointer hover:bg-accent",children:[l.jsx(eo,{value:"boudoir",id:"boudoir"}),l.jsx(dt,{htmlFor:"boudoir",className:"cursor-pointer flex-1",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Boudoir/Artistic"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Mid-body artistic shot with tasteful styling"})]})})]})]}),e==="boudoir"&&l.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Select Gender for Styling"}),l.jsxs(lh,{value:r,onValueChange:n,className:"flex gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(eo,{value:"man",id:"man"}),l.jsx(dt,{htmlFor:"man",children:"Man (shirtless styling)"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(eo,{value:"woman",id:"woman"}),l.jsx(dt,{htmlFor:"woman",children:"Woman (elegant lingerie)"})]})]})]})]}),W$=({creditCost:e=1,headshotCount:t=4,quality:r="High Quality"})=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Tr,{variant:"outline",children:[e," Credit"]}),l.jsx("span",{className:"text-sm",children:"Per generation"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Tr,{variant:"outline",children:[t," Headshots"]}),l.jsx("span",{className:"text-sm",children:"Different angles"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tr,{variant:"outline",children:r}),l.jsx("span",{className:"text-sm",children:"Professional results"})]})]}),G$=({images:e,onDownload:t,onStartNew:r})=>l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Your Professional Headshots"}),l.jsx("p",{className:"text-muted-foreground",children:"Choose your favorites and download in high resolution"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:e.map((n,s)=>l.jsx(ge,{className:"overflow-hidden bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all group",children:l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:n,alt:`Headshot ${s+1}`,className:"w-full h-80 object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:l.jsxs(G,{onClick:()=>t(n),className:"w-full bg-primary hover:bg-primary/90",children:[l.jsx(xf,{className:"w-4 h-4 mr-2"}),"Download"]})})]})},s))}),l.jsx("div",{className:"text-center",children:l.jsx(G,{variant:"outline",size:"lg",onClick:r,className:"border-primary text-primary hover:bg-primary/10",children:"Generate More Headshots"})})]}),Xv=({status:e,description:t,progress:r=50})=>{const s={training:"Training AI model with your photos...",generating:"Generating professional headshots...",completed:"Your headshots are ready!"}[e]||e,o=t||(e==="completed"?"Processing complete! View your results below.":"This may take a few minutes. Please don't close this page.");return l.jsx("div",{className:"max-w-2xl mx-auto px-6 py-12",children:l.jsx(ge,{className:"p-8 bg-card border-border shadow-[var(--shadow-card)]",children:l.jsxs("div",{className:"text-center",children:[e==="completed"?l.jsx(Wj,{className:"w-16 h-16 mx-auto mb-4 text-primary animate-scale-in"}):l.jsx(ja,{className:"w-16 h-16 mx-auto mb-4 text-primary animate-spin"}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:s}),l.jsx("p",{className:"text-muted-foreground mb-8",children:o}),l.jsx(qp,{value:r,className:"h-2 mb-4"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[r,"% complete"]})]})})})};function K$({className:e,...t}){return l.jsx("div",{className:W("animate-pulse rounded-md bg-muted",e),...t})}const q$=({images:e,expectedCount:t=4})=>{const r=Math.max(0,t-e.length),n=Array(r).fill(null);return l.jsxs("div",{className:"w-full space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Generating Images (",e.filter(s=>s.status==="completed").length,"/",t,")"]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(ja,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{children:"Processing..."})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.map(s=>l.jsx(Q$,{image:s},s.id)),n.map((s,o)=>l.jsx(Y$,{},`placeholder-${o}`))]})]})},Q$=({image:e})=>l.jsx(ge,{className:"overflow-hidden",children:l.jsx(ye,{className:"p-0",children:l.jsx("div",{className:"relative aspect-square",children:e.status==="completed"&&e.url?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:e.url,alt:"Generated headshot",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white rounded-full p-1",children:l.jsx(ox,{className:"h-4 w-4"})})]}):e.status==="generating"?l.jsxs("div",{className:"w-full h-full bg-muted flex flex-col items-center justify-center gap-3",children:[l.jsx(ja,{className:"h-8 w-8 animate-spin text-primary"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating..."})]}):e.status==="failed"?l.jsxs("div",{className:"w-full h-full bg-destructive/10 flex flex-col items-center justify-center gap-3",children:[l.jsx(sx,{className:"h-8 w-8 text-destructive"}),l.jsx("p",{className:"text-sm text-destructive",children:"Generation failed"})]}):l.jsx(K$,{className:"w-full h-full"})})})}),Y$=()=>l.jsx(ge,{className:"overflow-hidden",children:l.jsx(ye,{className:"p-0",children:l.jsx("div",{className:"relative aspect-square",children:l.jsxs("div",{className:"w-full h-full bg-muted/50 flex flex-col items-center justify-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-muted-foreground/20"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})})})});class J${constructor(){dm(this,"edgeFunctionUrl","https://phydoessspnvnspctjnd.supabase.co/functions/v1/generate-headshot")}async trainModel(t){var u;const{images:r,modelName:n,userId:s,accessToken:o}=t,i=r.map(d=>new Promise((f,m)=>{const p=new FileReader;p.onload=()=>f(p.result),p.onerror=m,p.readAsDataURL(d)})),a=await Promise.all(i);console.log(" trainModel - Images array length:",a.length),console.log(" trainModel - First image preview:",(u=a[0])==null?void 0:u.substring(0,100)),console.log(" trainModel - Model name:",n);const c=await fetch(this.edgeFunctionUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({action:"train_model",images:a,title:n,name:n.replace(/[^a-zA-Z0-9\s]/g,""),user_id:s})});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.error||`Training failed: ${c.statusText}`)}return await c.json()}async createModelRecord(t,r,n){return be.createModel({user_id:t,astria_model_id:r,name:n,status:"training"})}async createSampleRecords(t,r,n){const s=t.map(o=>be.createSample({user_id:r,model_id:n,file_name:o.name,file_path:"",file_size:o.size}));return Promise.all(s)}async checkModelStatus(t,r){const n=await fetch(this.edgeFunctionUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({action:"check_status",tune_id:t})});if(!n.ok){const s=await n.json().catch(()=>({}));throw new Error(s.error||`Status check failed: ${n.statusText}`)}return await n.json()}async updateModelStatus(t,r){return be.updateModel(t,{status:r})}async generateImage(t){const{modelId:r,prompt:n,customPrompt:s,style:o,gender:i,numImages:a=4,accessToken:c}=t,u=await fetch(this.edgeFunctionUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({action:"generate_image",model_id:r,prompt:n,custom_prompt:s,style:o,gender:i,num_images:a})});if(!u.ok){const d=await u.json().catch(()=>({}));throw new Error(d.error||`Generation failed: ${u.statusText}`)}return await u.json()}async getModel(t){return be.getModel(t)}async getModelImages(t){return be.getModelImages(t)}async downloadImage(t,r="headshot.jpg"){const n=await fetch(t);if(!n.ok)throw new Error("Failed to download image");const s=await n.blob(),o=window.URL.createObjectURL(s),i=document.createElement("a");i.href=o,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o)}async getCurrentUser(){return be.getCurrentUser()}async getUserCredits(t){return be.getUserCredits(t)}async saveCustomPrompt(t,r){try{const{error:n}=await ee.from("profiles").update({custom_astria_prompt:r}).eq("id",t);return n?(console.error("Error saving custom prompt:",n),!1):!0}catch(n){return console.error("Exception saving custom prompt:",n),!1}}async getCustomPrompt(t){try{const{data:r,error:n}=await ee.from("profiles").select("custom_astria_prompt").eq("id",t).single();return n?(console.error("Error fetching custom prompt:",n),null):(r==null?void 0:r.custom_astria_prompt)||null}catch(r){return console.error("Exception fetching custom prompt:",r),null}}async getAccessToken(){const{data:{session:t},error:r}=await ee.auth.getSession();if(r||!t)throw new Error("No active session");return t.access_token}async listTrainedModels(t){const r=await fetch(this.edgeFunctionUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({action:"list_models"})});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Error(s.error||`Failed to list models: ${r.statusText}`)}return(await r.json()).models||[]}}const Ae=new J$,X$=()=>{const[e,t]=h.useState("upload"),[r,n]=h.useState(0),[s,o]=h.useState([]),[i,a]=h.useState(null),[c,u]=h.useState([]),[d,f]=h.useState(null),[m,p]=h.useState([]),[w,g]=h.useState([]),[b,y]=h.useState(!1),[v,x]=h.useState("professional"),[S,_]=h.useState("man"),[C,E]=h.useState(""),{toast:k}=Et(),N=at();h.useEffect(()=>{j()},[]);const j=async()=>{try{const A=await Ae.getCurrentUser();if(!A){N("/login");return}const L=await Ae.getUserCredits(A.id);n(L);const F=await Ae.getCustomPrompt(A.id);F&&E(F);const q=await Ae.getAccessToken(),H=await Ae.listTrainedModels(q);u(H),console.log(" Loaded trained models:",H.length)}catch(A){console.error("Error loading user data:",A),k({title:"Error",description:"Failed to load your account information",variant:"destructive"})}},I=async A=>{if(console.log(" Generate headshots button clicked - Starting debug"),console.log(" User credits:",r),console.log(" Files selected:",A.length),r<1){console.error(" Insufficient credits:",r),k({title:"Insufficient Credits",description:"You need at least 1 credit to generate headshots. Purchase more credits to continue.",variant:"destructive"});return}o(A),t("training"),y(!0);try{console.log(" Getting user authentication...");const L=await Ae.getCurrentUser();if(!L)throw console.error(" User not authenticated"),new Error("User not authenticated");console.log(" User authenticated:",L.id);const F=`headshots-${Date.now()}`;console.log(" Model name created:",F),console.log(" Getting access token...");const q=await Ae.getAccessToken();console.log(" Access token obtained"),console.log(" Training model...");const H=await Ae.trainModel({images:A,modelName:F,userId:L.id,accessToken:q});if(!H.success||!H.tune_id)throw new Error(H.error||"Training failed");console.log(" Training started, tune_id:",H.tune_id),console.log(" Saving model to database...");const ne=await Ae.createModelRecord(L.id,H.tune_id,F);a(ne),console.log(" Saving sample records..."),await Ae.createSampleRecords(A,L.id,ne.id),await M(H.tune_id,ne.id)}catch(L){console.error(" COMPLETE ERROR DETAILS:"),console.error("Error object:",L),console.error("Error message:",L instanceof Error?L.message:"Unknown error"),console.error("Error stack:",L instanceof Error?L.stack:"No stack trace"),k({title:"Training Failed",description:`Failed to train your model: ${L instanceof Error?L.message:"Unknown error"}. Check console for details.`,variant:"destructive"}),t("upload"),y(!1)}},M=async(A,L)=>{let q=0;const H=async()=>{try{const ne=await Ae.getAccessToken(),ue=await Ae.checkModelStatus(A,ne);if(!ue.success)throw new Error(ue.error||"Failed to check model status");const $=ue.status||"unknown";if(await Ae.updateModelStatus(L,$),$==="trained")await D(L);else{if($==="failed")throw new Error("Model training failed");if(q<60)q++,setTimeout(H,5e3);else throw new Error("Training timeout - model took too long to train")}}catch(ne){throw console.error("Error checking model status:",ne),ne}};await H()},Y=async A=>{let F=0;const q=async()=>{try{const H=await Ae.getModelImages(A),ne=H.filter(te=>te.url&&te.status==="completed"),ue=H.filter(te=>te.status==="generating"),$=H.filter(te=>te.status==="failed"),fe=H.map(te=>({id:te.id,url:te.url||"",status:te.status,created_at:te.created_at}));if(g(fe),console.log(`Image status check: ${ne.length} completed, ${ue.length} generating, ${$.length} failed`),ne.length>=3)return ne.map(te=>te.url).filter(Boolean);if(ue.length===0&&ne.length===0)throw new Error("All image generation failed");if(F<60)return F++,await new Promise(te=>setTimeout(te,1e4)),q();if(ne.length>0)return ne.map(te=>te.url).filter(Boolean);throw new Error("Image generation timeout - images took too long to complete")}catch(H){throw console.error("Error checking image completion:",H),H}};return await q()},D=async A=>{t("generating");try{if(!await Ae.getCurrentUser())throw new Error("User not authenticated");const F="professional headshot, business attire, clean background, high quality, studio lighting, corporate portrait",q=await Ae.getAccessToken(),H=await Ae.generateImage({modelId:A,prompt:F,customPrompt:C||void 0,style:v,gender:S,numImages:4,accessToken:q});if(!H.success)throw new Error(H.error||"Failed to generate images");console.log("Generation started, polling for completion...");const ne=await Y(A);p(ne),t("completed"),y(!1),k({title:" Headshots Generated!",description:`Successfully generated ${ne.length} professional headshots. They are now displayed below.`,variant:"default"}),console.log(" Headshots generation completed successfully:",ne.length)}catch(L){console.error("Error generating headshots:",L),k({title:"Generation Failed",description:"Failed to generate headshots. Please try again.",variant:"destructive"}),t("upload"),y(!1)}};return{currentStep:e,userCredits:r,selectedFiles:s,currentModel:i,trainedModels:c,selectedModelId:d,generatedImages:m,allGeneratedImages:w,isProcessing:b,selectedStyle:v,selectedGender:S,customPrompt:C,setSelectedStyle:x,setSelectedGender:_,setCustomPrompt:E,setSelectedModelId:f,handlePhotosSelected:I,handleDownload:async A=>{try{await Ae.downloadImage(A,`headshot-${Date.now()}.jpg`)}catch{k({title:"Download Failed",description:"Failed to download image. Please try again.",variant:"destructive"})}},handleStartNew:()=>{t("upload"),o([]),a(null),p([]),g([]),y(!1)},handleSaveCustomPrompt:async()=>{try{const A=await Ae.getCurrentUser();if(!A){k({title:"Error",description:"You must be logged in to save custom prompts",variant:"destructive"});return}const L=await Ae.saveCustomPrompt(A.id,C);k(L?{title:"Custom Prompt Saved",description:"Your custom prompt has been saved and will be used for future generations"}:{title:"Save Failed",description:"Failed to save custom prompt. Please try again.",variant:"destructive"})}catch(A){console.error("Error saving custom prompt:",A),k({title:"Error",description:"An error occurred while saving your custom prompt",variant:"destructive"})}},handleGenerateWithExistingModel:async()=>{if(!d){k({title:"No Model Selected",description:"Please select a trained model to generate images",variant:"destructive"});return}if(r<4){k({title:"Insufficient Credits",description:"You need at least 4 credits to generate headshots. Purchase more credits to continue.",variant:"destructive"});return}y(!0),t("generating");try{console.log(" Generating with existing model ID:",d),await D(d)}catch(A){console.error("Error generating with existing model:",A),k({title:"Generation Failed",description:"Failed to generate images with selected model. Please try again.",variant:"destructive"}),t("upload"),y(!1)}},handleGenerateWithGemini:async()=>{if(r<1){k({title:"Insufficient Credits",description:"You need at least 1 credit to generate headshots with Gemini.",variant:"destructive"});return}y(!0),t("generating");try{console.log(" Generating with Gemini AI enhancement...");const A=await Ae.getAccessToken(),L=await Ae.generateImage({modelId:0,prompt:"professional headshot, business attire, clean background, high quality, studio lighting, corporate portrait",customPrompt:C||void 0,style:v,gender:S,numImages:4,accessToken:A});if(!L.success)throw new Error(L.error||"Failed to generate images");console.log(" Gemini generation started...");const F=await Y(0);p(F),t("completed"),y(!1),k({title:" Headshots Generated!",description:`Successfully generated ${F.length} headshots with Gemini AI.`,variant:"default"}),console.log(" Gemini headshots generation completed:",F.length)}catch(A){console.error("Error generating with Gemini:",A),k({title:"Generation Failed",description:"Failed to generate images with Gemini. Please try again.",variant:"destructive"}),t("upload"),y(!1)}}}},Z$=async(e,t)=>{var r,n;console.log(" Testing edge function configuration..."),console.log(" Current URL:",window.location.href),console.log(" Supabase client configured");try{console.log(" Getting current user and session...");const s=await be.getCurrentUser(),{data:{session:o}}=await ee.auth.getSession();if(console.log(" User:",(s==null?void 0:s.id)||"No user"),console.log(" Session exists:",!!o),console.log(" Token length:",((r=o==null?void 0:o.access_token)==null?void 0:r.length)||0),!o){console.error(" No session for config test"),e({title:"Configuration Test Failed",description:"No user session found. Please login.",variant:"destructive"});return}console.log(" Test 1: Basic edge function connectivity...");const i=await fetch("https://imzlzufdujhcbebibgpj.supabase.co/functions/v1/generate-headshot",{method:"POST",headers:{Authorization:`Bearer ${o.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"list_models"})});console.log(" Config test response status:",i.status),console.log(" Config test response headers:",Object.fromEntries(i.headers.entries()));const a=await i.text();console.log(" Config test response body:",a);let c="Unknown",u="";if(i.status===200){c=" Edge function accessible";try{u=`Models found: ${((n=JSON.parse(a).models)==null?void 0:n.length)||0}`}catch{u="Response parsed successfully"}}else i.status===401?(c=" Authentication failed",u="JWT token invalid or expired",t("/login")):i.status===500?(c=" Server configuration error",a.includes("ASTRIA_API_KEY")?u="ASTRIA_API_KEY not configured in Supabase":a.includes("Database configuration")?u="Database configuration missing":u="Internal server error - check logs"):(c=` HTTP ${i.status}`,u=a.substring(0,100));console.log(" Test 2: Checking user credits...");const d=await be.getUserCredits(s.id);console.log(" User credits:",d),console.log(" Test 3: Testing database connectivity...");try{const f=await be.getUserModels(s.id);console.log(" User models count:",f.length)}catch(f){console.error(" Database test failed:",f)}e({title:"Configuration Test Complete",description:`${c}. ${u}. Check console for full details.`,variant:i.status===200?"default":"destructive"})}catch(s){console.error(" Configuration test failed:",s),e({title:"Configuration Test Failed",description:s instanceof Error?s.message:"Unknown error",variant:"destructive"})}},e4=()=>{const e=at(),{toast:t}=Et(),{t:r}=mr(),{currentStep:n,userCredits:s,isProcessing:o,selectedStyle:i,selectedGender:a,customPrompt:c,generatedImages:u,allGeneratedImages:d,trainedModels:f,setSelectedStyle:m,setSelectedGender:p,setCustomPrompt:w,handlePhotosSelected:g,handleDownload:b,handleStartNew:y,handleSaveCustomPrompt:v,handleGenerateWithExistingModel:x,handleGenerateWithGemini:S}=X$(),_=()=>{switch(n){case"upload":return f.length===0?l.jsx(I$,{onPhotosSelected:g}):null;case"training":return l.jsx(Xv,{status:r("generator.training"),description:r("generator.trainingDesc")});case"generating":return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Xv,{status:r("generator.generating"),description:r("generator.generatingDesc")}),d.length>0&&l.jsx(q$,{images:d,expectedCount:4})]});case"completed":return l.jsx(G$,{images:u,onDownload:b,onStartNew:y});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(G,{variant:"ghost",onClick:()=>e("/overview"),disabled:o,children:[l.jsx(qc,{className:"w-4 h-4 mr-2"}),r("common.back")]}),l.jsx("h1",{className:"text-2xl font-bold",children:r("generator.title")})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(G,{variant:"outline",onClick:()=>e("/gallery"),disabled:o,children:[l.jsx(Ng,{className:"w-4 h-4 mr-2"}),r("common.gallery")]}),l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>Z$(t,e),disabled:o,className:"text-xs",children:r("generator.testConfig")}),l.jsx(Xr,{}),l.jsx(ge,{className:"px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uc,{className:"w-4 h-4 text-yellow-500"}),l.jsxs("span",{className:"font-medium",children:[s," ",r("common.credits").toLowerCase()]})]})}),s<5&&l.jsxs(G,{variant:"outline",onClick:()=>e("/credits"),children:[l.jsx(wf,{className:"w-4 h-4 mr-2"}),r("generator.getMoreCredits")]})]})]})}),l.jsxs("main",{className:"container py-8",children:[n==="upload"&&l.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:l.jsxs(ge,{children:[l.jsxs(st,{children:[l.jsx(ot,{children:r("generator.professional")}),l.jsx(At,{children:r("generator.professionalDesc")})]}),l.jsxs(ye,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-6 border-2 border-primary rounded-lg bg-primary/5 text-center",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(ms,{className:"h-8 w-8 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold",children:r("generator.generateTitle")}),l.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:r("generator.generateDesc")})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(G,{onClick:x,disabled:o,size:"lg",className:"gap-2 px-8 py-6 text-lg",children:[l.jsx(Ng,{className:"h-6 w-6"}),r("generator.generateNow")]}),l.jsxs(G,{onClick:S,disabled:o,size:"lg",variant:"outline",className:"gap-2 px-8 py-6 text-lg",children:[l.jsx(ms,{className:"h-6 w-6"}),"Generate with Gemini"]})]})]}),l.jsx(V$,{selectedStyle:i,setSelectedStyle:m,selectedGender:a,setSelectedGender:p}),l.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(dt,{htmlFor:"customPrompt",className:"text-base font-semibold",children:r("generator.customPrompt")}),l.jsxs(G,{variant:"outline",size:"sm",onClick:v,className:"gap-2",children:[l.jsx(Xj,{className:"h-4 w-4"}),r("generator.saveDefault")]})]}),l.jsx(W1,{id:"customPrompt",placeholder:r("generator.customPromptPlaceholder"),value:c,onChange:C=>w(C.target.value),rows:3,className:"resize-none"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:r("generator.customPromptHint")})]}),l.jsx(W$,{})]})]})}),_()]})]})};async function t4(e,t){const{data:{session:r}}=await ee.auth.getSession();if(!r)throw new Error("User not authenticated");const n=await fetch("https://imzlzufdujhcbebibgpj.supabase.co/functions/v1/image-lifecycle",{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:e,...t})});if(!n.ok){const s=await n.json();throw new Error(s.error||"Lifecycle function failed")}return await n.json()}async function r4(e,t){const r=await t4("extend_image_life",{image_id:e,user_id:t});if(!r.success)throw new Error(r.error||"Failed to extend image life")}function Zv(e){const t=new Date(e),r=new Date(t.getTime()+60*60*1e3),n=new Date,s=r.getTime()-n.getTime(),o=Math.max(0,Math.floor(s/(60*1e3))),i=s<=0;let a;if(i)a="Expired";else if(o<1)a=`${Math.max(0,Math.floor(s/1e3))}s left`;else if(o<60)a=`${o}m left`;else{const c=Math.floor(o/60),u=o%60;a=`${c}h ${u}m left`}return{expiresAt:r,timeLeftMs:s,timeLeftMinutes:o,isExpired:i,timeLeftText:a}}function ey(e){return e<=0?"text-red-600":e<=10?"text-orange-600":e<=30?"text-yellow-600":"text-green-600"}function ty(e){return e<=10&&e>0}const iE={"4K":{name:"4K",width:3840,height:2160,quality:.95,label:"4K Ultra HD"},"1080p":{name:"1080p",width:1920,height:1080,quality:.9,label:"1080p Full HD"},"720p":{name:"720p",width:1280,height:720,quality:.85,label:"720p HD"},original:{name:"original",width:0,height:0,quality:1,label:"Original Quality"}};function n4(e,t){return new Promise((r,n)=>{const s=document.createElement("canvas"),o=s.getContext("2d");if(!o){n(new Error("Canvas context not available"));return}const i=e.naturalWidth,a=e.naturalHeight,c=i/a;let u,d;t.name==="original"?(u=i,d=a):c>1?(u=Math.min(t.width,i),d=Math.round(u/c)):(d=Math.min(t.height,a),u=Math.round(d*c)),s.width=u,s.height=d,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(e,0,0,u,d),s.toBlob(f=>{f?r(f):n(new Error("Failed to create image blob"))},"image/jpeg",t.quality)})}function s4(e){return new Promise((t,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>t(n),n.onerror=()=>r(new Error("Failed to load image")),n.src=e})}async function o4(e,t,r){try{const n=iE[t];if(!n)throw new Error(`Invalid resolution: ${t}`);if(t==="original"){const c=await(await fetch(e)).blob();ry(c,r||`headshot_original_${Date.now()}.jpg`);return}const s=await s4(e),o=await n4(s,n),i=r||`headshot_${n.name}_${Date.now()}.jpg`;ry(o,i)}catch(n){throw console.error("Error downloading image with resolution:",n),n}}function ry(e,t){const r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)}function i4(){const e=document.createElement("canvas");return!!(e.getContext("2d")&&e.toBlob&&window.URL&&window.URL.createObjectURL)}const a4=()=>{const e=at(),{toast:t}=Et(),[r,n]=h.useState(!0),[s,o]=h.useState([]),[i,a]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState({}),[m,p]=h.useState(""),[w,g]=h.useState("all"),[b,y]=h.useState("newest"),[v,x]=h.useState("grid"),S=async()=>{try{const E=await be.getCurrentUser();if(!E){e("/login");return}const N=await be.getUserImages(E.id),j=N.filter(I=>I.status==="generating"||I.status==="pending");o(N),u(j)}catch(E){console.error("Error loading gallery:",E),t({title:"Error",description:"Failed to load gallery images",variant:"destructive"})}finally{n(!1)}};h.useEffect(()=>{let E=s.filter(k=>k.status==="completed");m&&(E=E.filter(k=>{var N;return((N=k.prompt)==null?void 0:N.toLowerCase().includes(m.toLowerCase()))||k.id.toString().includes(m)})),w!=="all"&&(E=E.filter(k=>k.status===w)),b==="newest"?E.sort((k,N)=>new Date(N.created_at).getTime()-new Date(k.created_at).getTime()):b==="oldest"?E.sort((k,N)=>new Date(k.created_at).getTime()-new Date(N.created_at).getTime()):b==="prompt"&&E.sort((k,N)=>(k.prompt||"").localeCompare(N.prompt||"")),a(E)},[s,m,w,b]),h.useEffect(()=>{const E=s.filter(j=>j.status==="completed"),k={};E.forEach(j=>{const I=Zv(j.created_at);k[j.id]={...I,expiresAt:I.expiresAt}}),f(k);const N=setInterval(()=>{const j={};E.forEach(I=>{const M=Zv(I.created_at);j[I.id]={...M,expiresAt:M.expiresAt}}),f(j)},3e4);return()=>clearInterval(N)},[s]);const _=async(E,k)=>{try{!i4()&&k!=="original"&&(t({title:"Resolution Not Supported",description:"Your browser does not support image processing. Downloading original quality.",variant:"destructive"}),k="original"),await o4(E,k);const N=iE[k];t({title:"Download Started",description:`${N.label} download started successfully`})}catch(N){console.error("Download error:",N),t({title:"Download Failed",description:N instanceof Error?N.message:"Failed to download image",variant:"destructive"})}},C=async(E,k)=>{try{await r4(E,k),await S(),t({title:"Life Extended",description:"Image life extended by 1 hour"})}catch(N){console.error("Error extending image life:",N),t({title:"Extension Failed",description:N instanceof Error?N.message:"Failed to extend image life",variant:"destructive"})}};return h.useEffect(()=>{S()},[]),{isLoading:r,images:s,filteredImages:i,pendingImages:c,imageExpiries:d,searchTerm:m,statusFilter:w,sortBy:b,viewMode:v,setSearchTerm:p,setStatusFilter:g,setSortBy:y,setViewMode:x,loadGalleryData:S,downloadWithResolution:_,handleExtendImageLife:C}},l4=({searchTerm:e,setSearchTerm:t,statusFilter:r,setStatusFilter:n,sortBy:s,setSortBy:o})=>l.jsx(ge,{className:"mb-6",children:l.jsx(ye,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Zj,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),l.jsx(Rr,{placeholder:"Search by prompt or ID...",value:e,onChange:i=>t(i.target.value),className:"pl-10"})]})}),l.jsxs(Ho,{value:r,onValueChange:n,children:[l.jsxs(ks,{className:"w-[150px]",children:[l.jsx(Kj,{className:"w-4 h-4 mr-2"}),l.jsx(Ec,{})]}),l.jsxs(js,{children:[l.jsx(De,{value:"all",children:"All Status"}),l.jsx(De,{value:"completed",children:"Completed"}),l.jsx(De,{value:"generating",children:"Generating"}),l.jsx(De,{value:"failed",children:"Failed"})]})]}),l.jsxs(Ho,{value:s,onValueChange:o,children:[l.jsx(ks,{className:"w-[150px]",children:l.jsx(Ec,{})}),l.jsxs(js,{children:[l.jsx(De,{value:"newest",children:"Newest First"}),l.jsx(De,{value:"oldest",children:"Oldest First"}),l.jsx(De,{value:"prompt",children:"By Prompt"})]})]})]})})}),c4=({images:e,viewMode:t,imageExpiries:r,downloadWithResolution:n,handleExtendImageLife:s})=>t==="grid"?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:e.map(o=>l.jsx(ge,{className:"group",children:l.jsxs(ye,{className:"p-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:o.url,alt:o.prompt||`Image ${o.id}`,className:"w-full h-32 object-cover rounded-lg"}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-2",children:l.jsxs(Ho,{children:[l.jsx(ks,{asChild:!0,children:l.jsxs(G,{size:"sm",variant:"secondary",children:[l.jsx(xf,{className:"w-4 h-4 mr-2"}),"Download"]})}),l.jsxs(js,{children:[l.jsx(De,{value:"original",onClick:()=>n(o.url,"original"),children:"Original Quality"}),l.jsx(De,{value:"4K",onClick:()=>n(o.url,"4K"),children:"4K Ultra HD (3840x2160)"}),l.jsx(De,{value:"1080p",onClick:()=>n(o.url,"1080p"),children:"1080p Full HD (1920x1080)"}),l.jsx(De,{value:"720p",onClick:()=>n(o.url,"720p"),children:"720p HD (1280x720)"})]})]})})]}),o.prompt&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2 truncate",title:o.prompt,children:o.prompt}),r[o.id]&&l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("div",{className:`flex items-center gap-1 text-xs ${ey(r[o.id].timeLeftMinutes)}`,children:[l.jsx(ta,{className:"w-3 h-3"}),l.jsx("span",{children:r[o.id].timeLeftText})]}),ty(r[o.id].timeLeftMinutes)&&l.jsxs(G,{size:"sm",variant:"outline",onClick:()=>s(o.id.toString(),o.user_id),className:"h-6 px-2 text-xs",children:[l.jsx(_f,{className:"w-3 h-3 mr-1"}),"+1h"]})]})]})},o.id))}):l.jsx("div",{className:"space-y-4",children:e.map(o=>l.jsx(ge,{children:l.jsx(ye,{className:"p-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("img",{src:o.url,alt:o.prompt||`Image ${o.id}`,className:"w-24 h-24 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"font-medium",children:["Image #",o.id]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:o.prompt}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(o.created_at).toLocaleDateString(),"  Status: ",o.status]}),r[o.id]&&l.jsxs("div",{className:`flex items-center gap-1 text-xs ${ey(r[o.id].timeLeftMinutes)}`,children:[l.jsx(ta,{className:"w-3 h-3"}),l.jsx("span",{children:r[o.id].timeLeftText})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[r[o.id]&&ty(r[o.id].timeLeftMinutes)&&l.jsxs(G,{size:"sm",variant:"outline",onClick:()=>s(o.id.toString(),o.user_id),className:"h-8",children:[l.jsx(_f,{className:"w-4 h-4 mr-1"}),"Extend +1h"]}),l.jsxs(Ho,{children:[l.jsx(ks,{asChild:!0,children:l.jsxs(G,{variant:"outline",size:"sm",children:[l.jsx(xf,{className:"w-4 h-4 mr-2"}),"Download"]})}),l.jsxs(js,{children:[l.jsx(De,{value:"original",onClick:()=>n(o.url,"original"),children:"Original Quality"}),l.jsx(De,{value:"4K",onClick:()=>n(o.url,"4K"),children:"4K Ultra HD (3840x2160)"}),l.jsx(De,{value:"1080p",onClick:()=>n(o.url,"1080p"),children:"1080p Full HD (1920x1080)"}),l.jsx(De,{value:"720p",onClick:()=>n(o.url,"720p"),children:"720p HD (1280x720)"})]})]})]})]})})},o.id))}),u4="/test_nano_banana.jpg",d4=()=>{const e=at(),{t}=mr(),{isLoading:r,filteredImages:n,pendingImages:s,imageExpiries:o,searchTerm:i,statusFilter:a,sortBy:c,viewMode:u,setSearchTerm:d,setStatusFilter:f,setSortBy:m,setViewMode:p,downloadWithResolution:w,handleExtendImageLife:g}=a4();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(G,{variant:"ghost",onClick:()=>e("/overview"),children:[l.jsx(qc,{className:"w-4 h-4 mr-2"}),t("common.back")]}),l.jsx("h1",{className:"text-2xl font-bold",children:t("gallery.title")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xr,{}),l.jsx(G,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>p("grid"),children:l.jsx(Qj,{className:"w-4 h-4"})}),l.jsx(G,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>p("list"),children:l.jsx(Yj,{className:"w-4 h-4"})})]})]})}),l.jsxs("main",{className:"container py-8",children:[l.jsx(ge,{className:"mb-6",children:l.jsxs(ye,{className:"pt-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Test Image"}),l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:u4,alt:"Test Nano Banana",className:"max-w-md rounded-lg shadow-lg"})})]})}),s.length>0&&l.jsx(ge,{className:"mb-6",children:l.jsxs(ye,{className:"pt-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[t("gallery.pending")," (",s.length,")"]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map(b=>l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-32 bg-muted rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),l.jsx("div",{className:"absolute bottom-2 left-2 bg-background/80 px-2 py-1 rounded text-xs",children:b.status})]},b.id))})]})}),l.jsx(l4,{searchTerm:i,setSearchTerm:d,statusFilter:a,setStatusFilter:f,sortBy:c,setSortBy:m}),l.jsx(c4,{images:n,viewMode:u,imageExpiries:o,downloadWithResolution:w,handleExtendImageLife:g}),n.length===0&&l.jsx(ge,{children:l.jsx(ye,{className:"pt-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:t("gallery.noImages")}),l.jsx("p",{className:"text-muted-foreground mb-4",children:t(i||a!=="all"?"gallery.noImagesHint":"gallery.noImagesEmpty")}),l.jsx(G,{onClick:()=>e("/generate"),children:t("gallery.generateHeadshots")})]})})})]})]})},ny=({children:e})=>{const[t,r]=h.useState(!0),[n,s]=h.useState(!1),o=at(),{toast:i}=Et();h.useEffect(()=>{a()},[]);const a=async()=>{try{console.log(" AdminRoute: Checking admin access...");const c=await be.getCurrentUser();if(!c){console.log(" AdminRoute: User not authenticated, redirecting to login"),i({title:"Authentication Required",description:"Please log in to access admin features.",variant:"destructive"}),o("/login");return}console.log(" AdminRoute: User authenticated:",c.email);const u=await be.getUserRoles(c.id);if(console.log(" AdminRoute: User roles:",u),!(u.includes("admin")||u.includes("super_admin"))){console.log(" AdminRoute: User does not have admin privileges, redirecting to overview"),i({title:"Access Denied",description:"You do not have permission to access admin features.",variant:"destructive"}),o("/overview");return}console.log(" AdminRoute: Admin access granted"),s(!0)}catch(c){console.error(" AdminRoute: Error checking admin access:",c),i({title:"Access Check Failed",description:"Unable to verify admin permissions. Please try again.",variant:"destructive"}),o("/overview")}finally{r(!1)}};return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(ja,{className:"w-8 h-8 animate-spin text-primary"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying admin access..."})]})}):n?l.jsx(l.Fragment,{children:e}):null},bd=({children:e})=>{const[t,r]=h.useState(!0),[n,s]=h.useState(!1),o=at();h.useEffect(()=>{i()},[]);const i=async()=>{const a=await be.getCurrentUser();s(!!a),a||o("/login"),r(!1)};return t?l.jsx(ja,{className:"animate-spin"}):n?l.jsx(l.Fragment,{children:e}):null},f4=new TP,h4=()=>l.jsx(PP,{client:f4,children:l.jsx(OA,{defaultTheme:"system",storageKey:"headshots-ai-theme",children:l.jsx(xO,{children:l.jsxs(rP,{children:[l.jsx(FN,{}),l.jsx(yT,{}),l.jsx(TA,{children:l.jsxs(SA,{children:[l.jsx(Zt,{path:"/",element:l.jsx(GD,{})}),l.jsx(Zt,{path:"/home",element:l.jsx(eL,{})}),l.jsx(Zt,{path:"/login",element:l.jsx(lL,{})}),l.jsx(Zt,{path:"/overview",element:l.jsx(cL,{})}),l.jsx(Zt,{path:"/generate",element:l.jsx(bd,{children:l.jsx(e4,{})})}),l.jsx(Zt,{path:"/gallery",element:l.jsx(bd,{children:l.jsx(d4,{})})}),l.jsx(Zt,{path:"/admin",element:l.jsx(ny,{children:l.jsx(A$,{})})}),l.jsx(Zt,{path:"/admin/train",element:l.jsx(ny,{children:l.jsx(Yv,{})})}),l.jsx(Zt,{path:"/train",element:l.jsx(bd,{children:l.jsx(Yv,{})})}),l.jsx(Zt,{path:"*",element:l.jsx(tL,{})})]})})]})})})});j0(document.getElementById("root")).render(l.jsx(h4,{}));
